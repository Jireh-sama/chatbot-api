var Qm=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)};var L=(t,e,n)=>(Qm(t,e,"read from private field"),n?n.call(t):e.get(t)),se=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},Z=(t,e,n,r)=>(Qm(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n);var uh=(t,e,n,r)=>({set _(i){Z(t,e,i,n)},get _(){return L(t,e,r)}}),Te=(t,e,n)=>(Qm(t,e,"access private method"),n);function i1(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function ww(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var s1={exports:{}},Pp={},o1={exports:{}},Ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vd=Symbol.for("react.element"),SL=Symbol.for("react.portal"),bL=Symbol.for("react.fragment"),CL=Symbol.for("react.strict_mode"),RL=Symbol.for("react.profiler"),IL=Symbol.for("react.provider"),PL=Symbol.for("react.context"),AL=Symbol.for("react.forward_ref"),kL=Symbol.for("react.suspense"),NL=Symbol.for("react.memo"),DL=Symbol.for("react.lazy"),qE=Symbol.iterator;function ML(t){return t===null||typeof t!="object"?null:(t=qE&&t[qE]||t["@@iterator"],typeof t=="function"?t:null)}var a1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},l1=Object.assign,u1={};function Wl(t,e,n){this.props=t,this.context=e,this.refs=u1,this.updater=n||a1}Wl.prototype.isReactComponent={};Wl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Wl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function c1(){}c1.prototype=Wl.prototype;function _w(t,e,n){this.props=t,this.context=e,this.refs=u1,this.updater=n||a1}var Ew=_w.prototype=new c1;Ew.constructor=_w;l1(Ew,Wl.prototype);Ew.isPureReactComponent=!0;var QE=Array.isArray,d1=Object.prototype.hasOwnProperty,Tw={current:null},h1={key:!0,ref:!0,__self:!0,__source:!0};function f1(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)d1.call(e,r)&&!h1.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:vd,type:t,key:s,ref:o,props:i,_owner:Tw.current}}function OL(t,e){return{$$typeof:vd,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function xw(t){return typeof t=="object"&&t!==null&&t.$$typeof===vd}function LL(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var YE=/\/+/g;function Ym(t,e){return typeof t=="object"&&t!==null&&t.key!=null?LL(""+t.key):e.toString(36)}function Qh(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case vd:case SL:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Ym(o,0):r,QE(i)?(n="",t!=null&&(n=t.replace(YE,"$&/")+"/"),Qh(i,e,n,"",function(u){return u})):i!=null&&(xw(i)&&(i=OL(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(YE,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",QE(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+Ym(s,a);o+=Qh(s,e,n,l,i)}else if(l=ML(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+Ym(s,a++),o+=Qh(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function ch(t,e,n){if(t==null)return t;var r=[],i=0;return Qh(t,r,"","",function(s){return e.call(n,s,i++)}),r}function VL(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var xn={current:null},Yh={transition:null},FL={ReactCurrentDispatcher:xn,ReactCurrentBatchConfig:Yh,ReactCurrentOwner:Tw};function p1(){throw Error("act(...) is not supported in production builds of React.")}Ce.Children={map:ch,forEach:function(t,e,n){ch(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ch(t,function(){e++}),e},toArray:function(t){return ch(t,function(e){return e})||[]},only:function(t){if(!xw(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ce.Component=Wl;Ce.Fragment=bL;Ce.Profiler=RL;Ce.PureComponent=_w;Ce.StrictMode=CL;Ce.Suspense=kL;Ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=FL;Ce.act=p1;Ce.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=l1({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Tw.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)d1.call(e,l)&&!h1.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:vd,type:t.type,key:i,ref:s,props:r,_owner:o}};Ce.createContext=function(t){return t={$$typeof:PL,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:IL,_context:t},t.Consumer=t};Ce.createElement=f1;Ce.createFactory=function(t){var e=f1.bind(null,t);return e.type=t,e};Ce.createRef=function(){return{current:null}};Ce.forwardRef=function(t){return{$$typeof:AL,render:t}};Ce.isValidElement=xw;Ce.lazy=function(t){return{$$typeof:DL,_payload:{_status:-1,_result:t},_init:VL}};Ce.memo=function(t,e){return{$$typeof:NL,type:t,compare:e===void 0?null:e}};Ce.startTransition=function(t){var e=Yh.transition;Yh.transition={};try{t()}finally{Yh.transition=e}};Ce.unstable_act=p1;Ce.useCallback=function(t,e){return xn.current.useCallback(t,e)};Ce.useContext=function(t){return xn.current.useContext(t)};Ce.useDebugValue=function(){};Ce.useDeferredValue=function(t){return xn.current.useDeferredValue(t)};Ce.useEffect=function(t,e){return xn.current.useEffect(t,e)};Ce.useId=function(){return xn.current.useId()};Ce.useImperativeHandle=function(t,e,n){return xn.current.useImperativeHandle(t,e,n)};Ce.useInsertionEffect=function(t,e){return xn.current.useInsertionEffect(t,e)};Ce.useLayoutEffect=function(t,e){return xn.current.useLayoutEffect(t,e)};Ce.useMemo=function(t,e){return xn.current.useMemo(t,e)};Ce.useReducer=function(t,e,n){return xn.current.useReducer(t,e,n)};Ce.useRef=function(t){return xn.current.useRef(t)};Ce.useState=function(t){return xn.current.useState(t)};Ce.useSyncExternalStore=function(t,e,n){return xn.current.useSyncExternalStore(t,e,n)};Ce.useTransition=function(){return xn.current.useTransition()};Ce.version="18.3.1";o1.exports=Ce;var y=o1.exports;const jr=ww(y),m1=i1({__proto__:null,default:jr},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jL=y,UL=Symbol.for("react.element"),BL=Symbol.for("react.fragment"),$L=Object.prototype.hasOwnProperty,zL=jL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,WL={key:!0,ref:!0,__self:!0,__source:!0};function g1(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)$L.call(e,r)&&!WL.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:UL,type:t,key:s,ref:o,props:i,_owner:zL.current}}Pp.Fragment=BL;Pp.jsx=g1;Pp.jsxs=g1;s1.exports=Pp;var v=s1.exports,fy={},y1={exports:{}},qn={},v1={exports:{}},w1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(z,$){var Y=z.length;z.push($);e:for(;0<Y;){var ae=Y-1>>>1,ge=z[ae];if(0<i(ge,$))z[ae]=$,z[Y]=ge,Y=ae;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var $=z[0],Y=z.pop();if(Y!==$){z[0]=Y;e:for(var ae=0,ge=z.length,Se=ge>>>1;ae<Se;){var ht=2*(ae+1)-1,bt=z[ht],$e=ht+1,ze=z[$e];if(0>i(bt,Y))$e<ge&&0>i(ze,bt)?(z[ae]=ze,z[$e]=Y,ae=$e):(z[ae]=bt,z[ht]=Y,ae=ht);else if($e<ge&&0>i(ze,Y))z[ae]=ze,z[$e]=Y,ae=$e;else break e}}return $}function i(z,$){var Y=z.sortIndex-$.sortIndex;return Y!==0?Y:z.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,h=null,f=3,p=!1,T=!1,g=!1,x=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(z){for(var $=n(u);$!==null;){if($.callback===null)r(u);else if($.startTime<=z)r(u),$.sortIndex=$.expirationTime,e(l,$);else break;$=n(u)}}function I(z){if(g=!1,b(z),!T)if(n(l)!==null)T=!0,fe(N);else{var $=n(u);$!==null&&le(I,$.startTime-z)}}function N(z,$){T=!1,g&&(g=!1,E(w),w=-1),p=!0;var Y=f;try{for(b($),h=n(l);h!==null&&(!(h.expirationTime>$)||z&&!D());){var ae=h.callback;if(typeof ae=="function"){h.callback=null,f=h.priorityLevel;var ge=ae(h.expirationTime<=$);$=t.unstable_now(),typeof ge=="function"?h.callback=ge:h===n(l)&&r(l),b($)}else r(l);h=n(l)}if(h!==null)var Se=!0;else{var ht=n(u);ht!==null&&le(I,ht.startTime-$),Se=!1}return Se}finally{h=null,f=Y,p=!1}}var F=!1,C=null,w=-1,R=5,A=-1;function D(){return!(t.unstable_now()-A<R)}function M(){if(C!==null){var z=t.unstable_now();A=z;var $=!0;try{$=C(!0,z)}finally{$?k():(F=!1,C=null)}}else F=!1}var k;if(typeof _=="function")k=function(){_(M)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,xe=J.port2;J.port1.onmessage=M,k=function(){xe.postMessage(null)}}else k=function(){x(M,0)};function fe(z){C=z,F||(F=!0,k())}function le(z,$){w=x(function(){z(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_continueExecution=function(){T||p||(T=!0,fe(N))},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(z){switch(f){case 1:case 2:case 3:var $=3;break;default:$=f}var Y=f;f=$;try{return z()}finally{f=Y}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(z,$){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var Y=f;f=z;try{return $()}finally{f=Y}},t.unstable_scheduleCallback=function(z,$,Y){var ae=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?ae+Y:ae):Y=ae,z){case 1:var ge=-1;break;case 2:ge=250;break;case 5:ge=1073741823;break;case 4:ge=1e4;break;default:ge=5e3}return ge=Y+ge,z={id:d++,callback:$,priorityLevel:z,startTime:Y,expirationTime:ge,sortIndex:-1},Y>ae?(z.sortIndex=Y,e(u,z),n(l)===null&&z===n(u)&&(g?(E(w),w=-1):g=!0,le(I,Y-ae))):(z.sortIndex=ge,e(l,z),T||p||(T=!0,fe(N))),z},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(z){var $=f;return function(){var Y=f;f=$;try{return z.apply(this,arguments)}finally{f=Y}}}})(w1);v1.exports=w1;var KL=v1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HL=y,Kn=KL;function G(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var _1=new Set,_c={};function ia(t,e){Tl(t,e),Tl(t+"Capture",e)}function Tl(t,e){for(_c[t]=e,t=0;t<e.length;t++)_1.add(e[t])}var Pi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),py=Object.prototype.hasOwnProperty,GL=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,XE={},JE={};function qL(t){return py.call(JE,t)?!0:py.call(XE,t)?!1:GL.test(t)?JE[t]=!0:(XE[t]=!0,!1)}function QL(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function YL(t,e,n,r){if(e===null||typeof e>"u"||QL(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Sn(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var qt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){qt[t]=new Sn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];qt[e]=new Sn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){qt[t]=new Sn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){qt[t]=new Sn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){qt[t]=new Sn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){qt[t]=new Sn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){qt[t]=new Sn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){qt[t]=new Sn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){qt[t]=new Sn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Sw=/[\-:]([a-z])/g;function bw(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Sw,bw);qt[e]=new Sn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Sw,bw);qt[e]=new Sn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Sw,bw);qt[e]=new Sn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){qt[t]=new Sn(t,1,!1,t.toLowerCase(),null,!1,!1)});qt.xlinkHref=new Sn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){qt[t]=new Sn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Cw(t,e,n,r){var i=qt.hasOwnProperty(e)?qt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(YL(e,n,i,r)&&(n=null),r||i===null?qL(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var $i=HL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,dh=Symbol.for("react.element"),Pa=Symbol.for("react.portal"),Aa=Symbol.for("react.fragment"),Rw=Symbol.for("react.strict_mode"),my=Symbol.for("react.profiler"),E1=Symbol.for("react.provider"),T1=Symbol.for("react.context"),Iw=Symbol.for("react.forward_ref"),gy=Symbol.for("react.suspense"),yy=Symbol.for("react.suspense_list"),Pw=Symbol.for("react.memo"),is=Symbol.for("react.lazy"),x1=Symbol.for("react.offscreen"),ZE=Symbol.iterator;function bu(t){return t===null||typeof t!="object"?null:(t=ZE&&t[ZE]||t["@@iterator"],typeof t=="function"?t:null)}var ct=Object.assign,Xm;function Bu(t){if(Xm===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Xm=e&&e[1]||""}return`
`+Xm+t}var Jm=!1;function Zm(t,e){if(!t||Jm)return"";Jm=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Jm=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Bu(t):""}function XL(t){switch(t.tag){case 5:return Bu(t.type);case 16:return Bu("Lazy");case 13:return Bu("Suspense");case 19:return Bu("SuspenseList");case 0:case 2:case 15:return t=Zm(t.type,!1),t;case 11:return t=Zm(t.type.render,!1),t;case 1:return t=Zm(t.type,!0),t;default:return""}}function vy(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Aa:return"Fragment";case Pa:return"Portal";case my:return"Profiler";case Rw:return"StrictMode";case gy:return"Suspense";case yy:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case T1:return(t.displayName||"Context")+".Consumer";case E1:return(t._context.displayName||"Context")+".Provider";case Iw:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Pw:return e=t.displayName||null,e!==null?e:vy(t.type)||"Memo";case is:e=t._payload,t=t._init;try{return vy(t(e))}catch{}}return null}function JL(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return vy(e);case 8:return e===Rw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function js(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function S1(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function ZL(t){var e=S1(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function hh(t){t._valueTracker||(t._valueTracker=ZL(t))}function b1(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=S1(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Tf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function wy(t,e){var n=e.checked;return ct({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function eT(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=js(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function C1(t,e){e=e.checked,e!=null&&Cw(t,"checked",e,!1)}function _y(t,e){C1(t,e);var n=js(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ey(t,e.type,n):e.hasOwnProperty("defaultValue")&&Ey(t,e.type,js(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function tT(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Ey(t,e,n){(e!=="number"||Tf(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var $u=Array.isArray;function qa(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+js(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Ty(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(G(91));return ct({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function nT(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(G(92));if($u(n)){if(1<n.length)throw Error(G(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:js(n)}}function R1(t,e){var n=js(e.value),r=js(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function rT(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function I1(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function xy(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?I1(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var fh,P1=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(fh=fh||document.createElement("div"),fh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=fh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ec(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Zu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},e2=["Webkit","ms","Moz","O"];Object.keys(Zu).forEach(function(t){e2.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Zu[e]=Zu[t]})});function A1(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Zu.hasOwnProperty(t)&&Zu[t]?(""+e).trim():e+"px"}function k1(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=A1(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var t2=ct({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Sy(t,e){if(e){if(t2[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(G(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(G(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(G(61))}if(e.style!=null&&typeof e.style!="object")throw Error(G(62))}}function by(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cy=null;function Aw(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ry=null,Qa=null,Ya=null;function iT(t){if(t=Ed(t)){if(typeof Ry!="function")throw Error(G(280));var e=t.stateNode;e&&(e=Mp(e),Ry(t.stateNode,t.type,e))}}function N1(t){Qa?Ya?Ya.push(t):Ya=[t]:Qa=t}function D1(){if(Qa){var t=Qa,e=Ya;if(Ya=Qa=null,iT(t),e)for(t=0;t<e.length;t++)iT(e[t])}}function M1(t,e){return t(e)}function O1(){}var eg=!1;function L1(t,e,n){if(eg)return t(e,n);eg=!0;try{return M1(t,e,n)}finally{eg=!1,(Qa!==null||Ya!==null)&&(O1(),D1())}}function Tc(t,e){var n=t.stateNode;if(n===null)return null;var r=Mp(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(G(231,e,typeof n));return n}var Iy=!1;if(Pi)try{var Cu={};Object.defineProperty(Cu,"passive",{get:function(){Iy=!0}}),window.addEventListener("test",Cu,Cu),window.removeEventListener("test",Cu,Cu)}catch{Iy=!1}function n2(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var ec=!1,xf=null,Sf=!1,Py=null,r2={onError:function(t){ec=!0,xf=t}};function i2(t,e,n,r,i,s,o,a,l){ec=!1,xf=null,n2.apply(r2,arguments)}function s2(t,e,n,r,i,s,o,a,l){if(i2.apply(this,arguments),ec){if(ec){var u=xf;ec=!1,xf=null}else throw Error(G(198));Sf||(Sf=!0,Py=u)}}function sa(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function V1(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function sT(t){if(sa(t)!==t)throw Error(G(188))}function o2(t){var e=t.alternate;if(!e){if(e=sa(t),e===null)throw Error(G(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return sT(i),t;if(s===r)return sT(i),e;s=s.sibling}throw Error(G(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(G(189))}}if(n.alternate!==r)throw Error(G(190))}if(n.tag!==3)throw Error(G(188));return n.stateNode.current===n?t:e}function F1(t){return t=o2(t),t!==null?j1(t):null}function j1(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=j1(t);if(e!==null)return e;t=t.sibling}return null}var U1=Kn.unstable_scheduleCallback,oT=Kn.unstable_cancelCallback,a2=Kn.unstable_shouldYield,l2=Kn.unstable_requestPaint,St=Kn.unstable_now,u2=Kn.unstable_getCurrentPriorityLevel,kw=Kn.unstable_ImmediatePriority,B1=Kn.unstable_UserBlockingPriority,bf=Kn.unstable_NormalPriority,c2=Kn.unstable_LowPriority,$1=Kn.unstable_IdlePriority,Ap=null,Hr=null;function d2(t){if(Hr&&typeof Hr.onCommitFiberRoot=="function")try{Hr.onCommitFiberRoot(Ap,t,void 0,(t.current.flags&128)===128)}catch{}}var Ar=Math.clz32?Math.clz32:p2,h2=Math.log,f2=Math.LN2;function p2(t){return t>>>=0,t===0?32:31-(h2(t)/f2|0)|0}var ph=64,mh=4194304;function zu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Cf(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=zu(a):(s&=o,s!==0&&(r=zu(s)))}else o=n&~i,o!==0?r=zu(o):s!==0&&(r=zu(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Ar(e),i=1<<n,r|=t[n],e&=~i;return r}function m2(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function g2(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Ar(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=m2(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Ay(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function z1(){var t=ph;return ph<<=1,!(ph&4194240)&&(ph=64),t}function tg(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function wd(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ar(e),t[e]=n}function y2(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Ar(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Nw(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Ar(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Fe=0;function W1(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var K1,Dw,H1,G1,q1,ky=!1,gh=[],bs=null,Cs=null,Rs=null,xc=new Map,Sc=new Map,os=[],v2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function aT(t,e){switch(t){case"focusin":case"focusout":bs=null;break;case"dragenter":case"dragleave":Cs=null;break;case"mouseover":case"mouseout":Rs=null;break;case"pointerover":case"pointerout":xc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sc.delete(e.pointerId)}}function Ru(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Ed(e),e!==null&&Dw(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function w2(t,e,n,r,i){switch(e){case"focusin":return bs=Ru(bs,t,e,n,r,i),!0;case"dragenter":return Cs=Ru(Cs,t,e,n,r,i),!0;case"mouseover":return Rs=Ru(Rs,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return xc.set(s,Ru(xc.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Sc.set(s,Ru(Sc.get(s)||null,t,e,n,r,i)),!0}return!1}function Q1(t){var e=So(t.target);if(e!==null){var n=sa(e);if(n!==null){if(e=n.tag,e===13){if(e=V1(n),e!==null){t.blockedOn=e,q1(t.priority,function(){H1(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Xh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ny(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Cy=r,n.target.dispatchEvent(r),Cy=null}else return e=Ed(n),e!==null&&Dw(e),t.blockedOn=n,!1;e.shift()}return!0}function lT(t,e,n){Xh(t)&&n.delete(e)}function _2(){ky=!1,bs!==null&&Xh(bs)&&(bs=null),Cs!==null&&Xh(Cs)&&(Cs=null),Rs!==null&&Xh(Rs)&&(Rs=null),xc.forEach(lT),Sc.forEach(lT)}function Iu(t,e){t.blockedOn===e&&(t.blockedOn=null,ky||(ky=!0,Kn.unstable_scheduleCallback(Kn.unstable_NormalPriority,_2)))}function bc(t){function e(i){return Iu(i,t)}if(0<gh.length){Iu(gh[0],t);for(var n=1;n<gh.length;n++){var r=gh[n];r.blockedOn===t&&(r.blockedOn=null)}}for(bs!==null&&Iu(bs,t),Cs!==null&&Iu(Cs,t),Rs!==null&&Iu(Rs,t),xc.forEach(e),Sc.forEach(e),n=0;n<os.length;n++)r=os[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<os.length&&(n=os[0],n.blockedOn===null);)Q1(n),n.blockedOn===null&&os.shift()}var Xa=$i.ReactCurrentBatchConfig,Rf=!0;function E2(t,e,n,r){var i=Fe,s=Xa.transition;Xa.transition=null;try{Fe=1,Mw(t,e,n,r)}finally{Fe=i,Xa.transition=s}}function T2(t,e,n,r){var i=Fe,s=Xa.transition;Xa.transition=null;try{Fe=4,Mw(t,e,n,r)}finally{Fe=i,Xa.transition=s}}function Mw(t,e,n,r){if(Rf){var i=Ny(t,e,n,r);if(i===null)dg(t,e,r,If,n),aT(t,r);else if(w2(i,t,e,n,r))r.stopPropagation();else if(aT(t,r),e&4&&-1<v2.indexOf(t)){for(;i!==null;){var s=Ed(i);if(s!==null&&K1(s),s=Ny(t,e,n,r),s===null&&dg(t,e,r,If,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else dg(t,e,r,null,n)}}var If=null;function Ny(t,e,n,r){if(If=null,t=Aw(r),t=So(t),t!==null)if(e=sa(t),e===null)t=null;else if(n=e.tag,n===13){if(t=V1(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return If=t,null}function Y1(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(u2()){case kw:return 1;case B1:return 4;case bf:case c2:return 16;case $1:return 536870912;default:return 16}default:return 16}}var Es=null,Ow=null,Jh=null;function X1(){if(Jh)return Jh;var t,e=Ow,n=e.length,r,i="value"in Es?Es.value:Es.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Jh=i.slice(t,1<r?1-r:void 0)}function Zh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function yh(){return!0}function uT(){return!1}function Qn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?yh:uT,this.isPropagationStopped=uT,this}return ct(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=yh)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=yh)},persist:function(){},isPersistent:yh}),e}var Kl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Lw=Qn(Kl),_d=ct({},Kl,{view:0,detail:0}),x2=Qn(_d),ng,rg,Pu,kp=ct({},_d,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vw,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Pu&&(Pu&&t.type==="mousemove"?(ng=t.screenX-Pu.screenX,rg=t.screenY-Pu.screenY):rg=ng=0,Pu=t),ng)},movementY:function(t){return"movementY"in t?t.movementY:rg}}),cT=Qn(kp),S2=ct({},kp,{dataTransfer:0}),b2=Qn(S2),C2=ct({},_d,{relatedTarget:0}),ig=Qn(C2),R2=ct({},Kl,{animationName:0,elapsedTime:0,pseudoElement:0}),I2=Qn(R2),P2=ct({},Kl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),A2=Qn(P2),k2=ct({},Kl,{data:0}),dT=Qn(k2),N2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},D2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},M2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function O2(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=M2[t])?!!e[t]:!1}function Vw(){return O2}var L2=ct({},_d,{key:function(t){if(t.key){var e=N2[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Zh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?D2[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vw,charCode:function(t){return t.type==="keypress"?Zh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Zh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),V2=Qn(L2),F2=ct({},kp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hT=Qn(F2),j2=ct({},_d,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vw}),U2=Qn(j2),B2=ct({},Kl,{propertyName:0,elapsedTime:0,pseudoElement:0}),$2=Qn(B2),z2=ct({},kp,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),W2=Qn(z2),K2=[9,13,27,32],Fw=Pi&&"CompositionEvent"in window,tc=null;Pi&&"documentMode"in document&&(tc=document.documentMode);var H2=Pi&&"TextEvent"in window&&!tc,J1=Pi&&(!Fw||tc&&8<tc&&11>=tc),fT=" ",pT=!1;function Z1(t,e){switch(t){case"keyup":return K2.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function eR(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ka=!1;function G2(t,e){switch(t){case"compositionend":return eR(e);case"keypress":return e.which!==32?null:(pT=!0,fT);case"textInput":return t=e.data,t===fT&&pT?null:t;default:return null}}function q2(t,e){if(ka)return t==="compositionend"||!Fw&&Z1(t,e)?(t=X1(),Jh=Ow=Es=null,ka=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return J1&&e.locale!=="ko"?null:e.data;default:return null}}var Q2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mT(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Q2[t.type]:e==="textarea"}function tR(t,e,n,r){N1(r),e=Pf(e,"onChange"),0<e.length&&(n=new Lw("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var nc=null,Cc=null;function Y2(t){hR(t,0)}function Np(t){var e=Ma(t);if(b1(e))return t}function X2(t,e){if(t==="change")return e}var nR=!1;if(Pi){var sg;if(Pi){var og="oninput"in document;if(!og){var gT=document.createElement("div");gT.setAttribute("oninput","return;"),og=typeof gT.oninput=="function"}sg=og}else sg=!1;nR=sg&&(!document.documentMode||9<document.documentMode)}function yT(){nc&&(nc.detachEvent("onpropertychange",rR),Cc=nc=null)}function rR(t){if(t.propertyName==="value"&&Np(Cc)){var e=[];tR(e,Cc,t,Aw(t)),L1(Y2,e)}}function J2(t,e,n){t==="focusin"?(yT(),nc=e,Cc=n,nc.attachEvent("onpropertychange",rR)):t==="focusout"&&yT()}function Z2(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Np(Cc)}function eV(t,e){if(t==="click")return Np(e)}function tV(t,e){if(t==="input"||t==="change")return Np(e)}function nV(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Nr=typeof Object.is=="function"?Object.is:nV;function Rc(t,e){if(Nr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!py.call(e,i)||!Nr(t[i],e[i]))return!1}return!0}function vT(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function wT(t,e){var n=vT(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=vT(n)}}function iR(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?iR(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function sR(){for(var t=window,e=Tf();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Tf(t.document)}return e}function jw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function rV(t){var e=sR(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&iR(n.ownerDocument.documentElement,n)){if(r!==null&&jw(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=wT(n,s);var o=wT(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var iV=Pi&&"documentMode"in document&&11>=document.documentMode,Na=null,Dy=null,rc=null,My=!1;function _T(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;My||Na==null||Na!==Tf(r)||(r=Na,"selectionStart"in r&&jw(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),rc&&Rc(rc,r)||(rc=r,r=Pf(Dy,"onSelect"),0<r.length&&(e=new Lw("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Na)))}function vh(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Da={animationend:vh("Animation","AnimationEnd"),animationiteration:vh("Animation","AnimationIteration"),animationstart:vh("Animation","AnimationStart"),transitionend:vh("Transition","TransitionEnd")},ag={},oR={};Pi&&(oR=document.createElement("div").style,"AnimationEvent"in window||(delete Da.animationend.animation,delete Da.animationiteration.animation,delete Da.animationstart.animation),"TransitionEvent"in window||delete Da.transitionend.transition);function Dp(t){if(ag[t])return ag[t];if(!Da[t])return t;var e=Da[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in oR)return ag[t]=e[n];return t}var aR=Dp("animationend"),lR=Dp("animationiteration"),uR=Dp("animationstart"),cR=Dp("transitionend"),dR=new Map,ET="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Js(t,e){dR.set(t,e),ia(e,[t])}for(var lg=0;lg<ET.length;lg++){var ug=ET[lg],sV=ug.toLowerCase(),oV=ug[0].toUpperCase()+ug.slice(1);Js(sV,"on"+oV)}Js(aR,"onAnimationEnd");Js(lR,"onAnimationIteration");Js(uR,"onAnimationStart");Js("dblclick","onDoubleClick");Js("focusin","onFocus");Js("focusout","onBlur");Js(cR,"onTransitionEnd");Tl("onMouseEnter",["mouseout","mouseover"]);Tl("onMouseLeave",["mouseout","mouseover"]);Tl("onPointerEnter",["pointerout","pointerover"]);Tl("onPointerLeave",["pointerout","pointerover"]);ia("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ia("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ia("onBeforeInput",["compositionend","keypress","textInput","paste"]);ia("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ia("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ia("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aV=new Set("cancel close invalid load scroll toggle".split(" ").concat(Wu));function TT(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,s2(r,e,void 0,t),t.currentTarget=null}function hR(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;TT(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;TT(i,a,u),s=l}}}if(Sf)throw t=Py,Sf=!1,Py=null,t}function Je(t,e){var n=e[jy];n===void 0&&(n=e[jy]=new Set);var r=t+"__bubble";n.has(r)||(fR(e,t,2,!1),n.add(r))}function cg(t,e,n){var r=0;e&&(r|=4),fR(n,t,r,e)}var wh="_reactListening"+Math.random().toString(36).slice(2);function Ic(t){if(!t[wh]){t[wh]=!0,_1.forEach(function(n){n!=="selectionchange"&&(aV.has(n)||cg(n,!1,t),cg(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[wh]||(e[wh]=!0,cg("selectionchange",!1,e))}}function fR(t,e,n,r){switch(Y1(e)){case 1:var i=E2;break;case 4:i=T2;break;default:i=Mw}n=i.bind(null,e,n,t),i=void 0,!Iy||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function dg(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=So(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}L1(function(){var u=s,d=Aw(n),h=[];e:{var f=dR.get(t);if(f!==void 0){var p=Lw,T=t;switch(t){case"keypress":if(Zh(n)===0)break e;case"keydown":case"keyup":p=V2;break;case"focusin":T="focus",p=ig;break;case"focusout":T="blur",p=ig;break;case"beforeblur":case"afterblur":p=ig;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=cT;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=b2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=U2;break;case aR:case lR:case uR:p=I2;break;case cR:p=$2;break;case"scroll":p=x2;break;case"wheel":p=W2;break;case"copy":case"cut":case"paste":p=A2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=hT}var g=(e&4)!==0,x=!g&&t==="scroll",E=g?f!==null?f+"Capture":null:f;g=[];for(var _=u,b;_!==null;){b=_;var I=b.stateNode;if(b.tag===5&&I!==null&&(b=I,E!==null&&(I=Tc(_,E),I!=null&&g.push(Pc(_,I,b)))),x)break;_=_.return}0<g.length&&(f=new p(f,T,null,n,d),h.push({event:f,listeners:g}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==Cy&&(T=n.relatedTarget||n.fromElement)&&(So(T)||T[Ai]))break e;if((p||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,p?(T=n.relatedTarget||n.toElement,p=u,T=T?So(T):null,T!==null&&(x=sa(T),T!==x||T.tag!==5&&T.tag!==6)&&(T=null)):(p=null,T=u),p!==T)){if(g=cT,I="onMouseLeave",E="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(g=hT,I="onPointerLeave",E="onPointerEnter",_="pointer"),x=p==null?f:Ma(p),b=T==null?f:Ma(T),f=new g(I,_+"leave",p,n,d),f.target=x,f.relatedTarget=b,I=null,So(d)===u&&(g=new g(E,_+"enter",T,n,d),g.target=b,g.relatedTarget=x,I=g),x=I,p&&T)t:{for(g=p,E=T,_=0,b=g;b;b=wa(b))_++;for(b=0,I=E;I;I=wa(I))b++;for(;0<_-b;)g=wa(g),_--;for(;0<b-_;)E=wa(E),b--;for(;_--;){if(g===E||E!==null&&g===E.alternate)break t;g=wa(g),E=wa(E)}g=null}else g=null;p!==null&&xT(h,f,p,g,!1),T!==null&&x!==null&&xT(h,x,T,g,!0)}}e:{if(f=u?Ma(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var N=X2;else if(mT(f))if(nR)N=tV;else{N=Z2;var F=J2}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(N=eV);if(N&&(N=N(t,u))){tR(h,N,n,d);break e}F&&F(t,f,u),t==="focusout"&&(F=f._wrapperState)&&F.controlled&&f.type==="number"&&Ey(f,"number",f.value)}switch(F=u?Ma(u):window,t){case"focusin":(mT(F)||F.contentEditable==="true")&&(Na=F,Dy=u,rc=null);break;case"focusout":rc=Dy=Na=null;break;case"mousedown":My=!0;break;case"contextmenu":case"mouseup":case"dragend":My=!1,_T(h,n,d);break;case"selectionchange":if(iV)break;case"keydown":case"keyup":_T(h,n,d)}var C;if(Fw)e:{switch(t){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else ka?Z1(t,n)&&(w="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(w="onCompositionStart");w&&(J1&&n.locale!=="ko"&&(ka||w!=="onCompositionStart"?w==="onCompositionEnd"&&ka&&(C=X1()):(Es=d,Ow="value"in Es?Es.value:Es.textContent,ka=!0)),F=Pf(u,w),0<F.length&&(w=new dT(w,t,null,n,d),h.push({event:w,listeners:F}),C?w.data=C:(C=eR(n),C!==null&&(w.data=C)))),(C=H2?G2(t,n):q2(t,n))&&(u=Pf(u,"onBeforeInput"),0<u.length&&(d=new dT("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=C))}hR(h,e)})}function Pc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Pf(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Tc(t,n),s!=null&&r.unshift(Pc(t,s,i)),s=Tc(t,e),s!=null&&r.push(Pc(t,s,i))),t=t.return}return r}function wa(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function xT(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Tc(n,s),l!=null&&o.unshift(Pc(n,l,a))):i||(l=Tc(n,s),l!=null&&o.push(Pc(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var lV=/\r\n?/g,uV=/\u0000|\uFFFD/g;function ST(t){return(typeof t=="string"?t:""+t).replace(lV,`
`).replace(uV,"")}function _h(t,e,n){if(e=ST(e),ST(t)!==e&&n)throw Error(G(425))}function Af(){}var Oy=null,Ly=null;function Vy(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Fy=typeof setTimeout=="function"?setTimeout:void 0,cV=typeof clearTimeout=="function"?clearTimeout:void 0,bT=typeof Promise=="function"?Promise:void 0,dV=typeof queueMicrotask=="function"?queueMicrotask:typeof bT<"u"?function(t){return bT.resolve(null).then(t).catch(hV)}:Fy;function hV(t){setTimeout(function(){throw t})}function hg(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),bc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);bc(e)}function Is(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function CT(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Hl=Math.random().toString(36).slice(2),Wr="__reactFiber$"+Hl,Ac="__reactProps$"+Hl,Ai="__reactContainer$"+Hl,jy="__reactEvents$"+Hl,fV="__reactListeners$"+Hl,pV="__reactHandles$"+Hl;function So(t){var e=t[Wr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ai]||n[Wr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=CT(t);t!==null;){if(n=t[Wr])return n;t=CT(t)}return e}t=n,n=t.parentNode}return null}function Ed(t){return t=t[Wr]||t[Ai],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ma(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(G(33))}function Mp(t){return t[Ac]||null}var Uy=[],Oa=-1;function Zs(t){return{current:t}}function Ze(t){0>Oa||(t.current=Uy[Oa],Uy[Oa]=null,Oa--)}function Ge(t,e){Oa++,Uy[Oa]=t.current,t.current=e}var Us={},fn=Zs(Us),Pn=Zs(!1),zo=Us;function xl(t,e){var n=t.type.contextTypes;if(!n)return Us;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function An(t){return t=t.childContextTypes,t!=null}function kf(){Ze(Pn),Ze(fn)}function RT(t,e,n){if(fn.current!==Us)throw Error(G(168));Ge(fn,e),Ge(Pn,n)}function pR(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(G(108,JL(t)||"Unknown",i));return ct({},n,r)}function Nf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Us,zo=fn.current,Ge(fn,t),Ge(Pn,Pn.current),!0}function IT(t,e,n){var r=t.stateNode;if(!r)throw Error(G(169));n?(t=pR(t,e,zo),r.__reactInternalMemoizedMergedChildContext=t,Ze(Pn),Ze(fn),Ge(fn,t)):Ze(Pn),Ge(Pn,n)}var fi=null,Op=!1,fg=!1;function mR(t){fi===null?fi=[t]:fi.push(t)}function mV(t){Op=!0,mR(t)}function eo(){if(!fg&&fi!==null){fg=!0;var t=0,e=Fe;try{var n=fi;for(Fe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}fi=null,Op=!1}catch(i){throw fi!==null&&(fi=fi.slice(t+1)),U1(kw,eo),i}finally{Fe=e,fg=!1}}return null}var La=[],Va=0,Df=null,Mf=0,ir=[],sr=0,Wo=null,mi=1,gi="";function vo(t,e){La[Va++]=Mf,La[Va++]=Df,Df=t,Mf=e}function gR(t,e,n){ir[sr++]=mi,ir[sr++]=gi,ir[sr++]=Wo,Wo=t;var r=mi;t=gi;var i=32-Ar(r)-1;r&=~(1<<i),n+=1;var s=32-Ar(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,mi=1<<32-Ar(e)+i|n<<i|r,gi=s+t}else mi=1<<s|n<<i|r,gi=t}function Uw(t){t.return!==null&&(vo(t,1),gR(t,1,0))}function Bw(t){for(;t===Df;)Df=La[--Va],La[Va]=null,Mf=La[--Va],La[Va]=null;for(;t===Wo;)Wo=ir[--sr],ir[sr]=null,gi=ir[--sr],ir[sr]=null,mi=ir[--sr],ir[sr]=null}var zn=null,Bn=null,nt=!1,Rr=null;function yR(t,e){var n=ar(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function PT(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,zn=t,Bn=Is(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,zn=t,Bn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Wo!==null?{id:mi,overflow:gi}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=ar(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,zn=t,Bn=null,!0):!1;default:return!1}}function By(t){return(t.mode&1)!==0&&(t.flags&128)===0}function $y(t){if(nt){var e=Bn;if(e){var n=e;if(!PT(t,e)){if(By(t))throw Error(G(418));e=Is(n.nextSibling);var r=zn;e&&PT(t,e)?yR(r,n):(t.flags=t.flags&-4097|2,nt=!1,zn=t)}}else{if(By(t))throw Error(G(418));t.flags=t.flags&-4097|2,nt=!1,zn=t}}}function AT(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;zn=t}function Eh(t){if(t!==zn)return!1;if(!nt)return AT(t),nt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Vy(t.type,t.memoizedProps)),e&&(e=Bn)){if(By(t))throw vR(),Error(G(418));for(;e;)yR(t,e),e=Is(e.nextSibling)}if(AT(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(G(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Bn=Is(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Bn=null}}else Bn=zn?Is(t.stateNode.nextSibling):null;return!0}function vR(){for(var t=Bn;t;)t=Is(t.nextSibling)}function Sl(){Bn=zn=null,nt=!1}function $w(t){Rr===null?Rr=[t]:Rr.push(t)}var gV=$i.ReactCurrentBatchConfig;function Au(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(G(309));var r=n.stateNode}if(!r)throw Error(G(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(G(284));if(!n._owner)throw Error(G(290,t))}return t}function Th(t,e){throw t=Object.prototype.toString.call(e),Error(G(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function kT(t){var e=t._init;return e(t._payload)}function wR(t){function e(E,_){if(t){var b=E.deletions;b===null?(E.deletions=[_],E.flags|=16):b.push(_)}}function n(E,_){if(!t)return null;for(;_!==null;)e(E,_),_=_.sibling;return null}function r(E,_){for(E=new Map;_!==null;)_.key!==null?E.set(_.key,_):E.set(_.index,_),_=_.sibling;return E}function i(E,_){return E=Ns(E,_),E.index=0,E.sibling=null,E}function s(E,_,b){return E.index=b,t?(b=E.alternate,b!==null?(b=b.index,b<_?(E.flags|=2,_):b):(E.flags|=2,_)):(E.flags|=1048576,_)}function o(E){return t&&E.alternate===null&&(E.flags|=2),E}function a(E,_,b,I){return _===null||_.tag!==6?(_=_g(b,E.mode,I),_.return=E,_):(_=i(_,b),_.return=E,_)}function l(E,_,b,I){var N=b.type;return N===Aa?d(E,_,b.props.children,I,b.key):_!==null&&(_.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===is&&kT(N)===_.type)?(I=i(_,b.props),I.ref=Au(E,_,b),I.return=E,I):(I=af(b.type,b.key,b.props,null,E.mode,I),I.ref=Au(E,_,b),I.return=E,I)}function u(E,_,b,I){return _===null||_.tag!==4||_.stateNode.containerInfo!==b.containerInfo||_.stateNode.implementation!==b.implementation?(_=Eg(b,E.mode,I),_.return=E,_):(_=i(_,b.children||[]),_.return=E,_)}function d(E,_,b,I,N){return _===null||_.tag!==7?(_=jo(b,E.mode,I,N),_.return=E,_):(_=i(_,b),_.return=E,_)}function h(E,_,b){if(typeof _=="string"&&_!==""||typeof _=="number")return _=_g(""+_,E.mode,b),_.return=E,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case dh:return b=af(_.type,_.key,_.props,null,E.mode,b),b.ref=Au(E,null,_),b.return=E,b;case Pa:return _=Eg(_,E.mode,b),_.return=E,_;case is:var I=_._init;return h(E,I(_._payload),b)}if($u(_)||bu(_))return _=jo(_,E.mode,b,null),_.return=E,_;Th(E,_)}return null}function f(E,_,b,I){var N=_!==null?_.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return N!==null?null:a(E,_,""+b,I);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case dh:return b.key===N?l(E,_,b,I):null;case Pa:return b.key===N?u(E,_,b,I):null;case is:return N=b._init,f(E,_,N(b._payload),I)}if($u(b)||bu(b))return N!==null?null:d(E,_,b,I,null);Th(E,b)}return null}function p(E,_,b,I,N){if(typeof I=="string"&&I!==""||typeof I=="number")return E=E.get(b)||null,a(_,E,""+I,N);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case dh:return E=E.get(I.key===null?b:I.key)||null,l(_,E,I,N);case Pa:return E=E.get(I.key===null?b:I.key)||null,u(_,E,I,N);case is:var F=I._init;return p(E,_,b,F(I._payload),N)}if($u(I)||bu(I))return E=E.get(b)||null,d(_,E,I,N,null);Th(_,I)}return null}function T(E,_,b,I){for(var N=null,F=null,C=_,w=_=0,R=null;C!==null&&w<b.length;w++){C.index>w?(R=C,C=null):R=C.sibling;var A=f(E,C,b[w],I);if(A===null){C===null&&(C=R);break}t&&C&&A.alternate===null&&e(E,C),_=s(A,_,w),F===null?N=A:F.sibling=A,F=A,C=R}if(w===b.length)return n(E,C),nt&&vo(E,w),N;if(C===null){for(;w<b.length;w++)C=h(E,b[w],I),C!==null&&(_=s(C,_,w),F===null?N=C:F.sibling=C,F=C);return nt&&vo(E,w),N}for(C=r(E,C);w<b.length;w++)R=p(C,E,w,b[w],I),R!==null&&(t&&R.alternate!==null&&C.delete(R.key===null?w:R.key),_=s(R,_,w),F===null?N=R:F.sibling=R,F=R);return t&&C.forEach(function(D){return e(E,D)}),nt&&vo(E,w),N}function g(E,_,b,I){var N=bu(b);if(typeof N!="function")throw Error(G(150));if(b=N.call(b),b==null)throw Error(G(151));for(var F=N=null,C=_,w=_=0,R=null,A=b.next();C!==null&&!A.done;w++,A=b.next()){C.index>w?(R=C,C=null):R=C.sibling;var D=f(E,C,A.value,I);if(D===null){C===null&&(C=R);break}t&&C&&D.alternate===null&&e(E,C),_=s(D,_,w),F===null?N=D:F.sibling=D,F=D,C=R}if(A.done)return n(E,C),nt&&vo(E,w),N;if(C===null){for(;!A.done;w++,A=b.next())A=h(E,A.value,I),A!==null&&(_=s(A,_,w),F===null?N=A:F.sibling=A,F=A);return nt&&vo(E,w),N}for(C=r(E,C);!A.done;w++,A=b.next())A=p(C,E,w,A.value,I),A!==null&&(t&&A.alternate!==null&&C.delete(A.key===null?w:A.key),_=s(A,_,w),F===null?N=A:F.sibling=A,F=A);return t&&C.forEach(function(M){return e(E,M)}),nt&&vo(E,w),N}function x(E,_,b,I){if(typeof b=="object"&&b!==null&&b.type===Aa&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case dh:e:{for(var N=b.key,F=_;F!==null;){if(F.key===N){if(N=b.type,N===Aa){if(F.tag===7){n(E,F.sibling),_=i(F,b.props.children),_.return=E,E=_;break e}}else if(F.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===is&&kT(N)===F.type){n(E,F.sibling),_=i(F,b.props),_.ref=Au(E,F,b),_.return=E,E=_;break e}n(E,F);break}else e(E,F);F=F.sibling}b.type===Aa?(_=jo(b.props.children,E.mode,I,b.key),_.return=E,E=_):(I=af(b.type,b.key,b.props,null,E.mode,I),I.ref=Au(E,_,b),I.return=E,E=I)}return o(E);case Pa:e:{for(F=b.key;_!==null;){if(_.key===F)if(_.tag===4&&_.stateNode.containerInfo===b.containerInfo&&_.stateNode.implementation===b.implementation){n(E,_.sibling),_=i(_,b.children||[]),_.return=E,E=_;break e}else{n(E,_);break}else e(E,_);_=_.sibling}_=Eg(b,E.mode,I),_.return=E,E=_}return o(E);case is:return F=b._init,x(E,_,F(b._payload),I)}if($u(b))return T(E,_,b,I);if(bu(b))return g(E,_,b,I);Th(E,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,_!==null&&_.tag===6?(n(E,_.sibling),_=i(_,b),_.return=E,E=_):(n(E,_),_=_g(b,E.mode,I),_.return=E,E=_),o(E)):n(E,_)}return x}var bl=wR(!0),_R=wR(!1),Of=Zs(null),Lf=null,Fa=null,zw=null;function Ww(){zw=Fa=Lf=null}function Kw(t){var e=Of.current;Ze(Of),t._currentValue=e}function zy(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ja(t,e){Lf=t,zw=Fa=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(In=!0),t.firstContext=null)}function hr(t){var e=t._currentValue;if(zw!==t)if(t={context:t,memoizedValue:e,next:null},Fa===null){if(Lf===null)throw Error(G(308));Fa=t,Lf.dependencies={lanes:0,firstContext:t}}else Fa=Fa.next=t;return e}var bo=null;function Hw(t){bo===null?bo=[t]:bo.push(t)}function ER(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Hw(e)):(n.next=i.next,i.next=n),e.interleaved=n,ki(t,r)}function ki(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ss=!1;function Gw(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function TR(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function xi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ps(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Me&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,ki(t,n)}return i=r.interleaved,i===null?(e.next=e,Hw(r)):(e.next=i.next,i.next=e),r.interleaved=e,ki(t,n)}function ef(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Nw(t,n)}}function NT(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Vf(t,e,n,r){var i=t.updateQueue;ss=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,d=u=l=null,a=s;do{var f=a.lane,p=a.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var T=t,g=a;switch(f=e,p=n,g.tag){case 1:if(T=g.payload,typeof T=="function"){h=T.call(p,h,f);break e}h=T;break e;case 3:T.flags=T.flags&-65537|128;case 0:if(T=g.payload,f=typeof T=="function"?T.call(p,h,f):T,f==null)break e;h=ct({},h,f);break e;case 2:ss=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=p,l=h):d=d.next=p,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(d===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Ho|=o,t.lanes=o,t.memoizedState=h}}function DT(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(G(191,i));i.call(r)}}}var Td={},Gr=Zs(Td),kc=Zs(Td),Nc=Zs(Td);function Co(t){if(t===Td)throw Error(G(174));return t}function qw(t,e){switch(Ge(Nc,e),Ge(kc,t),Ge(Gr,Td),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:xy(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=xy(e,t)}Ze(Gr),Ge(Gr,e)}function Cl(){Ze(Gr),Ze(kc),Ze(Nc)}function xR(t){Co(Nc.current);var e=Co(Gr.current),n=xy(e,t.type);e!==n&&(Ge(kc,t),Ge(Gr,n))}function Qw(t){kc.current===t&&(Ze(Gr),Ze(kc))}var ot=Zs(0);function Ff(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var pg=[];function Yw(){for(var t=0;t<pg.length;t++)pg[t]._workInProgressVersionPrimary=null;pg.length=0}var tf=$i.ReactCurrentDispatcher,mg=$i.ReactCurrentBatchConfig,Ko=0,ut=null,Nt=null,jt=null,jf=!1,ic=!1,Dc=0,yV=0;function tn(){throw Error(G(321))}function Xw(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Nr(t[n],e[n]))return!1;return!0}function Jw(t,e,n,r,i,s){if(Ko=s,ut=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,tf.current=t===null||t.memoizedState===null?EV:TV,t=n(r,i),ic){s=0;do{if(ic=!1,Dc=0,25<=s)throw Error(G(301));s+=1,jt=Nt=null,e.updateQueue=null,tf.current=xV,t=n(r,i)}while(ic)}if(tf.current=Uf,e=Nt!==null&&Nt.next!==null,Ko=0,jt=Nt=ut=null,jf=!1,e)throw Error(G(300));return t}function Zw(){var t=Dc!==0;return Dc=0,t}function Fr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jt===null?ut.memoizedState=jt=t:jt=jt.next=t,jt}function fr(){if(Nt===null){var t=ut.alternate;t=t!==null?t.memoizedState:null}else t=Nt.next;var e=jt===null?ut.memoizedState:jt.next;if(e!==null)jt=e,Nt=t;else{if(t===null)throw Error(G(310));Nt=t,t={memoizedState:Nt.memoizedState,baseState:Nt.baseState,baseQueue:Nt.baseQueue,queue:Nt.queue,next:null},jt===null?ut.memoizedState=jt=t:jt=jt.next=t}return jt}function Mc(t,e){return typeof e=="function"?e(t):e}function gg(t){var e=fr(),n=e.queue;if(n===null)throw Error(G(311));n.lastRenderedReducer=t;var r=Nt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var d=u.lane;if((Ko&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,ut.lanes|=d,Ho|=d}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,Nr(r,e.memoizedState)||(In=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,ut.lanes|=s,Ho|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function yg(t){var e=fr(),n=e.queue;if(n===null)throw Error(G(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Nr(s,e.memoizedState)||(In=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function SR(){}function bR(t,e){var n=ut,r=fr(),i=e(),s=!Nr(r.memoizedState,i);if(s&&(r.memoizedState=i,In=!0),r=r.queue,e0(IR.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||jt!==null&&jt.memoizedState.tag&1){if(n.flags|=2048,Oc(9,RR.bind(null,n,r,i,e),void 0,null),Ut===null)throw Error(G(349));Ko&30||CR(n,e,i)}return i}function CR(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ut.updateQueue,e===null?(e={lastEffect:null,stores:null},ut.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function RR(t,e,n,r){e.value=n,e.getSnapshot=r,PR(e)&&AR(t)}function IR(t,e,n){return n(function(){PR(e)&&AR(t)})}function PR(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Nr(t,n)}catch{return!0}}function AR(t){var e=ki(t,1);e!==null&&kr(e,t,1,-1)}function MT(t){var e=Fr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Mc,lastRenderedState:t},e.queue=t,t=t.dispatch=_V.bind(null,ut,t),[e.memoizedState,t]}function Oc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ut.updateQueue,e===null?(e={lastEffect:null,stores:null},ut.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function kR(){return fr().memoizedState}function nf(t,e,n,r){var i=Fr();ut.flags|=t,i.memoizedState=Oc(1|e,n,void 0,r===void 0?null:r)}function Lp(t,e,n,r){var i=fr();r=r===void 0?null:r;var s=void 0;if(Nt!==null){var o=Nt.memoizedState;if(s=o.destroy,r!==null&&Xw(r,o.deps)){i.memoizedState=Oc(e,n,s,r);return}}ut.flags|=t,i.memoizedState=Oc(1|e,n,s,r)}function OT(t,e){return nf(8390656,8,t,e)}function e0(t,e){return Lp(2048,8,t,e)}function NR(t,e){return Lp(4,2,t,e)}function DR(t,e){return Lp(4,4,t,e)}function MR(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function OR(t,e,n){return n=n!=null?n.concat([t]):null,Lp(4,4,MR.bind(null,e,t),n)}function t0(){}function LR(t,e){var n=fr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Xw(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function VR(t,e){var n=fr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Xw(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function FR(t,e,n){return Ko&21?(Nr(n,e)||(n=z1(),ut.lanes|=n,Ho|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,In=!0),t.memoizedState=n)}function vV(t,e){var n=Fe;Fe=n!==0&&4>n?n:4,t(!0);var r=mg.transition;mg.transition={};try{t(!1),e()}finally{Fe=n,mg.transition=r}}function jR(){return fr().memoizedState}function wV(t,e,n){var r=ks(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},UR(t))BR(e,n);else if(n=ER(t,e,n,r),n!==null){var i=Tn();kr(n,t,r,i),$R(n,e,r)}}function _V(t,e,n){var r=ks(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(UR(t))BR(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Nr(a,o)){var l=e.interleaved;l===null?(i.next=i,Hw(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=ER(t,e,i,r),n!==null&&(i=Tn(),kr(n,t,r,i),$R(n,e,r))}}function UR(t){var e=t.alternate;return t===ut||e!==null&&e===ut}function BR(t,e){ic=jf=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function $R(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Nw(t,n)}}var Uf={readContext:hr,useCallback:tn,useContext:tn,useEffect:tn,useImperativeHandle:tn,useInsertionEffect:tn,useLayoutEffect:tn,useMemo:tn,useReducer:tn,useRef:tn,useState:tn,useDebugValue:tn,useDeferredValue:tn,useTransition:tn,useMutableSource:tn,useSyncExternalStore:tn,useId:tn,unstable_isNewReconciler:!1},EV={readContext:hr,useCallback:function(t,e){return Fr().memoizedState=[t,e===void 0?null:e],t},useContext:hr,useEffect:OT,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,nf(4194308,4,MR.bind(null,e,t),n)},useLayoutEffect:function(t,e){return nf(4194308,4,t,e)},useInsertionEffect:function(t,e){return nf(4,2,t,e)},useMemo:function(t,e){var n=Fr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Fr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=wV.bind(null,ut,t),[r.memoizedState,t]},useRef:function(t){var e=Fr();return t={current:t},e.memoizedState=t},useState:MT,useDebugValue:t0,useDeferredValue:function(t){return Fr().memoizedState=t},useTransition:function(){var t=MT(!1),e=t[0];return t=vV.bind(null,t[1]),Fr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ut,i=Fr();if(nt){if(n===void 0)throw Error(G(407));n=n()}else{if(n=e(),Ut===null)throw Error(G(349));Ko&30||CR(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,OT(IR.bind(null,r,s,t),[t]),r.flags|=2048,Oc(9,RR.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Fr(),e=Ut.identifierPrefix;if(nt){var n=gi,r=mi;n=(r&~(1<<32-Ar(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Dc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=yV++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},TV={readContext:hr,useCallback:LR,useContext:hr,useEffect:e0,useImperativeHandle:OR,useInsertionEffect:NR,useLayoutEffect:DR,useMemo:VR,useReducer:gg,useRef:kR,useState:function(){return gg(Mc)},useDebugValue:t0,useDeferredValue:function(t){var e=fr();return FR(e,Nt.memoizedState,t)},useTransition:function(){var t=gg(Mc)[0],e=fr().memoizedState;return[t,e]},useMutableSource:SR,useSyncExternalStore:bR,useId:jR,unstable_isNewReconciler:!1},xV={readContext:hr,useCallback:LR,useContext:hr,useEffect:e0,useImperativeHandle:OR,useInsertionEffect:NR,useLayoutEffect:DR,useMemo:VR,useReducer:yg,useRef:kR,useState:function(){return yg(Mc)},useDebugValue:t0,useDeferredValue:function(t){var e=fr();return Nt===null?e.memoizedState=t:FR(e,Nt.memoizedState,t)},useTransition:function(){var t=yg(Mc)[0],e=fr().memoizedState;return[t,e]},useMutableSource:SR,useSyncExternalStore:bR,useId:jR,unstable_isNewReconciler:!1};function xr(t,e){if(t&&t.defaultProps){e=ct({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Wy(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ct({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Vp={isMounted:function(t){return(t=t._reactInternals)?sa(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Tn(),i=ks(t),s=xi(r,i);s.payload=e,n!=null&&(s.callback=n),e=Ps(t,s,i),e!==null&&(kr(e,t,i,r),ef(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Tn(),i=ks(t),s=xi(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Ps(t,s,i),e!==null&&(kr(e,t,i,r),ef(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Tn(),r=ks(t),i=xi(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ps(t,i,r),e!==null&&(kr(e,t,r,n),ef(e,t,r))}};function LT(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Rc(n,r)||!Rc(i,s):!0}function zR(t,e,n){var r=!1,i=Us,s=e.contextType;return typeof s=="object"&&s!==null?s=hr(s):(i=An(e)?zo:fn.current,r=e.contextTypes,s=(r=r!=null)?xl(t,i):Us),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Vp,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function VT(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Vp.enqueueReplaceState(e,e.state,null)}function Ky(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Gw(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=hr(s):(s=An(e)?zo:fn.current,i.context=xl(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Wy(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Vp.enqueueReplaceState(i,i.state,null),Vf(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Rl(t,e){try{var n="",r=e;do n+=XL(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function vg(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Hy(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var SV=typeof WeakMap=="function"?WeakMap:Map;function WR(t,e,n){n=xi(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){$f||($f=!0,nv=r),Hy(t,e)},n}function KR(t,e,n){n=xi(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Hy(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Hy(t,e),typeof r!="function"&&(As===null?As=new Set([this]):As.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function FT(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new SV;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=FV.bind(null,t,e,n),e.then(t,t))}function jT(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function UT(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=xi(-1,1),e.tag=2,Ps(n,e,1))),n.lanes|=1),t)}var bV=$i.ReactCurrentOwner,In=!1;function En(t,e,n,r){e.child=t===null?_R(e,null,n,r):bl(e,t.child,n,r)}function BT(t,e,n,r,i){n=n.render;var s=e.ref;return Ja(e,i),r=Jw(t,e,n,r,s,i),n=Zw(),t!==null&&!In?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ni(t,e,i)):(nt&&n&&Uw(e),e.flags|=1,En(t,e,r,i),e.child)}function $T(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!u0(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,HR(t,e,s,r,i)):(t=af(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Rc,n(o,r)&&t.ref===e.ref)return Ni(t,e,i)}return e.flags|=1,t=Ns(s,r),t.ref=e.ref,t.return=e,e.child=t}function HR(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Rc(s,r)&&t.ref===e.ref)if(In=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(In=!0);else return e.lanes=t.lanes,Ni(t,e,i)}return Gy(t,e,n,r,i)}function GR(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ge(Ua,Fn),Fn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ge(Ua,Fn),Fn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ge(Ua,Fn),Fn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Ge(Ua,Fn),Fn|=r;return En(t,e,i,n),e.child}function qR(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Gy(t,e,n,r,i){var s=An(n)?zo:fn.current;return s=xl(e,s),Ja(e,i),n=Jw(t,e,n,r,s,i),r=Zw(),t!==null&&!In?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ni(t,e,i)):(nt&&r&&Uw(e),e.flags|=1,En(t,e,n,i),e.child)}function zT(t,e,n,r,i){if(An(n)){var s=!0;Nf(e)}else s=!1;if(Ja(e,i),e.stateNode===null)rf(t,e),zR(e,n,r),Ky(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=hr(u):(u=An(n)?zo:fn.current,u=xl(e,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&VT(e,o,r,u),ss=!1;var f=e.memoizedState;o.state=f,Vf(e,r,o,i),l=e.memoizedState,a!==r||f!==l||Pn.current||ss?(typeof d=="function"&&(Wy(e,n,d,r),l=e.memoizedState),(a=ss||LT(e,n,a,r,f,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,TR(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:xr(e.type,a),o.props=u,h=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=hr(l):(l=An(n)?zo:fn.current,l=xl(e,l));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&VT(e,o,r,l),ss=!1,f=e.memoizedState,o.state=f,Vf(e,r,o,i);var T=e.memoizedState;a!==h||f!==T||Pn.current||ss?(typeof p=="function"&&(Wy(e,n,p,r),T=e.memoizedState),(u=ss||LT(e,n,u,r,f,T,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,T,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,T,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=T),o.props=r,o.state=T,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return qy(t,e,n,r,s,i)}function qy(t,e,n,r,i,s){qR(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&IT(e,n,!1),Ni(t,e,s);r=e.stateNode,bV.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=bl(e,t.child,null,s),e.child=bl(e,null,a,s)):En(t,e,a,s),e.memoizedState=r.state,i&&IT(e,n,!0),e.child}function QR(t){var e=t.stateNode;e.pendingContext?RT(t,e.pendingContext,e.pendingContext!==e.context):e.context&&RT(t,e.context,!1),qw(t,e.containerInfo)}function WT(t,e,n,r,i){return Sl(),$w(i),e.flags|=256,En(t,e,n,r),e.child}var Qy={dehydrated:null,treeContext:null,retryLane:0};function Yy(t){return{baseLanes:t,cachePool:null,transitions:null}}function YR(t,e,n){var r=e.pendingProps,i=ot.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ge(ot,i&1),t===null)return $y(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Up(o,r,0,null),t=jo(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Yy(n),e.memoizedState=Qy,t):n0(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return CV(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ns(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Ns(a,s):(s=jo(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Yy(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Qy,r}return s=t.child,t=s.sibling,r=Ns(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function n0(t,e){return e=Up({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function xh(t,e,n,r){return r!==null&&$w(r),bl(e,t.child,null,n),t=n0(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function CV(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=vg(Error(G(422))),xh(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Up({mode:"visible",children:r.children},i,0,null),s=jo(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&bl(e,t.child,null,o),e.child.memoizedState=Yy(o),e.memoizedState=Qy,s);if(!(e.mode&1))return xh(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(G(419)),r=vg(s,r,void 0),xh(t,e,o,r)}if(a=(o&t.childLanes)!==0,In||a){if(r=Ut,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,ki(t,i),kr(r,t,i,-1))}return l0(),r=vg(Error(G(421))),xh(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=jV.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Bn=Is(i.nextSibling),zn=e,nt=!0,Rr=null,t!==null&&(ir[sr++]=mi,ir[sr++]=gi,ir[sr++]=Wo,mi=t.id,gi=t.overflow,Wo=e),e=n0(e,r.children),e.flags|=4096,e)}function KT(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),zy(t.return,e,n)}function wg(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function XR(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(En(t,e,r.children,n),r=ot.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&KT(t,n,e);else if(t.tag===19)KT(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ge(ot,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Ff(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),wg(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Ff(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}wg(e,!0,n,null,s);break;case"together":wg(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function rf(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ni(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ho|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(G(153));if(e.child!==null){for(t=e.child,n=Ns(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ns(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function RV(t,e,n){switch(e.tag){case 3:QR(e),Sl();break;case 5:xR(e);break;case 1:An(e.type)&&Nf(e);break;case 4:qw(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ge(Of,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ge(ot,ot.current&1),e.flags|=128,null):n&e.child.childLanes?YR(t,e,n):(Ge(ot,ot.current&1),t=Ni(t,e,n),t!==null?t.sibling:null);Ge(ot,ot.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return XR(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ge(ot,ot.current),r)break;return null;case 22:case 23:return e.lanes=0,GR(t,e,n)}return Ni(t,e,n)}var JR,Xy,ZR,eI;JR=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Xy=function(){};ZR=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Co(Gr.current);var s=null;switch(n){case"input":i=wy(t,i),r=wy(t,r),s=[];break;case"select":i=ct({},i,{value:void 0}),r=ct({},r,{value:void 0}),s=[];break;case"textarea":i=Ty(t,i),r=Ty(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Af)}Sy(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(_c.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(_c.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Je("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};eI=function(t,e,n,r){n!==r&&(e.flags|=4)};function ku(t,e){if(!nt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function nn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function IV(t,e,n){var r=e.pendingProps;switch(Bw(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nn(e),null;case 1:return An(e.type)&&kf(),nn(e),null;case 3:return r=e.stateNode,Cl(),Ze(Pn),Ze(fn),Yw(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Eh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Rr!==null&&(sv(Rr),Rr=null))),Xy(t,e),nn(e),null;case 5:Qw(e);var i=Co(Nc.current);if(n=e.type,t!==null&&e.stateNode!=null)ZR(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(G(166));return nn(e),null}if(t=Co(Gr.current),Eh(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Wr]=e,r[Ac]=s,t=(e.mode&1)!==0,n){case"dialog":Je("cancel",r),Je("close",r);break;case"iframe":case"object":case"embed":Je("load",r);break;case"video":case"audio":for(i=0;i<Wu.length;i++)Je(Wu[i],r);break;case"source":Je("error",r);break;case"img":case"image":case"link":Je("error",r),Je("load",r);break;case"details":Je("toggle",r);break;case"input":eT(r,s),Je("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Je("invalid",r);break;case"textarea":nT(r,s),Je("invalid",r)}Sy(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&_h(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&_h(r.textContent,a,t),i=["children",""+a]):_c.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Je("scroll",r)}switch(n){case"input":hh(r),tT(r,s,!0);break;case"textarea":hh(r),rT(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Af)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=I1(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Wr]=e,t[Ac]=r,JR(t,e,!1,!1),e.stateNode=t;e:{switch(o=by(n,r),n){case"dialog":Je("cancel",t),Je("close",t),i=r;break;case"iframe":case"object":case"embed":Je("load",t),i=r;break;case"video":case"audio":for(i=0;i<Wu.length;i++)Je(Wu[i],t);i=r;break;case"source":Je("error",t),i=r;break;case"img":case"image":case"link":Je("error",t),Je("load",t),i=r;break;case"details":Je("toggle",t),i=r;break;case"input":eT(t,r),i=wy(t,r),Je("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=ct({},r,{value:void 0}),Je("invalid",t);break;case"textarea":nT(t,r),i=Ty(t,r),Je("invalid",t);break;default:i=r}Sy(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?k1(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&P1(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ec(t,l):typeof l=="number"&&Ec(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(_c.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Je("scroll",t):l!=null&&Cw(t,s,l,o))}switch(n){case"input":hh(t),tT(t,r,!1);break;case"textarea":hh(t),rT(t);break;case"option":r.value!=null&&t.setAttribute("value",""+js(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?qa(t,!!r.multiple,s,!1):r.defaultValue!=null&&qa(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Af)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return nn(e),null;case 6:if(t&&e.stateNode!=null)eI(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(G(166));if(n=Co(Nc.current),Co(Gr.current),Eh(e)){if(r=e.stateNode,n=e.memoizedProps,r[Wr]=e,(s=r.nodeValue!==n)&&(t=zn,t!==null))switch(t.tag){case 3:_h(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&_h(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Wr]=e,e.stateNode=r}return nn(e),null;case 13:if(Ze(ot),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(nt&&Bn!==null&&e.mode&1&&!(e.flags&128))vR(),Sl(),e.flags|=98560,s=!1;else if(s=Eh(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(G(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(G(317));s[Wr]=e}else Sl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;nn(e),s=!1}else Rr!==null&&(sv(Rr),Rr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ot.current&1?Ot===0&&(Ot=3):l0())),e.updateQueue!==null&&(e.flags|=4),nn(e),null);case 4:return Cl(),Xy(t,e),t===null&&Ic(e.stateNode.containerInfo),nn(e),null;case 10:return Kw(e.type._context),nn(e),null;case 17:return An(e.type)&&kf(),nn(e),null;case 19:if(Ze(ot),s=e.memoizedState,s===null)return nn(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)ku(s,!1);else{if(Ot!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Ff(t),o!==null){for(e.flags|=128,ku(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ge(ot,ot.current&1|2),e.child}t=t.sibling}s.tail!==null&&St()>Il&&(e.flags|=128,r=!0,ku(s,!1),e.lanes=4194304)}else{if(!r)if(t=Ff(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ku(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!nt)return nn(e),null}else 2*St()-s.renderingStartTime>Il&&n!==1073741824&&(e.flags|=128,r=!0,ku(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=St(),e.sibling=null,n=ot.current,Ge(ot,r?n&1|2:n&1),e):(nn(e),null);case 22:case 23:return a0(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Fn&1073741824&&(nn(e),e.subtreeFlags&6&&(e.flags|=8192)):nn(e),null;case 24:return null;case 25:return null}throw Error(G(156,e.tag))}function PV(t,e){switch(Bw(e),e.tag){case 1:return An(e.type)&&kf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Cl(),Ze(Pn),Ze(fn),Yw(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Qw(e),null;case 13:if(Ze(ot),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(G(340));Sl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ze(ot),null;case 4:return Cl(),null;case 10:return Kw(e.type._context),null;case 22:case 23:return a0(),null;case 24:return null;default:return null}}var Sh=!1,ln=!1,AV=typeof WeakSet=="function"?WeakSet:Set,ee=null;function ja(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){gt(t,e,r)}else n.current=null}function Jy(t,e,n){try{n()}catch(r){gt(t,e,r)}}var HT=!1;function kV(t,e){if(Oy=Rf,t=sR(),jw(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,d=0,h=t,f=null;t:for(;;){for(var p;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===t)break t;if(f===n&&++u===i&&(a=o),f===s&&++d===r&&(l=o),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ly={focusedElem:t,selectionRange:n},Rf=!1,ee=e;ee!==null;)if(e=ee,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ee=t;else for(;ee!==null;){e=ee;try{var T=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(T!==null){var g=T.memoizedProps,x=T.memoizedState,E=e.stateNode,_=E.getSnapshotBeforeUpdate(e.elementType===e.type?g:xr(e.type,g),x);E.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(G(163))}}catch(I){gt(e,e.return,I)}if(t=e.sibling,t!==null){t.return=e.return,ee=t;break}ee=e.return}return T=HT,HT=!1,T}function sc(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Jy(e,n,s)}i=i.next}while(i!==r)}}function Fp(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Zy(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function tI(t){var e=t.alternate;e!==null&&(t.alternate=null,tI(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Wr],delete e[Ac],delete e[jy],delete e[fV],delete e[pV])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function nI(t){return t.tag===5||t.tag===3||t.tag===4}function GT(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||nI(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ev(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Af));else if(r!==4&&(t=t.child,t!==null))for(ev(t,e,n),t=t.sibling;t!==null;)ev(t,e,n),t=t.sibling}function tv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(tv(t,e,n),t=t.sibling;t!==null;)tv(t,e,n),t=t.sibling}var $t=null,br=!1;function Yi(t,e,n){for(n=n.child;n!==null;)rI(t,e,n),n=n.sibling}function rI(t,e,n){if(Hr&&typeof Hr.onCommitFiberUnmount=="function")try{Hr.onCommitFiberUnmount(Ap,n)}catch{}switch(n.tag){case 5:ln||ja(n,e);case 6:var r=$t,i=br;$t=null,Yi(t,e,n),$t=r,br=i,$t!==null&&(br?(t=$t,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):$t.removeChild(n.stateNode));break;case 18:$t!==null&&(br?(t=$t,n=n.stateNode,t.nodeType===8?hg(t.parentNode,n):t.nodeType===1&&hg(t,n),bc(t)):hg($t,n.stateNode));break;case 4:r=$t,i=br,$t=n.stateNode.containerInfo,br=!0,Yi(t,e,n),$t=r,br=i;break;case 0:case 11:case 14:case 15:if(!ln&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Jy(n,e,o),i=i.next}while(i!==r)}Yi(t,e,n);break;case 1:if(!ln&&(ja(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){gt(n,e,a)}Yi(t,e,n);break;case 21:Yi(t,e,n);break;case 22:n.mode&1?(ln=(r=ln)||n.memoizedState!==null,Yi(t,e,n),ln=r):Yi(t,e,n);break;default:Yi(t,e,n)}}function qT(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new AV),e.forEach(function(r){var i=UV.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Tr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:$t=a.stateNode,br=!1;break e;case 3:$t=a.stateNode.containerInfo,br=!0;break e;case 4:$t=a.stateNode.containerInfo,br=!0;break e}a=a.return}if($t===null)throw Error(G(160));rI(s,o,i),$t=null,br=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){gt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)iI(e,t),e=e.sibling}function iI(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Tr(e,t),Vr(t),r&4){try{sc(3,t,t.return),Fp(3,t)}catch(g){gt(t,t.return,g)}try{sc(5,t,t.return)}catch(g){gt(t,t.return,g)}}break;case 1:Tr(e,t),Vr(t),r&512&&n!==null&&ja(n,n.return);break;case 5:if(Tr(e,t),Vr(t),r&512&&n!==null&&ja(n,n.return),t.flags&32){var i=t.stateNode;try{Ec(i,"")}catch(g){gt(t,t.return,g)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&C1(i,s),by(a,o);var u=by(a,s);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?k1(i,h):d==="dangerouslySetInnerHTML"?P1(i,h):d==="children"?Ec(i,h):Cw(i,d,h,u)}switch(a){case"input":_y(i,s);break;case"textarea":R1(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?qa(i,!!s.multiple,p,!1):f!==!!s.multiple&&(s.defaultValue!=null?qa(i,!!s.multiple,s.defaultValue,!0):qa(i,!!s.multiple,s.multiple?[]:"",!1))}i[Ac]=s}catch(g){gt(t,t.return,g)}}break;case 6:if(Tr(e,t),Vr(t),r&4){if(t.stateNode===null)throw Error(G(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(g){gt(t,t.return,g)}}break;case 3:if(Tr(e,t),Vr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{bc(e.containerInfo)}catch(g){gt(t,t.return,g)}break;case 4:Tr(e,t),Vr(t);break;case 13:Tr(e,t),Vr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(s0=St())),r&4&&qT(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(ln=(u=ln)||d,Tr(e,t),ln=u):Tr(e,t),Vr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(ee=t,d=t.child;d!==null;){for(h=ee=d;ee!==null;){switch(f=ee,p=f.child,f.tag){case 0:case 11:case 14:case 15:sc(4,f,f.return);break;case 1:ja(f,f.return);var T=f.stateNode;if(typeof T.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,T.props=e.memoizedProps,T.state=e.memoizedState,T.componentWillUnmount()}catch(g){gt(r,n,g)}}break;case 5:ja(f,f.return);break;case 22:if(f.memoizedState!==null){YT(h);continue}}p!==null?(p.return=f,ee=p):YT(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=A1("display",o))}catch(g){gt(t,t.return,g)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){gt(t,t.return,g)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Tr(e,t),Vr(t),r&4&&qT(t);break;case 21:break;default:Tr(e,t),Vr(t)}}function Vr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(nI(n)){var r=n;break e}n=n.return}throw Error(G(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ec(i,""),r.flags&=-33);var s=GT(t);tv(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=GT(t);ev(t,a,o);break;default:throw Error(G(161))}}catch(l){gt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function NV(t,e,n){ee=t,sI(t)}function sI(t,e,n){for(var r=(t.mode&1)!==0;ee!==null;){var i=ee,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Sh;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||ln;a=Sh;var u=ln;if(Sh=o,(ln=l)&&!u)for(ee=i;ee!==null;)o=ee,l=o.child,o.tag===22&&o.memoizedState!==null?XT(i):l!==null?(l.return=o,ee=l):XT(i);for(;s!==null;)ee=s,sI(s),s=s.sibling;ee=i,Sh=a,ln=u}QT(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ee=s):QT(t)}}function QT(t){for(;ee!==null;){var e=ee;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ln||Fp(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!ln)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:xr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&DT(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}DT(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&bc(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(G(163))}ln||e.flags&512&&Zy(e)}catch(f){gt(e,e.return,f)}}if(e===t){ee=null;break}if(n=e.sibling,n!==null){n.return=e.return,ee=n;break}ee=e.return}}function YT(t){for(;ee!==null;){var e=ee;if(e===t){ee=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ee=n;break}ee=e.return}}function XT(t){for(;ee!==null;){var e=ee;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Fp(4,e)}catch(l){gt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){gt(e,i,l)}}var s=e.return;try{Zy(e)}catch(l){gt(e,s,l)}break;case 5:var o=e.return;try{Zy(e)}catch(l){gt(e,o,l)}}}catch(l){gt(e,e.return,l)}if(e===t){ee=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ee=a;break}ee=e.return}}var DV=Math.ceil,Bf=$i.ReactCurrentDispatcher,r0=$i.ReactCurrentOwner,lr=$i.ReactCurrentBatchConfig,Me=0,Ut=null,kt=null,Ht=0,Fn=0,Ua=Zs(0),Ot=0,Lc=null,Ho=0,jp=0,i0=0,oc=null,Rn=null,s0=0,Il=1/0,hi=null,$f=!1,nv=null,As=null,bh=!1,Ts=null,zf=0,ac=0,rv=null,sf=-1,of=0;function Tn(){return Me&6?St():sf!==-1?sf:sf=St()}function ks(t){return t.mode&1?Me&2&&Ht!==0?Ht&-Ht:gV.transition!==null?(of===0&&(of=z1()),of):(t=Fe,t!==0||(t=window.event,t=t===void 0?16:Y1(t.type)),t):1}function kr(t,e,n,r){if(50<ac)throw ac=0,rv=null,Error(G(185));wd(t,n,r),(!(Me&2)||t!==Ut)&&(t===Ut&&(!(Me&2)&&(jp|=n),Ot===4&&as(t,Ht)),kn(t,r),n===1&&Me===0&&!(e.mode&1)&&(Il=St()+500,Op&&eo()))}function kn(t,e){var n=t.callbackNode;g2(t,e);var r=Cf(t,t===Ut?Ht:0);if(r===0)n!==null&&oT(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&oT(n),e===1)t.tag===0?mV(JT.bind(null,t)):mR(JT.bind(null,t)),dV(function(){!(Me&6)&&eo()}),n=null;else{switch(W1(r)){case 1:n=kw;break;case 4:n=B1;break;case 16:n=bf;break;case 536870912:n=$1;break;default:n=bf}n=fI(n,oI.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function oI(t,e){if(sf=-1,of=0,Me&6)throw Error(G(327));var n=t.callbackNode;if(Za()&&t.callbackNode!==n)return null;var r=Cf(t,t===Ut?Ht:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Wf(t,r);else{e=r;var i=Me;Me|=2;var s=lI();(Ut!==t||Ht!==e)&&(hi=null,Il=St()+500,Fo(t,e));do try{LV();break}catch(a){aI(t,a)}while(!0);Ww(),Bf.current=s,Me=i,kt!==null?e=0:(Ut=null,Ht=0,e=Ot)}if(e!==0){if(e===2&&(i=Ay(t),i!==0&&(r=i,e=iv(t,i))),e===1)throw n=Lc,Fo(t,0),as(t,r),kn(t,St()),n;if(e===6)as(t,r);else{if(i=t.current.alternate,!(r&30)&&!MV(i)&&(e=Wf(t,r),e===2&&(s=Ay(t),s!==0&&(r=s,e=iv(t,s))),e===1))throw n=Lc,Fo(t,0),as(t,r),kn(t,St()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(G(345));case 2:wo(t,Rn,hi);break;case 3:if(as(t,r),(r&130023424)===r&&(e=s0+500-St(),10<e)){if(Cf(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Tn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Fy(wo.bind(null,t,Rn,hi),e);break}wo(t,Rn,hi);break;case 4:if(as(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Ar(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=St()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*DV(r/1960))-r,10<r){t.timeoutHandle=Fy(wo.bind(null,t,Rn,hi),r);break}wo(t,Rn,hi);break;case 5:wo(t,Rn,hi);break;default:throw Error(G(329))}}}return kn(t,St()),t.callbackNode===n?oI.bind(null,t):null}function iv(t,e){var n=oc;return t.current.memoizedState.isDehydrated&&(Fo(t,e).flags|=256),t=Wf(t,e),t!==2&&(e=Rn,Rn=n,e!==null&&sv(e)),t}function sv(t){Rn===null?Rn=t:Rn.push.apply(Rn,t)}function MV(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Nr(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function as(t,e){for(e&=~i0,e&=~jp,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ar(e),r=1<<n;t[n]=-1,e&=~r}}function JT(t){if(Me&6)throw Error(G(327));Za();var e=Cf(t,0);if(!(e&1))return kn(t,St()),null;var n=Wf(t,e);if(t.tag!==0&&n===2){var r=Ay(t);r!==0&&(e=r,n=iv(t,r))}if(n===1)throw n=Lc,Fo(t,0),as(t,e),kn(t,St()),n;if(n===6)throw Error(G(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,wo(t,Rn,hi),kn(t,St()),null}function o0(t,e){var n=Me;Me|=1;try{return t(e)}finally{Me=n,Me===0&&(Il=St()+500,Op&&eo())}}function Go(t){Ts!==null&&Ts.tag===0&&!(Me&6)&&Za();var e=Me;Me|=1;var n=lr.transition,r=Fe;try{if(lr.transition=null,Fe=1,t)return t()}finally{Fe=r,lr.transition=n,Me=e,!(Me&6)&&eo()}}function a0(){Fn=Ua.current,Ze(Ua)}function Fo(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,cV(n)),kt!==null)for(n=kt.return;n!==null;){var r=n;switch(Bw(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&kf();break;case 3:Cl(),Ze(Pn),Ze(fn),Yw();break;case 5:Qw(r);break;case 4:Cl();break;case 13:Ze(ot);break;case 19:Ze(ot);break;case 10:Kw(r.type._context);break;case 22:case 23:a0()}n=n.return}if(Ut=t,kt=t=Ns(t.current,null),Ht=Fn=e,Ot=0,Lc=null,i0=jp=Ho=0,Rn=oc=null,bo!==null){for(e=0;e<bo.length;e++)if(n=bo[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}bo=null}return t}function aI(t,e){do{var n=kt;try{if(Ww(),tf.current=Uf,jf){for(var r=ut.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}jf=!1}if(Ko=0,jt=Nt=ut=null,ic=!1,Dc=0,r0.current=null,n===null||n.return===null){Ot=1,Lc=e,kt=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Ht,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=jT(o);if(p!==null){p.flags&=-257,UT(p,o,a,s,e),p.mode&1&&FT(s,u,e),e=p,l=u;var T=e.updateQueue;if(T===null){var g=new Set;g.add(l),e.updateQueue=g}else T.add(l);break e}else{if(!(e&1)){FT(s,u,e),l0();break e}l=Error(G(426))}}else if(nt&&a.mode&1){var x=jT(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),UT(x,o,a,s,e),$w(Rl(l,a));break e}}s=l=Rl(l,a),Ot!==4&&(Ot=2),oc===null?oc=[s]:oc.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var E=WR(s,l,e);NT(s,E);break e;case 1:a=l;var _=s.type,b=s.stateNode;if(!(s.flags&128)&&(typeof _.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(As===null||!As.has(b)))){s.flags|=65536,e&=-e,s.lanes|=e;var I=KR(s,a,e);NT(s,I);break e}}s=s.return}while(s!==null)}cI(n)}catch(N){e=N,kt===n&&n!==null&&(kt=n=n.return);continue}break}while(!0)}function lI(){var t=Bf.current;return Bf.current=Uf,t===null?Uf:t}function l0(){(Ot===0||Ot===3||Ot===2)&&(Ot=4),Ut===null||!(Ho&268435455)&&!(jp&268435455)||as(Ut,Ht)}function Wf(t,e){var n=Me;Me|=2;var r=lI();(Ut!==t||Ht!==e)&&(hi=null,Fo(t,e));do try{OV();break}catch(i){aI(t,i)}while(!0);if(Ww(),Me=n,Bf.current=r,kt!==null)throw Error(G(261));return Ut=null,Ht=0,Ot}function OV(){for(;kt!==null;)uI(kt)}function LV(){for(;kt!==null&&!a2();)uI(kt)}function uI(t){var e=hI(t.alternate,t,Fn);t.memoizedProps=t.pendingProps,e===null?cI(t):kt=e,r0.current=null}function cI(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=PV(n,e),n!==null){n.flags&=32767,kt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ot=6,kt=null;return}}else if(n=IV(n,e,Fn),n!==null){kt=n;return}if(e=e.sibling,e!==null){kt=e;return}kt=e=t}while(e!==null);Ot===0&&(Ot=5)}function wo(t,e,n){var r=Fe,i=lr.transition;try{lr.transition=null,Fe=1,VV(t,e,n,r)}finally{lr.transition=i,Fe=r}return null}function VV(t,e,n,r){do Za();while(Ts!==null);if(Me&6)throw Error(G(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(G(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(y2(t,s),t===Ut&&(kt=Ut=null,Ht=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||bh||(bh=!0,fI(bf,function(){return Za(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=lr.transition,lr.transition=null;var o=Fe;Fe=1;var a=Me;Me|=4,r0.current=null,kV(t,n),iI(n,t),rV(Ly),Rf=!!Oy,Ly=Oy=null,t.current=n,NV(n),l2(),Me=a,Fe=o,lr.transition=s}else t.current=n;if(bh&&(bh=!1,Ts=t,zf=i),s=t.pendingLanes,s===0&&(As=null),d2(n.stateNode),kn(t,St()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if($f)throw $f=!1,t=nv,nv=null,t;return zf&1&&t.tag!==0&&Za(),s=t.pendingLanes,s&1?t===rv?ac++:(ac=0,rv=t):ac=0,eo(),null}function Za(){if(Ts!==null){var t=W1(zf),e=lr.transition,n=Fe;try{if(lr.transition=null,Fe=16>t?16:t,Ts===null)var r=!1;else{if(t=Ts,Ts=null,zf=0,Me&6)throw Error(G(331));var i=Me;for(Me|=4,ee=t.current;ee!==null;){var s=ee,o=s.child;if(ee.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(ee=u;ee!==null;){var d=ee;switch(d.tag){case 0:case 11:case 15:sc(8,d,s)}var h=d.child;if(h!==null)h.return=d,ee=h;else for(;ee!==null;){d=ee;var f=d.sibling,p=d.return;if(tI(d),d===u){ee=null;break}if(f!==null){f.return=p,ee=f;break}ee=p}}}var T=s.alternate;if(T!==null){var g=T.child;if(g!==null){T.child=null;do{var x=g.sibling;g.sibling=null,g=x}while(g!==null)}}ee=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,ee=o;else e:for(;ee!==null;){if(s=ee,s.flags&2048)switch(s.tag){case 0:case 11:case 15:sc(9,s,s.return)}var E=s.sibling;if(E!==null){E.return=s.return,ee=E;break e}ee=s.return}}var _=t.current;for(ee=_;ee!==null;){o=ee;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,ee=b;else e:for(o=_;ee!==null;){if(a=ee,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Fp(9,a)}}catch(N){gt(a,a.return,N)}if(a===o){ee=null;break e}var I=a.sibling;if(I!==null){I.return=a.return,ee=I;break e}ee=a.return}}if(Me=i,eo(),Hr&&typeof Hr.onPostCommitFiberRoot=="function")try{Hr.onPostCommitFiberRoot(Ap,t)}catch{}r=!0}return r}finally{Fe=n,lr.transition=e}}return!1}function ZT(t,e,n){e=Rl(n,e),e=WR(t,e,1),t=Ps(t,e,1),e=Tn(),t!==null&&(wd(t,1,e),kn(t,e))}function gt(t,e,n){if(t.tag===3)ZT(t,t,n);else for(;e!==null;){if(e.tag===3){ZT(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(As===null||!As.has(r))){t=Rl(n,t),t=KR(e,t,1),e=Ps(e,t,1),t=Tn(),e!==null&&(wd(e,1,t),kn(e,t));break}}e=e.return}}function FV(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Tn(),t.pingedLanes|=t.suspendedLanes&n,Ut===t&&(Ht&n)===n&&(Ot===4||Ot===3&&(Ht&130023424)===Ht&&500>St()-s0?Fo(t,0):i0|=n),kn(t,e)}function dI(t,e){e===0&&(t.mode&1?(e=mh,mh<<=1,!(mh&130023424)&&(mh=4194304)):e=1);var n=Tn();t=ki(t,e),t!==null&&(wd(t,e,n),kn(t,n))}function jV(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),dI(t,n)}function UV(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(G(314))}r!==null&&r.delete(e),dI(t,n)}var hI;hI=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Pn.current)In=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return In=!1,RV(t,e,n);In=!!(t.flags&131072)}else In=!1,nt&&e.flags&1048576&&gR(e,Mf,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;rf(t,e),t=e.pendingProps;var i=xl(e,fn.current);Ja(e,n),i=Jw(null,e,r,t,i,n);var s=Zw();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,An(r)?(s=!0,Nf(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Gw(e),i.updater=Vp,e.stateNode=i,i._reactInternals=e,Ky(e,r,t,n),e=qy(null,e,r,!0,s,n)):(e.tag=0,nt&&s&&Uw(e),En(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(rf(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=$V(r),t=xr(r,t),i){case 0:e=Gy(null,e,r,t,n);break e;case 1:e=zT(null,e,r,t,n);break e;case 11:e=BT(null,e,r,t,n);break e;case 14:e=$T(null,e,r,xr(r.type,t),n);break e}throw Error(G(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:xr(r,i),Gy(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:xr(r,i),zT(t,e,r,i,n);case 3:e:{if(QR(e),t===null)throw Error(G(387));r=e.pendingProps,s=e.memoizedState,i=s.element,TR(t,e),Vf(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Rl(Error(G(423)),e),e=WT(t,e,r,n,i);break e}else if(r!==i){i=Rl(Error(G(424)),e),e=WT(t,e,r,n,i);break e}else for(Bn=Is(e.stateNode.containerInfo.firstChild),zn=e,nt=!0,Rr=null,n=_R(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Sl(),r===i){e=Ni(t,e,n);break e}En(t,e,r,n)}e=e.child}return e;case 5:return xR(e),t===null&&$y(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Vy(r,i)?o=null:s!==null&&Vy(r,s)&&(e.flags|=32),qR(t,e),En(t,e,o,n),e.child;case 6:return t===null&&$y(e),null;case 13:return YR(t,e,n);case 4:return qw(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=bl(e,null,r,n):En(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:xr(r,i),BT(t,e,r,i,n);case 7:return En(t,e,e.pendingProps,n),e.child;case 8:return En(t,e,e.pendingProps.children,n),e.child;case 12:return En(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Ge(Of,r._currentValue),r._currentValue=o,s!==null)if(Nr(s.value,o)){if(s.children===i.children&&!Pn.current){e=Ni(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=xi(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),zy(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(G(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),zy(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}En(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ja(e,n),i=hr(i),r=r(i),e.flags|=1,En(t,e,r,n),e.child;case 14:return r=e.type,i=xr(r,e.pendingProps),i=xr(r.type,i),$T(t,e,r,i,n);case 15:return HR(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:xr(r,i),rf(t,e),e.tag=1,An(r)?(t=!0,Nf(e)):t=!1,Ja(e,n),zR(e,r,i),Ky(e,r,i,n),qy(null,e,r,!0,t,n);case 19:return XR(t,e,n);case 22:return GR(t,e,n)}throw Error(G(156,e.tag))};function fI(t,e){return U1(t,e)}function BV(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ar(t,e,n,r){return new BV(t,e,n,r)}function u0(t){return t=t.prototype,!(!t||!t.isReactComponent)}function $V(t){if(typeof t=="function")return u0(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Iw)return 11;if(t===Pw)return 14}return 2}function Ns(t,e){var n=t.alternate;return n===null?(n=ar(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function af(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")u0(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Aa:return jo(n.children,i,s,e);case Rw:o=8,i|=8;break;case my:return t=ar(12,n,e,i|2),t.elementType=my,t.lanes=s,t;case gy:return t=ar(13,n,e,i),t.elementType=gy,t.lanes=s,t;case yy:return t=ar(19,n,e,i),t.elementType=yy,t.lanes=s,t;case x1:return Up(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case E1:o=10;break e;case T1:o=9;break e;case Iw:o=11;break e;case Pw:o=14;break e;case is:o=16,r=null;break e}throw Error(G(130,t==null?t:typeof t,""))}return e=ar(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function jo(t,e,n,r){return t=ar(7,t,r,e),t.lanes=n,t}function Up(t,e,n,r){return t=ar(22,t,r,e),t.elementType=x1,t.lanes=n,t.stateNode={isHidden:!1},t}function _g(t,e,n){return t=ar(6,t,null,e),t.lanes=n,t}function Eg(t,e,n){return e=ar(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function zV(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=tg(0),this.expirationTimes=tg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=tg(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function c0(t,e,n,r,i,s,o,a,l){return t=new zV(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=ar(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Gw(s),t}function WV(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Pa,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function pI(t){if(!t)return Us;t=t._reactInternals;e:{if(sa(t)!==t||t.tag!==1)throw Error(G(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(An(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(G(171))}if(t.tag===1){var n=t.type;if(An(n))return pR(t,n,e)}return e}function mI(t,e,n,r,i,s,o,a,l){return t=c0(n,r,!0,t,i,s,o,a,l),t.context=pI(null),n=t.current,r=Tn(),i=ks(n),s=xi(r,i),s.callback=e??null,Ps(n,s,i),t.current.lanes=i,wd(t,i,r),kn(t,r),t}function Bp(t,e,n,r){var i=e.current,s=Tn(),o=ks(i);return n=pI(n),e.context===null?e.context=n:e.pendingContext=n,e=xi(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ps(i,e,o),t!==null&&(kr(t,i,o,s),ef(t,i,o)),o}function Kf(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function ex(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function d0(t,e){ex(t,e),(t=t.alternate)&&ex(t,e)}function KV(){return null}var gI=typeof reportError=="function"?reportError:function(t){console.error(t)};function h0(t){this._internalRoot=t}$p.prototype.render=h0.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(G(409));Bp(t,e,null,null)};$p.prototype.unmount=h0.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Go(function(){Bp(null,t,null,null)}),e[Ai]=null}};function $p(t){this._internalRoot=t}$p.prototype.unstable_scheduleHydration=function(t){if(t){var e=G1();t={blockedOn:null,target:t,priority:e};for(var n=0;n<os.length&&e!==0&&e<os[n].priority;n++);os.splice(n,0,t),n===0&&Q1(t)}};function f0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function zp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function tx(){}function HV(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Kf(o);s.call(u)}}var o=mI(e,r,t,0,null,!1,!1,"",tx);return t._reactRootContainer=o,t[Ai]=o.current,Ic(t.nodeType===8?t.parentNode:t),Go(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Kf(l);a.call(u)}}var l=c0(t,0,!1,null,null,!1,!1,"",tx);return t._reactRootContainer=l,t[Ai]=l.current,Ic(t.nodeType===8?t.parentNode:t),Go(function(){Bp(e,l,n,r)}),l}function Wp(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Kf(o);a.call(l)}}Bp(e,o,t,i)}else o=HV(n,e,t,i,r);return Kf(o)}K1=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=zu(e.pendingLanes);n!==0&&(Nw(e,n|1),kn(e,St()),!(Me&6)&&(Il=St()+500,eo()))}break;case 13:Go(function(){var r=ki(t,1);if(r!==null){var i=Tn();kr(r,t,1,i)}}),d0(t,1)}};Dw=function(t){if(t.tag===13){var e=ki(t,134217728);if(e!==null){var n=Tn();kr(e,t,134217728,n)}d0(t,134217728)}};H1=function(t){if(t.tag===13){var e=ks(t),n=ki(t,e);if(n!==null){var r=Tn();kr(n,t,e,r)}d0(t,e)}};G1=function(){return Fe};q1=function(t,e){var n=Fe;try{return Fe=t,e()}finally{Fe=n}};Ry=function(t,e,n){switch(e){case"input":if(_y(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Mp(r);if(!i)throw Error(G(90));b1(r),_y(r,i)}}}break;case"textarea":R1(t,n);break;case"select":e=n.value,e!=null&&qa(t,!!n.multiple,e,!1)}};M1=o0;O1=Go;var GV={usingClientEntryPoint:!1,Events:[Ed,Ma,Mp,N1,D1,o0]},Nu={findFiberByHostInstance:So,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},qV={bundleType:Nu.bundleType,version:Nu.version,rendererPackageName:Nu.rendererPackageName,rendererConfig:Nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$i.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=F1(t),t===null?null:t.stateNode},findFiberByHostInstance:Nu.findFiberByHostInstance||KV,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ch=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ch.isDisabled&&Ch.supportsFiber)try{Ap=Ch.inject(qV),Hr=Ch}catch{}}qn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=GV;qn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f0(e))throw Error(G(200));return WV(t,e,null,n)};qn.createRoot=function(t,e){if(!f0(t))throw Error(G(299));var n=!1,r="",i=gI;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=c0(t,1,!1,null,null,n,!1,r,i),t[Ai]=e.current,Ic(t.nodeType===8?t.parentNode:t),new h0(e)};qn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(G(188)):(t=Object.keys(t).join(","),Error(G(268,t)));return t=F1(e),t=t===null?null:t.stateNode,t};qn.flushSync=function(t){return Go(t)};qn.hydrate=function(t,e,n){if(!zp(e))throw Error(G(200));return Wp(null,t,e,!0,n)};qn.hydrateRoot=function(t,e,n){if(!f0(t))throw Error(G(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=gI;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=mI(e,null,t,1,n??null,i,!1,s,o),t[Ai]=e.current,Ic(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new $p(e)};qn.render=function(t,e,n){if(!zp(e))throw Error(G(200));return Wp(null,t,e,!1,n)};qn.unmountComponentAtNode=function(t){if(!zp(t))throw Error(G(40));return t._reactRootContainer?(Go(function(){Wp(null,null,t,!1,function(){t._reactRootContainer=null,t[Ai]=null})}),!0):!1};qn.unstable_batchedUpdates=o0;qn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!zp(n))throw Error(G(200));if(t==null||t._reactInternals===void 0)throw Error(G(38));return Wp(t,e,n,!1,r)};qn.version="18.3.1-next-f1338f8080-20240426";function yI(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(yI)}catch(t){console.error(t)}}yI(),y1.exports=qn;var Gl=y1.exports;const vI=ww(Gl),QV=i1({__proto__:null,default:vI},[Gl]);var nx=Gl;fy.createRoot=nx.createRoot,fy.hydrateRoot=nx.hydrateRoot;var rx={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wI=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},YV=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},_I={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,d=s>>2,h=(s&3)<<4|a>>4;let f=(a&15)<<2|u>>6,p=u&63;l||(p=64,o||(f=64)),r.push(n[d],n[h],n[f],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(wI(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):YV(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||h==null)throw new XV;const f=s<<2|a>>4;if(r.push(f),u!==64){const p=a<<4&240|u>>2;if(r.push(p),h!==64){const T=u<<6&192|h;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class XV extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const JV=function(t){const e=wI(t);return _I.encodeByteArray(e,!0)},Hf=function(t){return JV(t).replace(/\./g,"")},EI=function(t){try{return _I.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eF=()=>ZV().__FIREBASE_DEFAULTS__,tF=()=>{if(typeof process>"u"||typeof rx>"u")return;const t=rx.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},nF=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&EI(t[1]);return e&&JSON.parse(e)},Kp=()=>{try{return eF()||tF()||nF()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},TI=t=>{var e,n;return(n=(e=Kp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},xI=t=>{const e=TI(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},SI=()=>{var t;return(t=Kp())===null||t===void 0?void 0:t.config},bI=t=>{var e;return(e=Kp())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rF=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CI(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Hf(JSON.stringify(n)),Hf(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function iF(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pn())}function sF(){var t;const e=(t=Kp())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function oF(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function aF(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function lF(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function uF(){const t=pn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function cF(){return!sF()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function dF(){try{return typeof indexedDB=="object"}catch{return!1}}function hF(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fF="FirebaseError";class ii extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=fF,Object.setPrototypeOf(this,ii.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xd.prototype.create)}}class xd{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?pF(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new ii(i,a,r)}}function pF(t,e){return t.replace(mF,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const mF=/\{\$([^}]+)}/g;function gF(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Gf(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(ix(s)&&ix(o)){if(!Gf(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function ix(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sd(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function yF(t,e){const n=new vF(t,e);return n.subscribe.bind(n)}class vF{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");wF(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Tg),i.error===void 0&&(i.error=Tg),i.complete===void 0&&(i.complete=Tg);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function wF(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Tg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dn(t){return t&&t._delegate?t._delegate:t}class Bs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _o="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _F=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new rF;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(TF(e))try{this.getOrInitializeService({instanceIdentifier:_o})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=_o){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=_o){return this.instances.has(e)}getOptions(e=_o){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:EF(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=_o){return this.component?this.component.multipleInstances?e:_o:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function EF(t){return t===_o?void 0:t}function TF(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xF{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new _F(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ke;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ke||(ke={}));const SF={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},bF=ke.INFO,CF={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},RF=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=CF[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class p0{constructor(e){this.name=e,this._logLevel=bF,this._logHandler=RF,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?SF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}}const IF=(t,e)=>e.some(n=>t instanceof n);let sx,ox;function PF(){return sx||(sx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function AF(){return ox||(ox=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const RI=new WeakMap,ov=new WeakMap,II=new WeakMap,xg=new WeakMap,m0=new WeakMap;function kF(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Ds(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&RI.set(n,t)}).catch(()=>{}),m0.set(e,t),e}function NF(t){if(ov.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});ov.set(t,e)}let av={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ov.get(t);if(e==="objectStoreNames")return t.objectStoreNames||II.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ds(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function DF(t){av=t(av)}function MF(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Sg(this),e,...n);return II.set(r,e.sort?e.sort():[e]),Ds(r)}:AF().includes(t)?function(...e){return t.apply(Sg(this),e),Ds(RI.get(this))}:function(...e){return Ds(t.apply(Sg(this),e))}}function OF(t){return typeof t=="function"?MF(t):(t instanceof IDBTransaction&&NF(t),IF(t,PF())?new Proxy(t,av):t)}function Ds(t){if(t instanceof IDBRequest)return kF(t);if(xg.has(t))return xg.get(t);const e=OF(t);return e!==t&&(xg.set(t,e),m0.set(e,t)),e}const Sg=t=>m0.get(t);function LF(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Ds(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Ds(o.result),l.oldVersion,l.newVersion,Ds(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const VF=["get","getKey","getAll","getAllKeys","count"],FF=["put","add","delete","clear"],bg=new Map;function ax(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(bg.get(e))return bg.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=FF.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||VF.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return bg.set(e,s),s}DF(t=>({...t,get:(e,n,r)=>ax(e,n)||t.get(e,n,r),has:(e,n)=>!!ax(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jF{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(UF(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function UF(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const lv="@firebase/app",lx="0.10.11";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Di=new p0("@firebase/app"),BF="@firebase/app-compat",$F="@firebase/analytics-compat",zF="@firebase/analytics",WF="@firebase/app-check-compat",KF="@firebase/app-check",HF="@firebase/auth",GF="@firebase/auth-compat",qF="@firebase/database",QF="@firebase/database-compat",YF="@firebase/functions",XF="@firebase/functions-compat",JF="@firebase/installations",ZF="@firebase/installations-compat",ej="@firebase/messaging",tj="@firebase/messaging-compat",nj="@firebase/performance",rj="@firebase/performance-compat",ij="@firebase/remote-config",sj="@firebase/remote-config-compat",oj="@firebase/storage",aj="@firebase/storage-compat",lj="@firebase/firestore",uj="@firebase/vertexai-preview",cj="@firebase/firestore-compat",dj="firebase",hj="10.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uv="[DEFAULT]",fj={[lv]:"fire-core",[BF]:"fire-core-compat",[zF]:"fire-analytics",[$F]:"fire-analytics-compat",[KF]:"fire-app-check",[WF]:"fire-app-check-compat",[HF]:"fire-auth",[GF]:"fire-auth-compat",[qF]:"fire-rtdb",[QF]:"fire-rtdb-compat",[YF]:"fire-fn",[XF]:"fire-fn-compat",[JF]:"fire-iid",[ZF]:"fire-iid-compat",[ej]:"fire-fcm",[tj]:"fire-fcm-compat",[nj]:"fire-perf",[rj]:"fire-perf-compat",[ij]:"fire-rc",[sj]:"fire-rc-compat",[oj]:"fire-gcs",[aj]:"fire-gcs-compat",[lj]:"fire-fst",[cj]:"fire-fst-compat",[uj]:"fire-vertex","fire-js":"fire-js",[dj]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qf=new Map,pj=new Map,cv=new Map;function ux(t,e){try{t.container.addComponent(e)}catch(n){Di.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function qo(t){const e=t.name;if(cv.has(e))return Di.debug(`There were multiple attempts to register component ${e}.`),!1;cv.set(e,t);for(const n of qf.values())ux(n,t);for(const n of pj.values())ux(n,t);return!0}function Hp(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function yi(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ms=new xd("app","Firebase",mj);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gj{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Bs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ms.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oa=hj;function PI(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:uv,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ms.create("bad-app-name",{appName:String(i)});if(n||(n=SI()),!n)throw Ms.create("no-options");const s=qf.get(i);if(s){if(Gf(n,s.options)&&Gf(r,s.config))return s;throw Ms.create("duplicate-app",{appName:i})}const o=new xF(i);for(const l of cv.values())o.addComponent(l);const a=new gj(n,r,o);return qf.set(i,a),a}function g0(t=uv){const e=qf.get(t);if(!e&&t===uv&&SI())return PI();if(!e)throw Ms.create("no-app",{appName:t});return e}function qr(t,e,n){var r;let i=(r=fj[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Di.warn(a.join(" "));return}qo(new Bs(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yj="firebase-heartbeat-database",vj=1,Vc="firebase-heartbeat-store";let Cg=null;function AI(){return Cg||(Cg=LF(yj,vj,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Vc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ms.create("idb-open",{originalErrorMessage:t.message})})),Cg}async function wj(t){try{const n=(await AI()).transaction(Vc),r=await n.objectStore(Vc).get(kI(t));return await n.done,r}catch(e){if(e instanceof ii)Di.warn(e.message);else{const n=Ms.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Di.warn(n.message)}}}async function cx(t,e){try{const r=(await AI()).transaction(Vc,"readwrite");await r.objectStore(Vc).put(e,kI(t)),await r.done}catch(n){if(n instanceof ii)Di.warn(n.message);else{const r=Ms.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Di.warn(r.message)}}}function kI(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _j=1024,Ej=30*24*60*60*1e3;class Tj{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Sj(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=dx();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=Ej}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Di.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=dx(),{heartbeatsToSend:r,unsentEntries:i}=xj(this._heartbeatsCache.heartbeats),s=Hf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Di.warn(n),""}}}function dx(){return new Date().toISOString().substring(0,10)}function xj(t,e=_j){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),hx(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),hx(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Sj{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return dF()?hF().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await wj(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return cx(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return cx(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function hx(t){return Hf(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bj(t){qo(new Bs("platform-logger",e=>new jF(e),"PRIVATE")),qo(new Bs("heartbeat",e=>new Tj(e),"PRIVATE")),qr(lv,lx,t),qr(lv,lx,"esm2017"),qr("fire-js","")}bj("");var cn=function(){return cn=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},cn.apply(this,arguments)};function ql(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function NI(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}function DI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Cj=DI,MI=new xd("auth","Firebase",DI());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qf=new p0("@firebase/auth");function Rj(t,...e){Qf.logLevel<=ke.WARN&&Qf.warn(`Auth (${oa}): ${t}`,...e)}function lf(t,...e){Qf.logLevel<=ke.ERROR&&Qf.error(`Auth (${oa}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mi(t,...e){throw y0(t,...e)}function Qr(t,...e){return y0(t,...e)}function OI(t,e,n){const r=Object.assign(Object.assign({},Cj()),{[e]:n});return new xd("auth","Firebase",r).create(e,{appName:t.name})}function Os(t){return OI(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function y0(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return MI.create(t,...e)}function me(t,e,...n){if(!t)throw y0(e,...n)}function vi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw lf(e),new Error(e)}function Oi(t,e){t||vi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Ij(){return fx()==="http:"||fx()==="https:"}function fx(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pj(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Ij()||aF()||"connection"in navigator)?navigator.onLine:!0}function Aj(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(e,n){this.shortDelay=e,this.longDelay=n,Oi(n>e,"Short delay should be less than long delay!"),this.isMobile=iF()||lF()}get(){return Pj()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v0(t,e){Oi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;vi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;vi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;vi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kj={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nj=new bd(3e4,6e4);function Gp(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ql(t,e,n,r,i={}){return VI(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Sd(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},s);return oF()||(u.referrerPolicy="no-referrer"),LI.fetch()(jI(t,t.config.apiHost,n,a),u)})}async function VI(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},kj),e);try{const i=new Dj(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Rh(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Rh(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Rh(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Rh(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw OI(t,d,u);Mi(t,d)}}catch(i){if(i instanceof ii)throw i;Mi(t,"network-request-failed",{message:String(i)})}}async function FI(t,e,n,r,i={}){const s=await Ql(t,e,n,r,i);return"mfaPendingCredential"in s&&Mi(t,"multi-factor-auth-required",{_serverResponse:s}),s}function jI(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?v0(t.config,i):`${t.config.apiScheme}://${i}`}class Dj{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Qr(this.auth,"network-request-failed")),Nj.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Rh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Qr(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mj(t,e){return Ql(t,"POST","/v1/accounts:delete",e)}async function UI(t,e){return Ql(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Oj(t,e=!1){const n=Dn(t),r=await n.getIdToken(e),i=w0(r);me(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:lc(Rg(i.auth_time)),issuedAtTime:lc(Rg(i.iat)),expirationTime:lc(Rg(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Rg(t){return Number(t)*1e3}function w0(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return lf("JWT malformed, contained fewer than 3 sections"),null;try{const i=EI(n);return i?JSON.parse(i):(lf("Failed to decode base64 JWT payload"),null)}catch(i){return lf("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function px(t){const e=w0(t);return me(e,"internal-error"),me(typeof e.exp<"u","internal-error"),me(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ii&&Lj(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Lj({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vj{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hv{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=lc(this.lastLoginAt),this.creationTime=lc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yf(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Fc(t,UI(n,{idToken:r}));me(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?BI(s.providerUserInfo):[],a=jj(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),d=l?u:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new hv(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function Fj(t){const e=Dn(t);await Yf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function jj(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function BI(t){return t.map(e=>{var{providerId:n}=e,r=ql(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uj(t,e){const n=await VI(t,{},async()=>{const r=Sd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=jI(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",LI.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Bj(t,e){return Ql(t,"POST","/v2/accounts:revokeToken",Gp(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){me(e.idToken,"internal-error"),me(typeof e.idToken<"u","internal-error"),me(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):px(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){me(e.length!==0,"internal-error");const n=px(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(me(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await Uj(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new el;return r&&(me(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(me(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(me(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new el,this.toJSON())}_performRefresh(){return vi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xi(t,e){me(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class wi{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=ql(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Vj(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new hv(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Fc(this,this.stsTokenManager.getToken(this.auth,e));return me(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Oj(this,e)}reload(){return Fj(this)}_assign(e){this!==e&&(me(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new wi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Yf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(yi(this.auth.app))return Promise.reject(Os(this.auth));const e=await this.getIdToken();return await Fc(this,Mj(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,d;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,p=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,T=(o=n.photoURL)!==null&&o!==void 0?o:void 0,g=(a=n.tenantId)!==null&&a!==void 0?a:void 0,x=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,E=(u=n.createdAt)!==null&&u!==void 0?u:void 0,_=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:b,emailVerified:I,isAnonymous:N,providerData:F,stsTokenManager:C}=n;me(b&&C,e,"internal-error");const w=el.fromJSON(this.name,C);me(typeof b=="string",e,"internal-error"),Xi(h,e.name),Xi(f,e.name),me(typeof I=="boolean",e,"internal-error"),me(typeof N=="boolean",e,"internal-error"),Xi(p,e.name),Xi(T,e.name),Xi(g,e.name),Xi(x,e.name),Xi(E,e.name),Xi(_,e.name);const R=new wi({uid:b,auth:e,email:f,emailVerified:I,displayName:h,isAnonymous:N,photoURL:T,phoneNumber:p,tenantId:g,stsTokenManager:w,createdAt:E,lastLoginAt:_});return F&&Array.isArray(F)&&(R.providerData=F.map(A=>Object.assign({},A))),x&&(R._redirectEventId=x),R}static async _fromIdTokenResponse(e,n,r=!1){const i=new el;i.updateFromServerResponse(n);const s=new wi({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Yf(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];me(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?BI(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new el;a.updateFromIdToken(r);const l=new wi({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new hv(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mx=new Map;function _i(t){Oi(t instanceof Function,"Expected a class definition");let e=mx.get(t);return e?(Oi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,mx.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}$I.type="NONE";const gx=$I;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uf(t,e,n){return`firebase:${t}:${e}:${n}`}class tl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=uf(this.userKey,i.apiKey,s),this.fullPersistenceKey=uf("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?wi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new tl(_i(gx),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||_i(gx);const o=uf(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const d=await u._get(o);if(d){const h=wi._fromJSON(e,d);u!==s&&(a=h),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new tl(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new tl(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yx(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(HI(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(zI(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(qI(e))return"Blackberry";if(QI(e))return"Webos";if(WI(e))return"Safari";if((e.includes("chrome/")||KI(e))&&!e.includes("edge/"))return"Chrome";if(GI(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function zI(t=pn()){return/firefox\//i.test(t)}function WI(t=pn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function KI(t=pn()){return/crios\//i.test(t)}function HI(t=pn()){return/iemobile/i.test(t)}function GI(t=pn()){return/android/i.test(t)}function qI(t=pn()){return/blackberry/i.test(t)}function QI(t=pn()){return/webos/i.test(t)}function _0(t=pn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function $j(t=pn()){var e;return _0(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function zj(){return uF()&&document.documentMode===10}function YI(t=pn()){return _0(t)||GI(t)||QI(t)||qI(t)||/windows phone/i.test(t)||HI(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XI(t,e=[]){let n;switch(t){case"Browser":n=yx(pn());break;case"Worker":n=`${yx(pn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${oa}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wj{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kj(t,e={}){return Ql(t,"GET","/v2/passwordPolicy",Gp(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hj=6;class Gj{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:Hj,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qj{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new vx(this),this.idTokenSubscription=new vx(this),this.beforeStateQueue=new Wj(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=MI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=_i(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await tl.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await UI(this,{idToken:e}),r=await wi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(yi(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return me(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Yf(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Aj()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(yi(this.app))return Promise.reject(Os(this));const n=e?Dn(e):null;return n&&me(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&me(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return yi(this.app)?Promise.reject(Os(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return yi(this.app)?Promise.reject(Os(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(_i(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Kj(this),n=new Gj(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new xd("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Bj(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&_i(e)||this._popupRedirectResolver;me(n,this,"argument-error"),this.redirectPersistenceManager=await tl.create(this,[_i(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(me(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=XI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&Rj(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function qp(t){return Dn(t)}class vx{constructor(e){this.auth=e,this.observer=null,this.addObserver=yF(n=>this.observer=n)}get next(){return me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let E0={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Qj(t){E0=t}function Yj(t){return E0.loadJS(t)}function Xj(){return E0.gapiScript}function Jj(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zj(t,e){const n=Hp(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Gf(s,e??{}))return i;Mi(i,"already-initialized")}return n.initialize({options:e})}function eU(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(_i);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function tU(t,e,n){const r=qp(t);me(r._canInitEmulator,r,"emulator-config-failed"),me(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=JI(e),{host:o,port:a}=nU(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),rU()}function JI(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function nU(t){const e=JI(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:wx(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:wx(o)}}}function wx(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function rU(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return vi("not implemented")}_getIdTokenResponse(e){return vi("not implemented")}_linkToIdToken(e,n){return vi("not implemented")}_getReauthenticationResolver(e){return vi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nl(t,e){return FI(t,"POST","/v1/accounts:signInWithIdp",Gp(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iU="http://localhost";class Qo extends ZI{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Qo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Mi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=ql(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Qo(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return nl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,nl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,nl(e,n)}buildRequest(){const e={requestUri:iU,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Sd(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eP{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd extends eP{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls extends Cd{constructor(){super("facebook.com")}static credential(e){return Qo._fromParams({providerId:ls.PROVIDER_ID,signInMethod:ls.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ls.credentialFromTaggedObject(e)}static credentialFromError(e){return ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ls.credential(e.oauthAccessToken)}catch{return null}}}ls.FACEBOOK_SIGN_IN_METHOD="facebook.com";ls.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us extends Cd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Qo._fromParams({providerId:us.PROVIDER_ID,signInMethod:us.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return us.credentialFromTaggedObject(e)}static credentialFromError(e){return us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return us.credential(n,r)}catch{return null}}}us.GOOGLE_SIGN_IN_METHOD="google.com";us.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs extends Cd{constructor(){super("github.com")}static credential(e){return Qo._fromParams({providerId:cs.PROVIDER_ID,signInMethod:cs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return cs.credentialFromTaggedObject(e)}static credentialFromError(e){return cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return cs.credential(e.oauthAccessToken)}catch{return null}}}cs.GITHUB_SIGN_IN_METHOD="github.com";cs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds extends Cd{constructor(){super("twitter.com")}static credential(e,n){return Qo._fromParams({providerId:ds.PROVIDER_ID,signInMethod:ds.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ds.credentialFromTaggedObject(e)}static credentialFromError(e){return ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ds.credential(n,r)}catch{return null}}}ds.TWITTER_SIGN_IN_METHOD="twitter.com";ds.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sU(t,e){return FI(t,"POST","/v1/accounts:signUp",Gp(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await wi._fromIdTokenResponse(e,r,i),o=_x(r);return new $s({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=_x(r);return new $s({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function _x(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oU(t){var e;if(yi(t.app))return Promise.reject(Os(t));const n=qp(t);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new $s({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await sU(n,{returnSecureToken:!0}),i=await $s._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xf extends ii{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Xf.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Xf(e,n,r,i)}}function tP(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Xf._fromErrorAndOperation(t,s,e,r):s})}async function aU(t,e,n=!1){const r=await Fc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return $s._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lU(t,e,n=!1){const{auth:r}=t;if(yi(r.app))return Promise.reject(Os(r));const i="reauthenticate";try{const s=await Fc(t,tP(r,i,e,t),n);me(s.idToken,r,"internal-error");const o=w0(s.idToken);me(o,r,"internal-error");const{sub:a}=o;return me(t.uid===a,r,"user-mismatch"),$s._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Mi(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uU(t,e,n=!1){if(yi(t.app))return Promise.reject(Os(t));const r="signIn",i=await tP(t,r,e),s=await $s._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}function cU(t,e,n,r){return Dn(t).onIdTokenChanged(e,n,r)}function dU(t,e,n){return Dn(t).beforeAuthStateChanged(e,n)}const Jf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nP{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Jf,"1"),this.storage.removeItem(Jf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hU=1e3,fU=10;class rP extends nP{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=YI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);zj()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,fU):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},hU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}rP.type="LOCAL";const pU=rP;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iP extends nP{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}iP.type="SESSION";const sP=iP;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mU(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Qp(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await mU(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Qp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gU{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=T0("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const f=h;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yr(){return window}function yU(t){Yr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oP(){return typeof Yr().WorkerGlobalScope<"u"&&typeof Yr().importScripts=="function"}async function vU(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function wU(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function _U(){return oP()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aP="firebaseLocalStorageDb",EU=1,Zf="firebaseLocalStorage",lP="fbase_key";class Rd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Yp(t,e){return t.transaction([Zf],e?"readwrite":"readonly").objectStore(Zf)}function TU(){const t=indexedDB.deleteDatabase(aP);return new Rd(t).toPromise()}function fv(){const t=indexedDB.open(aP,EU);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Zf,{keyPath:lP})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Zf)?e(r):(r.close(),await TU(),e(await fv()))})})}async function Ex(t,e,n){const r=Yp(t,!0).put({[lP]:e,value:n});return new Rd(r).toPromise()}async function xU(t,e){const n=Yp(t,!1).get(e),r=await new Rd(n).toPromise();return r===void 0?null:r.value}function Tx(t,e){const n=Yp(t,!0).delete(e);return new Rd(n).toPromise()}const SU=800,bU=3;class uP{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await fv(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>bU)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return oP()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Qp._getInstance(_U()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await vU(),!this.activeServiceWorker)return;this.sender=new gU(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||wU()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await fv();return await Ex(e,Jf,"1"),await Tx(e,Jf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Ex(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>xU(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Tx(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Yp(i,!1).getAll();return new Rd(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),SU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}uP.type="LOCAL";const CU=uP;new bd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RU(t,e){return e?_i(e):(me(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0 extends ZI{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return nl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return nl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return nl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function IU(t){return uU(t.auth,new x0(t),t.bypassAuthState)}function PU(t){const{auth:e,user:n}=t;return me(n,e,"internal-error"),lU(n,new x0(t),t.bypassAuthState)}async function AU(t){const{auth:e,user:n}=t;return me(n,e,"internal-error"),aU(n,new x0(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return IU;case"linkViaPopup":case"linkViaRedirect":return AU;case"reauthViaPopup":case"reauthViaRedirect":return PU;default:Mi(this.auth,"internal-error")}}resolve(e){Oi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Oi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kU=new bd(2e3,1e4);class Ba extends cP{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Ba.currentPopupAction&&Ba.currentPopupAction.cancel(),Ba.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return me(e,this.auth,"internal-error"),e}async onExecution(){Oi(this.filter.length===1,"Popup operations only handle one event");const e=T0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Qr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Qr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ba.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Qr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,kU.get())};e()}}Ba.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NU="pendingRedirect",cf=new Map;class DU extends cP{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=cf.get(this.auth._key());if(!e){try{const r=await MU(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}cf.set(this.auth._key(),e)}return this.bypassAuthState||cf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function MU(t,e){const n=VU(e),r=LU(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function OU(t,e){cf.set(t._key(),e)}function LU(t){return _i(t._redirectPersistence)}function VU(t){return uf(NU,t.config.apiKey,t.name)}async function FU(t,e,n=!1){if(yi(t.app))return Promise.reject(Os(t));const r=qp(t),i=RU(r,e),o=await new DU(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jU=10*60*1e3;class UU{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!BU(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!dP(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Qr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=jU&&this.cachedEventUids.clear(),this.cachedEventUids.has(xx(e))}saveEventToCache(e){this.cachedEventUids.add(xx(e)),this.lastProcessedEventTime=Date.now()}}function xx(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function dP({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function BU(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return dP(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $U(t,e={}){return Ql(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zU=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,WU=/^https?/;async function KU(t){if(t.config.emulator)return;const{authorizedDomains:e}=await $U(t);for(const n of e)try{if(HU(n))return}catch{}Mi(t,"unauthorized-domain")}function HU(t){const e=dv(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!WU.test(n))return!1;if(zU.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GU=new bd(3e4,6e4);function Sx(){const t=Yr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function qU(t){return new Promise((e,n)=>{var r,i,s;function o(){Sx(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Sx(),n(Qr(t,"network-request-failed"))},timeout:GU.get()})}if(!((i=(r=Yr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Yr().gapi)===null||s===void 0)&&s.load)o();else{const a=Jj("iframefcb");return Yr()[a]=()=>{gapi.load?o():n(Qr(t,"network-request-failed"))},Yj(`${Xj()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw df=null,e})}let df=null;function QU(t){return df=df||qU(t),df}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YU=new bd(5e3,15e3),XU="__/auth/iframe",JU="emulator/auth/iframe",ZU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},e4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function t4(t){const e=t.config;me(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?v0(e,JU):`https://${t.config.authDomain}/${XU}`,r={apiKey:e.apiKey,appName:t.name,v:oa},i=e4.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Sd(r).slice(1)}`}async function n4(t){const e=await QU(t),n=Yr().gapi;return me(n,t,"internal-error"),e.open({where:document.body,url:t4(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ZU,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Qr(t,"network-request-failed"),a=Yr().setTimeout(()=>{s(o)},YU.get());function l(){Yr().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},i4=500,s4=600,o4="_blank",a4="http://localhost";class bx{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function l4(t,e,n,r=i4,i=s4){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},r4),{width:r.toString(),height:i.toString(),top:s,left:o}),u=pn().toLowerCase();n&&(a=KI(u)?o4:n),zI(u)&&(e=e||a4,l.scrollbars="yes");const d=Object.entries(l).reduce((f,[p,T])=>`${f}${p}=${T},`,"");if($j(u)&&a!=="_self")return u4(e||"",a),new bx(null);const h=window.open(e||"",a,d);me(h,t,"popup-blocked");try{h.focus()}catch{}return new bx(h)}function u4(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c4="__/auth/handler",d4="emulator/auth/handler",h4=encodeURIComponent("fac");async function Cx(t,e,n,r,i,s){me(t.config.authDomain,t,"auth-domain-config-required"),me(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:oa,eventId:i};if(e instanceof eP){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",gF(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries({}))o[d]=h}if(e instanceof Cd){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),u=l?`#${h4}=${encodeURIComponent(l)}`:"";return`${f4(t)}?${Sd(a).slice(1)}${u}`}function f4({config:t}){return t.emulator?v0(t,d4):`https://${t.authDomain}/${c4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ig="webStorageSupport";class p4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=sP,this._completeRedirectFn=FU,this._overrideRedirectResult=OU}async _openPopup(e,n,r,i){var s;Oi((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await Cx(e,n,r,dv(),i);return l4(e,o,T0())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await Cx(e,n,r,dv(),i);return yU(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Oi(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await n4(e),r=new UU(e);return n.register("authEvent",i=>(me(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Ig,{type:Ig},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Ig];o!==void 0&&n(!!o),Mi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=KU(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return YI()||WI()||_0()}}const m4=p4;var Rx="@firebase/auth",Ix="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y4(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function v4(t){qo(new Bs("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;me(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:XI(t)},u=new qj(r,i,s,l);return eU(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),qo(new Bs("auth-internal",e=>{const n=qp(e.getProvider("auth").getImmediate());return(r=>new g4(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),qr(Rx,Ix,y4(t)),qr(Rx,Ix,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w4=5*60,_4=bI("authIdTokenMaxAge")||w4;let Px=null;const E4=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>_4)return;const i=n==null?void 0:n.token;Px!==i&&(Px=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function T4(t=g0()){const e=Hp(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Zj(t,{popupRedirectResolver:m4,persistence:[CU,pU,sP]}),r=bI("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=E4(s.toString());dU(n,o,()=>o(n.currentUser)),cU(n,a=>o(a))}}const i=TI("auth");return i&&tU(n,`http://${i}`),n}function x4(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Qj({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Qr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",x4().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});v4("Browser");const hP=t=>{};var S4={VITE_API_KEY:"6defd5a8-dfb8-4035-8ef1-69a13b57a66f",VITE_NODE_ENV:"production",VITE_API_URL_DEV:"http://localhost:3001",VITE_API_URL_PRODUCTION:"https://chatbot-api-0zup.onrender.com",VITE_FIREBASE_API_KEY:"AIzaSyCcGOA39OO2Wvae8CZj1rMsuueF-4Zbs7Y",VITE_FIREBASE_AUTH_DOMAIN:"cob-chatbot.firebaseapp.com",VITE_FIREBASE_PROJECT_ID:"cob-chatbot",VITE_FIREBASE_STORAGE_BUCKET:"cob-chatbot.appspot.com",VITE_FIREBASE_MESSAGING_SENDER_ID:"275602489097",VITE_FIREBASE_APP_ID:"1:275602489097:web:5c490d86e9f69e1314ddd8",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const Ax=t=>{let e;const n=new Set,r=(d,h)=>{const f=typeof d=="function"?d(e):d;if(!Object.is(f,e)){const p=e;e=h??(typeof f!="object"||f===null)?f:Object.assign({},e,f),n.forEach(T=>T(e,p))}},i=()=>e,l={setState:r,getState:i,getInitialState:()=>u,subscribe:d=>(n.add(d),()=>n.delete(d)),destroy:()=>{(S4?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=e=t(r,i,l);return l},b4=t=>t?Ax(t):Ax;var fP={exports:{}},pP={},mP={exports:{}},gP={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pl=y;function C4(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var R4=typeof Object.is=="function"?Object.is:C4,I4=Pl.useState,P4=Pl.useEffect,A4=Pl.useLayoutEffect,k4=Pl.useDebugValue;function N4(t,e){var n=e(),r=I4({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return A4(function(){i.value=n,i.getSnapshot=e,Pg(i)&&s({inst:i})},[t,n,e]),P4(function(){return Pg(i)&&s({inst:i}),t(function(){Pg(i)&&s({inst:i})})},[t]),k4(n),n}function Pg(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!R4(t,n)}catch{return!0}}function D4(t,e){return e()}var M4=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?D4:N4;gP.useSyncExternalStore=Pl.useSyncExternalStore!==void 0?Pl.useSyncExternalStore:M4;mP.exports=gP;var O4=mP.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xp=y,L4=O4;function V4(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var F4=typeof Object.is=="function"?Object.is:V4,j4=L4.useSyncExternalStore,U4=Xp.useRef,B4=Xp.useEffect,$4=Xp.useMemo,z4=Xp.useDebugValue;pP.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=U4(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=$4(function(){function l(p){if(!u){if(u=!0,d=p,p=r(p),i!==void 0&&o.hasValue){var T=o.value;if(i(T,p))return h=T}return h=p}if(T=h,F4(d,p))return T;var g=r(p);return i!==void 0&&i(T,g)?T:(d=p,h=g)}var u=!1,d,h,f=n===void 0?null:n;return[function(){return l(e())},f===null?void 0:function(){return l(f())}]},[e,n,r,i]);var a=j4(t,s[0],s[1]);return B4(function(){o.hasValue=!0,o.value=a},[a]),z4(a),a};fP.exports=pP;var W4=fP.exports;const K4=ww(W4);var yP={VITE_API_KEY:"6defd5a8-dfb8-4035-8ef1-69a13b57a66f",VITE_NODE_ENV:"production",VITE_API_URL_DEV:"http://localhost:3001",VITE_API_URL_PRODUCTION:"https://chatbot-api-0zup.onrender.com",VITE_FIREBASE_API_KEY:"AIzaSyCcGOA39OO2Wvae8CZj1rMsuueF-4Zbs7Y",VITE_FIREBASE_AUTH_DOMAIN:"cob-chatbot.firebaseapp.com",VITE_FIREBASE_PROJECT_ID:"cob-chatbot",VITE_FIREBASE_STORAGE_BUCKET:"cob-chatbot.appspot.com",VITE_FIREBASE_MESSAGING_SENDER_ID:"275602489097",VITE_FIREBASE_APP_ID:"1:275602489097:web:5c490d86e9f69e1314ddd8",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{useDebugValue:H4}=jr,{useSyncExternalStoreWithSelector:G4}=K4;let kx=!1;const q4=t=>t;function Q4(t,e=q4,n){(yP?"production":void 0)!=="production"&&n&&!kx&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),kx=!0);const r=G4(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return H4(r),r}const Nx=t=>{(yP?"production":void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof t=="function"?b4(t):t,n=(r,i)=>Q4(e,r,i);return Object.assign(n,e),n},Yl=t=>t?Nx(t):Nx;var Y4={VITE_API_KEY:"6defd5a8-dfb8-4035-8ef1-69a13b57a66f",VITE_NODE_ENV:"production",VITE_API_URL_DEV:"http://localhost:3001",VITE_API_URL_PRODUCTION:"https://chatbot-api-0zup.onrender.com",VITE_FIREBASE_API_KEY:"AIzaSyCcGOA39OO2Wvae8CZj1rMsuueF-4Zbs7Y",VITE_FIREBASE_AUTH_DOMAIN:"cob-chatbot.firebaseapp.com",VITE_FIREBASE_PROJECT_ID:"cob-chatbot",VITE_FIREBASE_STORAGE_BUCKET:"cob-chatbot.appspot.com",VITE_FIREBASE_MESSAGING_SENDER_ID:"275602489097",VITE_FIREBASE_APP_ID:"1:275602489097:web:5c490d86e9f69e1314ddd8",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};function vP(t,e){let n;try{n=t()}catch{return}return{getItem:i=>{var s;const o=l=>l===null?null:JSON.parse(l,void 0),a=(s=n.getItem(i))!=null?s:null;return a instanceof Promise?a.then(o):o(a)},setItem:(i,s)=>n.setItem(i,JSON.stringify(s,void 0)),removeItem:i=>n.removeItem(i)}}const jc=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(r){return jc(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return jc(r)(n)}}}},X4=(t,e)=>(n,r,i)=>{let s={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:x=>x,version:0,merge:(x,E)=>({...E,...x}),...e},o=!1;const a=new Set,l=new Set;let u;try{u=s.getStorage()}catch{}if(!u)return t((...x)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),n(...x)},r,i);const d=jc(s.serialize),h=()=>{const x=s.partialize({...r()});let E;const _=d({state:x,version:s.version}).then(b=>u.setItem(s.name,b)).catch(b=>{E=b});if(E)throw E;return _},f=i.setState;i.setState=(x,E)=>{f(x,E),h()};const p=t((...x)=>{n(...x),h()},r,i);let T;const g=()=>{var x;if(!u)return;o=!1,a.forEach(_=>_(r()));const E=((x=s.onRehydrateStorage)==null?void 0:x.call(s,r()))||void 0;return jc(u.getItem.bind(u))(s.name).then(_=>{if(_)return s.deserialize(_)}).then(_=>{if(_)if(typeof _.version=="number"&&_.version!==s.version){if(s.migrate)return s.migrate(_.state,_.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return _.state}).then(_=>{var b;return T=s.merge(_,(b=r())!=null?b:p),n(T,!0),h()}).then(()=>{E==null||E(T,void 0),o=!0,l.forEach(_=>_(T))}).catch(_=>{E==null||E(void 0,_)})};return i.persist={setOptions:x=>{s={...s,...x},x.getStorage&&(u=x.getStorage())},clearStorage:()=>{u==null||u.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>g(),hasHydrated:()=>o,onHydrate:x=>(a.add(x),()=>{a.delete(x)}),onFinishHydration:x=>(l.add(x),()=>{l.delete(x)})},g(),T||p},J4=(t,e)=>(n,r,i)=>{let s={storage:vP(()=>localStorage),partialize:g=>g,version:0,merge:(g,x)=>({...x,...g}),...e},o=!1;const a=new Set,l=new Set;let u=s.storage;if(!u)return t((...g)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),n(...g)},r,i);const d=()=>{const g=s.partialize({...r()});return u.setItem(s.name,{state:g,version:s.version})},h=i.setState;i.setState=(g,x)=>{h(g,x),d()};const f=t((...g)=>{n(...g),d()},r,i);i.getInitialState=()=>f;let p;const T=()=>{var g,x;if(!u)return;o=!1,a.forEach(_=>{var b;return _((b=r())!=null?b:f)});const E=((x=s.onRehydrateStorage)==null?void 0:x.call(s,(g=r())!=null?g:f))||void 0;return jc(u.getItem.bind(u))(s.name).then(_=>{if(_)if(typeof _.version=="number"&&_.version!==s.version){if(s.migrate)return[!0,s.migrate(_.state,_.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,_.state];return[!1,void 0]}).then(_=>{var b;const[I,N]=_;if(p=s.merge(N,(b=r())!=null?b:f),n(p,!0),I)return d()}).then(()=>{E==null||E(p,void 0),p=r(),o=!0,l.forEach(_=>_(p))}).catch(_=>{E==null||E(void 0,_)})};return i.persist={setOptions:g=>{s={...s,...g},g.storage&&(u=g.storage)},clearStorage:()=>{u==null||u.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>T(),hasHydrated:()=>o,onHydrate:g=>(a.add(g),()=>{a.delete(g)}),onFinishHydration:g=>(l.add(g),()=>{l.delete(g)})},s.skipHydration||T(),p||f},Z4=(t,e)=>"getStorage"in e||"serialize"in e||"deserialize"in e?((Y4?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),X4(t,e)):J4(t,e),eB=Z4,Al=Yl()(eB(t=>({isAuth:!1,accessToken:null,setAccessToken:e=>t({accessToken:e}),login:e=>t({isAuth:!0,accessToken:e}),logout:()=>t({isAuth:!1,accessToken:null})}),{name:"auth-storage",storage:vP(()=>sessionStorage)}));/**
 * @remix-run/router v1.19.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function st(){return st=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},st.apply(this,arguments)}var At;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(At||(At={}));const Dx="popstate";function tB(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return Uc("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Id(i)}return rB(e,n,null,t)}function be(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function kl(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function nB(){return Math.random().toString(36).substr(2,8)}function Mx(t,e){return{usr:t.state,key:t.key,idx:e}}function Uc(t,e,n,r){return n===void 0&&(n=null),st({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?to(e):e,{state:n,key:e&&e.key||r||nB()})}function Id(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function to(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function rB(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=At.Pop,l=null,u=d();u==null&&(u=0,o.replaceState(st({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=At.Pop;let x=d(),E=x==null?null:x-u;u=x,l&&l({action:a,location:g.location,delta:E})}function f(x,E){a=At.Push;let _=Uc(g.location,x,E);u=d()+1;let b=Mx(_,u),I=g.createHref(_);try{o.pushState(b,"",I)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;i.location.assign(I)}s&&l&&l({action:a,location:g.location,delta:1})}function p(x,E){a=At.Replace;let _=Uc(g.location,x,E);u=d();let b=Mx(_,u),I=g.createHref(_);o.replaceState(b,"",I),s&&l&&l({action:a,location:g.location,delta:0})}function T(x){let E=i.location.origin!=="null"?i.location.origin:i.location.href,_=typeof x=="string"?x:Id(x);return _=_.replace(/ $/,"%20"),be(E,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,E)}let g={get action(){return a},get location(){return t(i,o)},listen(x){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Dx,h),l=x,()=>{i.removeEventListener(Dx,h),l=null}},createHref(x){return e(i,x)},createURL:T,encodeLocation(x){let E=T(x);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:f,replace:p,go(x){return o.go(x)}};return g}var Be;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Be||(Be={}));const iB=new Set(["lazy","caseSensitive","path","id","index","children"]);function sB(t){return t.index===!0}function Bc(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,s)=>{let o=[...n,String(s)],a=typeof i.id=="string"?i.id:o.join("-");if(be(i.index!==!0||!i.children,"Cannot specify children on an index route"),be(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),sB(i)){let l=st({},i,e(i),{id:a});return r[a]=l,l}else{let l=st({},i,e(i),{id:a,children:void 0});return r[a]=l,i.children&&(l.children=Bc(i.children,e,o,r)),l}})}function xo(t,e,n){return n===void 0&&(n="/"),hf(t,e,n,!1)}function hf(t,e,n,r){let i=typeof e=="string"?to(e):e,s=Pd(i.pathname||"/",n);if(s==null)return null;let o=wP(t);aB(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=vB(s);a=gB(o[l],u,r)}return a}function oB(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function wP(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(be(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Ls([r,l.relativePath]),d=n.concat(l);s.children&&s.children.length>0&&(be(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),wP(s.children,e,d,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:pB(u,s.index),routesMeta:d})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of _P(s.path))i(s,o,l)}),e}function _P(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=_P(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function aB(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:mB(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const lB=/^:[\w-]+$/,uB=3,cB=2,dB=1,hB=10,fB=-2,Ox=t=>t==="*";function pB(t,e){let n=t.split("/"),r=n.length;return n.some(Ox)&&(r+=fB),e&&(r+=cB),n.filter(i=>!Ox(i)).reduce((i,s)=>i+(lB.test(s)?uB:s===""?dB:hB),r)}function mB(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function gB(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",h=Lx({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),f=l.route;if(!h&&u&&n&&!r[r.length-1].route.index&&(h=Lx({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:Ls([s,h.pathname]),pathnameBase:EB(Ls([s,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(s=Ls([s,h.pathnameBase]))}return o}function Lx(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=yB(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,d,h)=>{let{paramName:f,isOptional:p}=d;if(f==="*"){let g=a[h]||"";o=s.slice(0,s.length-g.length).replace(/(.)\/+$/,"$1")}const T=a[h];return p&&!T?u[f]=void 0:u[f]=(T||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function yB(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),kl(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function vB(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return kl(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Pd(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function wB(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?to(t):t;return{pathname:n?n.startsWith("/")?n:_B(n,e):e,search:TB(r),hash:xB(i)}}function _B(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Ag(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function EP(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function S0(t,e){let n=EP(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function b0(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=to(t):(i=st({},t),be(!i.pathname||!i.pathname.includes("?"),Ag("?","pathname","search",i)),be(!i.pathname||!i.pathname.includes("#"),Ag("#","pathname","hash",i)),be(!i.search||!i.search.includes("#"),Ag("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}a=h>=0?e[h]:"/"}let l=wB(i,a),u=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const Ls=t=>t.join("/").replace(/\/\/+/g,"/"),EB=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),TB=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,xB=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class ep{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function Jp(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const TP=["post","put","patch","delete"],SB=new Set(TP),bB=["get",...TP],CB=new Set(bB),RB=new Set([301,302,303,307,308]),IB=new Set([307,308]),kg={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},PB={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Du={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},C0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,AB=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),xP="remix-router-transitions";function kB(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;be(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let O=t.detectErrorBoundary;i=V=>({hasErrorBoundary:O(V)})}else i=AB;let s={},o=Bc(t.routes,i,void 0,s),a,l=t.basename||"/",u=t.unstable_dataStrategy||VB,d=t.unstable_patchRoutesOnNavigation,h=st({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},t.future),f=null,p=new Set,T=1e3,g=new Set,x=null,E=null,_=null,b=t.hydrationData!=null,I=xo(o,t.history.location,l),N=null;if(I==null&&!d){let O=_n(404,{pathname:t.history.location.pathname}),{matches:V,route:U}=Kx(o);I=V,N={[U.id]:O}}I&&!t.hydrationData&&Ct(I,o,t.history.location.pathname).active&&(I=null);let F;if(I)if(I.some(O=>O.route.lazy))F=!1;else if(!I.some(O=>O.route.loader))F=!0;else if(h.v7_partialHydration){let O=t.hydrationData?t.hydrationData.loaderData:null,V=t.hydrationData?t.hydrationData.errors:null,U=W=>W.route.loader?typeof W.route.loader=="function"&&W.route.loader.hydrate===!0?!1:O&&O[W.route.id]!==void 0||V&&V[W.route.id]!==void 0:!0;if(V){let W=I.findIndex(X=>V[X.route.id]!==void 0);F=I.slice(0,W+1).every(U)}else F=I.every(U)}else F=t.hydrationData!=null;else if(F=!1,I=[],h.v7_partialHydration){let O=Ct(null,o,t.history.location.pathname);O.active&&O.matches&&(I=O.matches)}let C,w={historyAction:t.history.action,location:t.history.location,matches:I,initialized:F,navigation:kg,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||N,fetchers:new Map,blockers:new Map},R=At.Pop,A=!1,D,M=!1,k=new Map,J=null,xe=!1,fe=!1,le=[],z=new Set,$=new Map,Y=0,ae=-1,ge=new Map,Se=new Set,ht=new Map,bt=new Map,$e=new Set,ze=new Map,mn=new Map,Yt=new Map,gn;function oi(){if(f=t.history.listen(O=>{let{action:V,location:U,delta:W}=O;if(gn){gn(),gn=void 0;return}kl(mn.size===0||W!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let X=fa({currentLocation:w.location,nextLocation:U,historyAction:V});if(X&&W!=null){let oe=new Promise(pe=>{gn=pe});t.history.go(W*-1),Lr(X,{state:"blocked",location:U,proceed(){Lr(X,{state:"proceeding",proceed:void 0,reset:void 0,location:U}),oe.then(()=>t.history.go(W))},reset(){let pe=new Map(w.blockers);pe.set(X,Du),ft({blockers:pe})}});return}return gr(V,U)}),n){JB(e,k);let O=()=>ZB(e,k);e.addEventListener("pagehide",O),J=()=>e.removeEventListener("pagehide",O)}return w.initialized||gr(At.Pop,w.location,{initialHydration:!0}),C}function zi(){f&&f(),J&&J(),p.clear(),D&&D.abort(),w.fetchers.forEach((O,V)=>oo(V)),w.blockers.forEach((O,V)=>pu(V))}function mr(O){return p.add(O),()=>p.delete(O)}function ft(O,V){V===void 0&&(V={}),w=st({},w,O);let U=[],W=[];h.v7_fetcherPersist&&w.fetchers.forEach((X,oe)=>{X.state==="idle"&&($e.has(oe)?W.push(oe):U.push(oe))}),[...p].forEach(X=>X(w,{deletedFetchers:W,unstable_viewTransitionOpts:V.viewTransitionOpts,unstable_flushSync:V.flushSync===!0})),h.v7_fetcherPersist&&(U.forEach(X=>w.fetchers.delete(X)),W.forEach(X=>oo(X)))}function Yn(O,V,U){var W,X;let{flushSync:oe}=U===void 0?{}:U,pe=w.actionData!=null&&w.navigation.formMethod!=null&&Cr(w.navigation.formMethod)&&w.navigation.state==="loading"&&((W=O.state)==null?void 0:W._isRedirect)!==!0,q;V.actionData?Object.keys(V.actionData).length>0?q=V.actionData:q=null:pe?q=w.actionData:q=null;let ie=V.loaderData?zx(w.loaderData,V.loaderData,V.matches||[],V.errors):w.loaderData,te=w.blockers;te.size>0&&(te=new Map(te),te.forEach((De,Ue)=>te.set(Ue,Du)));let re=A===!0||w.navigation.formMethod!=null&&Cr(w.navigation.formMethod)&&((X=O.state)==null?void 0:X._isRedirect)!==!0;a&&(o=a,a=void 0),xe||R===At.Pop||(R===At.Push?t.history.push(O,O.state):R===At.Replace&&t.history.replace(O,O.state));let Pe;if(R===At.Pop){let De=k.get(w.location.pathname);De&&De.has(O.pathname)?Pe={currentLocation:w.location,nextLocation:O}:k.has(O.pathname)&&(Pe={currentLocation:O,nextLocation:w.location})}else if(M){let De=k.get(w.location.pathname);De?De.add(O.pathname):(De=new Set([O.pathname]),k.set(w.location.pathname,De)),Pe={currentLocation:w.location,nextLocation:O}}ft(st({},V,{actionData:q,loaderData:ie,historyAction:R,location:O,initialized:!0,navigation:kg,revalidation:"idle",restoreScrollPosition:gu(O,V.matches||w.matches),preventScrollReset:re,blockers:te}),{viewTransitionOpts:Pe,flushSync:oe===!0}),R=At.Pop,A=!1,M=!1,xe=!1,fe=!1,le=[]}async function io(O,V){if(typeof O=="number"){t.history.go(O);return}let U=pv(w.location,w.matches,l,h.v7_prependBasename,O,h.v7_relativeSplatPath,V==null?void 0:V.fromRouteId,V==null?void 0:V.relative),{path:W,submission:X,error:oe}=Vx(h.v7_normalizeFormMethod,!1,U,V),pe=w.location,q=Uc(w.location,W,V&&V.state);q=st({},q,t.history.encodeLocation(q));let ie=V&&V.replace!=null?V.replace:void 0,te=At.Push;ie===!0?te=At.Replace:ie===!1||X!=null&&Cr(X.formMethod)&&X.formAction===w.location.pathname+w.location.search&&(te=At.Replace);let re=V&&"preventScrollReset"in V?V.preventScrollReset===!0:void 0,Pe=(V&&V.unstable_flushSync)===!0,De=fa({currentLocation:pe,nextLocation:q,historyAction:te});if(De){Lr(De,{state:"blocked",location:q,proceed(){Lr(De,{state:"proceeding",proceed:void 0,reset:void 0,location:q}),io(O,V)},reset(){let Ue=new Map(w.blockers);Ue.set(De,Du),ft({blockers:Ue})}});return}return await gr(te,q,{submission:X,pendingError:oe,preventScrollReset:re,replace:V&&V.replace,enableViewTransition:V&&V.unstable_viewTransition,flushSync:Pe})}function uu(){if(da(),ft({revalidation:"loading"}),w.navigation.state!=="submitting"){if(w.navigation.state==="idle"){gr(w.historyAction,w.location,{startUninterruptedRevalidation:!0});return}gr(R||w.historyAction,w.navigation.location,{overrideNavigation:w.navigation,enableViewTransition:M===!0})}}async function gr(O,V,U){D&&D.abort(),D=null,R=O,xe=(U&&U.startUninterruptedRevalidation)===!0,lo(w.location,w.matches),A=(U&&U.preventScrollReset)===!0,M=(U&&U.enableViewTransition)===!0;let W=a||o,X=U&&U.overrideNavigation,oe=xo(W,V,l),pe=(U&&U.flushSync)===!0,q=Ct(oe,W,V.pathname);if(q.active&&q.matches&&(oe=q.matches),!oe){let{error:Re,notFoundMatches:Rt,route:qe}=ao(V.pathname);Yn(V,{matches:Rt,loaderData:{},errors:{[qe.id]:Re}},{flushSync:pe});return}if(w.initialized&&!fe&&zB(w.location,V)&&!(U&&U.submission&&Cr(U.submission.formMethod))){Yn(V,{matches:oe},{flushSync:pe});return}D=new AbortController;let ie=_a(t.history,V,D.signal,U&&U.submission),te;if(U&&U.pendingError)te=[$a(oe).route.id,{type:Be.error,error:U.pendingError}];else if(U&&U.submission&&Cr(U.submission.formMethod)){let Re=await ai(ie,V,U.submission,oe,q.active,{replace:U.replace,flushSync:pe});if(Re.shortCircuited)return;if(Re.pendingActionResult){let[Rt,qe]=Re.pendingActionResult;if(jn(qe)&&Jp(qe.error)&&qe.error.status===404){D=null,Yn(V,{matches:Re.matches,loaderData:{},errors:{[Rt]:qe.error}});return}}oe=Re.matches||oe,te=Re.pendingActionResult,X=Ng(V,U.submission),pe=!1,q.active=!1,ie=_a(t.history,ie.url,ie.signal)}let{shortCircuited:re,matches:Pe,loaderData:De,errors:Ue}=await cu(ie,V,oe,q.active,X,U&&U.submission,U&&U.fetcherSubmission,U&&U.replace,U&&U.initialHydration===!0,pe,te);re||(D=null,Yn(V,st({matches:Pe||oe},Wx(te),{loaderData:De,errors:Ue})))}async function ai(O,V,U,W,X,oe){oe===void 0&&(oe={}),da();let pe=YB(V,U);if(ft({navigation:pe},{flushSync:oe.flushSync===!0}),X){let te=await uo(W,V.pathname,O.signal);if(te.type==="aborted")return{shortCircuited:!0};if(te.type==="error"){let{boundaryId:re,error:Pe}=Jn(V.pathname,te);return{matches:te.partialMatches,pendingActionResult:[re,{type:Be.error,error:Pe}]}}else if(te.matches)W=te.matches;else{let{notFoundMatches:re,error:Pe,route:De}=ao(V.pathname);return{matches:re,pendingActionResult:[De.id,{type:Be.error,error:Pe}]}}}let q,ie=Ku(W,V);if(!ie.route.action&&!ie.route.lazy)q={type:Be.error,error:_n(405,{method:O.method,pathname:V.pathname,routeId:ie.route.id})};else if(q=(await Et("action",w,O,[ie],W,null))[ie.route.id],O.signal.aborted)return{shortCircuited:!0};if(Ro(q)){let te;return oe&&oe.replace!=null?te=oe.replace:te=Ux(q.response.headers.get("Location"),new URL(O.url),l)===w.location.pathname+w.location.search,await tt(O,q,!0,{submission:U,replace:te}),{shortCircuited:!0}}if(xs(q))throw _n(400,{type:"defer-action"});if(jn(q)){let te=$a(W,ie.route.id);return(oe&&oe.replace)!==!0&&(R=At.Push),{matches:W,pendingActionResult:[te.route.id,q]}}return{matches:W,pendingActionResult:[ie.route.id,q]}}async function cu(O,V,U,W,X,oe,pe,q,ie,te,re){let Pe=X||Ng(V,oe),De=oe||pe||Gx(Pe),Ue=!xe&&(!h.v7_partialHydration||!ie);if(W){if(Ue){let He=du(re);ft(st({navigation:Pe},He!==void 0?{actionData:He}:{}),{flushSync:te})}let ve=await uo(U,V.pathname,O.signal);if(ve.type==="aborted")return{shortCircuited:!0};if(ve.type==="error"){let{boundaryId:He,error:Jt}=Jn(V.pathname,ve);return{matches:ve.partialMatches,loaderData:{},errors:{[He]:Jt}}}else if(ve.matches)U=ve.matches;else{let{error:He,notFoundMatches:Jt,route:Qe}=ao(V.pathname);return{matches:Jt,loaderData:{},errors:{[Qe.id]:He}}}}let Re=a||o,[Rt,qe]=Fx(t.history,w,U,De,V,h.v7_partialHydration&&ie===!0,h.v7_skipActionErrorRevalidation,fe,le,z,$e,ht,Se,Re,l,re);if(pa(ve=>!(U&&U.some(He=>He.route.id===ve))||Rt&&Rt.some(He=>He.route.id===ve)),ae=++Y,Rt.length===0&&qe.length===0){let ve=Qd();return Yn(V,st({matches:U,loaderData:{},errors:re&&jn(re[1])?{[re[0]]:re[1].error}:null},Wx(re),ve?{fetchers:new Map(w.fetchers)}:{}),{flushSync:te}),{shortCircuited:!0}}if(Ue){let ve={};if(!W){ve.navigation=Pe;let He=du(re);He!==void 0&&(ve.actionData=He)}qe.length>0&&(ve.fetchers=$m(qe)),ft(ve,{flushSync:te})}qe.forEach(ve=>{$.has(ve.key)&&Xn(ve.key),ve.controller&&$.set(ve.key,ve.controller)});let Hi=()=>qe.forEach(ve=>Xn(ve.key));D&&D.signal.addEventListener("abort",Hi);let{loaderResults:On,fetcherResults:Zn}=await so(w,U,Rt,qe,O);if(O.signal.aborted)return{shortCircuited:!0};D&&D.signal.removeEventListener("abort",Hi),qe.forEach(ve=>$.delete(ve.key));let Xt=Ih(On);if(Xt)return await tt(O,Xt.result,!0,{replace:q}),{shortCircuited:!0};if(Xt=Ih(Zn),Xt)return Se.add(Xt.key),await tt(O,Xt.result,!0,{replace:q}),{shortCircuited:!0};let{loaderData:Gi,errors:wr}=$x(w,U,Rt,On,re,qe,Zn,ze);ze.forEach((ve,He)=>{ve.subscribe(Jt=>{(Jt||ve.done)&&ze.delete(He)})}),h.v7_partialHydration&&ie&&w.errors&&Object.entries(w.errors).filter(ve=>{let[He]=ve;return!Rt.some(Jt=>Jt.route.id===He)}).forEach(ve=>{let[He,Jt]=ve;wr=Object.assign(wr||{},{[He]:Jt})});let ho=Qd(),fo=ha(ae),po=ho||fo||qe.length>0;return st({matches:U,loaderData:Gi,errors:wr},po?{fetchers:new Map(w.fetchers)}:{})}function du(O){if(O&&!jn(O[1]))return{[O[0]]:O[1].data};if(w.actionData)return Object.keys(w.actionData).length===0?null:w.actionData}function $m(O){return O.forEach(V=>{let U=w.fetchers.get(V.key),W=Mu(void 0,U?U.data:void 0);w.fetchers.set(V.key,W)}),new Map(w.fetchers)}function hu(O,V,U,W){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");$.has(O)&&Xn(O);let X=(W&&W.unstable_flushSync)===!0,oe=a||o,pe=pv(w.location,w.matches,l,h.v7_prependBasename,U,h.v7_relativeSplatPath,V,W==null?void 0:W.relative),q=xo(oe,pe,l),ie=Ct(q,oe,pe);if(ie.active&&ie.matches&&(q=ie.matches),!q){vr(O,V,_n(404,{pathname:pe}),{flushSync:X});return}let{path:te,submission:re,error:Pe}=Vx(h.v7_normalizeFormMethod,!0,pe,W);if(Pe){vr(O,V,Pe,{flushSync:X});return}let De=Ku(q,te);if(A=(W&&W.preventScrollReset)===!0,re&&Cr(re.formMethod)){fu(O,V,te,De,q,ie.active,X,re);return}ht.set(O,{routeId:V,path:te}),Hd(O,V,te,De,q,ie.active,X,re)}async function fu(O,V,U,W,X,oe,pe,q){da(),ht.delete(O);function ie(Qe){if(!Qe.route.action&&!Qe.route.lazy){let _r=_n(405,{method:q.formMethod,pathname:U,routeId:V});return vr(O,V,_r,{flushSync:pe}),!0}return!1}if(!oe&&ie(W))return;let te=w.fetchers.get(O);yr(O,XB(q,te),{flushSync:pe});let re=new AbortController,Pe=_a(t.history,U,re.signal,q);if(oe){let Qe=await uo(X,U,Pe.signal);if(Qe.type==="aborted")return;if(Qe.type==="error"){let{error:_r}=Jn(U,Qe);vr(O,V,_r,{flushSync:pe});return}else if(Qe.matches){if(X=Qe.matches,W=Ku(X,U),ie(W))return}else{vr(O,V,_n(404,{pathname:U}),{flushSync:pe});return}}$.set(O,re);let De=Y,Re=(await Et("action",w,Pe,[W],X,O))[W.route.id];if(Pe.signal.aborted){$.get(O)===re&&$.delete(O);return}if(h.v7_fetcherPersist&&$e.has(O)){if(Ro(Re)||jn(Re)){yr(O,es(void 0));return}}else{if(Ro(Re))if($.delete(O),ae>De){yr(O,es(void 0));return}else return Se.add(O),yr(O,Mu(q)),tt(Pe,Re,!1,{fetcherSubmission:q});if(jn(Re)){vr(O,V,Re.error);return}}if(xs(Re))throw _n(400,{type:"defer-action"});let Rt=w.navigation.location||w.location,qe=_a(t.history,Rt,re.signal),Hi=a||o,On=w.navigation.state!=="idle"?xo(Hi,w.navigation.location,l):w.matches;be(On,"Didn't find any matches after fetcher action");let Zn=++Y;ge.set(O,Zn);let Xt=Mu(q,Re.data);w.fetchers.set(O,Xt);let[Gi,wr]=Fx(t.history,w,On,q,Rt,!1,h.v7_skipActionErrorRevalidation,fe,le,z,$e,ht,Se,Hi,l,[W.route.id,Re]);wr.filter(Qe=>Qe.key!==O).forEach(Qe=>{let _r=Qe.key,Xd=w.fetchers.get(_r),Jd=Mu(void 0,Xd?Xd.data:void 0);w.fetchers.set(_r,Jd),$.has(_r)&&Xn(_r),Qe.controller&&$.set(_r,Qe.controller)}),ft({fetchers:new Map(w.fetchers)});let ho=()=>wr.forEach(Qe=>Xn(Qe.key));re.signal.addEventListener("abort",ho);let{loaderResults:fo,fetcherResults:po}=await so(w,On,Gi,wr,qe);if(re.signal.aborted)return;re.signal.removeEventListener("abort",ho),ge.delete(O),$.delete(O),wr.forEach(Qe=>$.delete(Qe.key));let ve=Ih(fo);if(ve)return tt(qe,ve.result,!1);if(ve=Ih(po),ve)return Se.add(ve.key),tt(qe,ve.result,!1);let{loaderData:He,errors:Jt}=$x(w,On,Gi,fo,void 0,wr,po,ze);if(w.fetchers.has(O)){let Qe=es(Re.data);w.fetchers.set(O,Qe)}ha(Zn),w.navigation.state==="loading"&&Zn>ae?(be(R,"Expected pending action"),D&&D.abort(),Yn(w.navigation.location,{matches:On,loaderData:He,errors:Jt,fetchers:new Map(w.fetchers)})):(ft({errors:Jt,loaderData:zx(w.loaderData,He,On,Jt),fetchers:new Map(w.fetchers)}),fe=!1)}async function Hd(O,V,U,W,X,oe,pe,q){let ie=w.fetchers.get(O);yr(O,Mu(q,ie?ie.data:void 0),{flushSync:pe});let te=new AbortController,re=_a(t.history,U,te.signal);if(oe){let Re=await uo(X,U,re.signal);if(Re.type==="aborted")return;if(Re.type==="error"){let{error:Rt}=Jn(U,Re);vr(O,V,Rt,{flushSync:pe});return}else if(Re.matches)X=Re.matches,W=Ku(X,U);else{vr(O,V,_n(404,{pathname:U}),{flushSync:pe});return}}$.set(O,te);let Pe=Y,Ue=(await Et("loader",w,re,[W],X,O))[W.route.id];if(xs(Ue)&&(Ue=await R0(Ue,re.signal,!0)||Ue),$.get(O)===te&&$.delete(O),!re.signal.aborted){if($e.has(O)){yr(O,es(void 0));return}if(Ro(Ue))if(ae>Pe){yr(O,es(void 0));return}else{Se.add(O),await tt(re,Ue,!1);return}if(jn(Ue)){vr(O,V,Ue.error);return}be(!xs(Ue),"Unhandled fetcher deferred data"),yr(O,es(Ue.data))}}async function tt(O,V,U,W){let{submission:X,fetcherSubmission:oe,replace:pe}=W===void 0?{}:W;V.response.headers.has("X-Remix-Revalidate")&&(fe=!0);let q=V.response.headers.get("Location");be(q,"Expected a Location header on the redirect Response"),q=Ux(q,new URL(O.url),l);let ie=Uc(w.location,q,{_isRedirect:!0});if(n){let Re=!1;if(V.response.headers.has("X-Remix-Reload-Document"))Re=!0;else if(C0.test(q)){const Rt=t.history.createURL(q);Re=Rt.origin!==e.location.origin||Pd(Rt.pathname,l)==null}if(Re){pe?e.location.replace(q):e.location.assign(q);return}}D=null;let te=pe===!0||V.response.headers.has("X-Remix-Replace")?At.Replace:At.Push,{formMethod:re,formAction:Pe,formEncType:De}=w.navigation;!X&&!oe&&re&&Pe&&De&&(X=Gx(w.navigation));let Ue=X||oe;if(IB.has(V.response.status)&&Ue&&Cr(Ue.formMethod))await gr(te,ie,{submission:st({},Ue,{formAction:q}),preventScrollReset:A,enableViewTransition:U?M:void 0});else{let Re=Ng(ie,X);await gr(te,ie,{overrideNavigation:Re,fetcherSubmission:oe,preventScrollReset:A,enableViewTransition:U?M:void 0})}}async function Et(O,V,U,W,X,oe){let pe,q={};try{pe=await FB(u,O,V,U,W,X,oe,s,i)}catch(ie){return W.forEach(te=>{q[te.route.id]={type:Be.error,error:ie}}),q}for(let[ie,te]of Object.entries(pe))if(KB(te)){let re=te.result;q[ie]={type:Be.redirect,response:BB(re,U,ie,X,l,h.v7_relativeSplatPath)}}else q[ie]=await UB(te);return q}async function so(O,V,U,W,X){let oe=O.matches,pe=Et("loader",O,X,U,V,null),q=Promise.all(W.map(async re=>{if(re.matches&&re.match&&re.controller){let De=(await Et("loader",O,_a(t.history,re.path,re.controller.signal),[re.match],re.matches,re.key))[re.match.route.id];return{[re.key]:De}}else return Promise.resolve({[re.key]:{type:Be.error,error:_n(404,{pathname:re.path})}})})),ie=await pe,te=(await q).reduce((re,Pe)=>Object.assign(re,Pe),{});return await Promise.all([qB(V,ie,X.signal,oe,O.loaderData),QB(V,te,W)]),{loaderResults:ie,fetcherResults:te}}function da(){fe=!0,le.push(...pa()),ht.forEach((O,V)=>{$.has(V)&&(z.add(V),Xn(V))})}function yr(O,V,U){U===void 0&&(U={}),w.fetchers.set(O,V),ft({fetchers:new Map(w.fetchers)},{flushSync:(U&&U.flushSync)===!0})}function vr(O,V,U,W){W===void 0&&(W={});let X=$a(w.matches,V);oo(O),ft({errors:{[X.route.id]:U},fetchers:new Map(w.fetchers)},{flushSync:(W&&W.flushSync)===!0})}function Wi(O){return h.v7_fetcherPersist&&(bt.set(O,(bt.get(O)||0)+1),$e.has(O)&&$e.delete(O)),w.fetchers.get(O)||PB}function oo(O){let V=w.fetchers.get(O);$.has(O)&&!(V&&V.state==="loading"&&ge.has(O))&&Xn(O),ht.delete(O),ge.delete(O),Se.delete(O),$e.delete(O),z.delete(O),w.fetchers.delete(O)}function Gd(O){if(h.v7_fetcherPersist){let V=(bt.get(O)||0)-1;V<=0?(bt.delete(O),$e.add(O)):bt.set(O,V)}else oo(O);ft({fetchers:new Map(w.fetchers)})}function Xn(O){let V=$.get(O);be(V,"Expected fetch controller: "+O),V.abort(),$.delete(O)}function qd(O){for(let V of O){let U=Wi(V),W=es(U.data);w.fetchers.set(V,W)}}function Qd(){let O=[],V=!1;for(let U of Se){let W=w.fetchers.get(U);be(W,"Expected fetcher: "+U),W.state==="loading"&&(Se.delete(U),O.push(U),V=!0)}return qd(O),V}function ha(O){let V=[];for(let[U,W]of ge)if(W<O){let X=w.fetchers.get(U);be(X,"Expected fetcher: "+U),X.state==="loading"&&(Xn(U),ge.delete(U),V.push(U))}return qd(V),V.length>0}function Yd(O,V){let U=w.blockers.get(O)||Du;return mn.get(O)!==V&&mn.set(O,V),U}function pu(O){w.blockers.delete(O),mn.delete(O)}function Lr(O,V){let U=w.blockers.get(O)||Du;be(U.state==="unblocked"&&V.state==="blocked"||U.state==="blocked"&&V.state==="blocked"||U.state==="blocked"&&V.state==="proceeding"||U.state==="blocked"&&V.state==="unblocked"||U.state==="proceeding"&&V.state==="unblocked","Invalid blocker state transition: "+U.state+" -> "+V.state);let W=new Map(w.blockers);W.set(O,V),ft({blockers:W})}function fa(O){let{currentLocation:V,nextLocation:U,historyAction:W}=O;if(mn.size===0)return;mn.size>1&&kl(!1,"A router only supports one blocker at a time");let X=Array.from(mn.entries()),[oe,pe]=X[X.length-1],q=w.blockers.get(oe);if(!(q&&q.state==="proceeding")&&pe({currentLocation:V,nextLocation:U,historyAction:W}))return oe}function ao(O){let V=_n(404,{pathname:O}),U=a||o,{matches:W,route:X}=Kx(U);return pa(),{notFoundMatches:W,route:X,error:V}}function Jn(O,V){return{boundaryId:$a(V.partialMatches).route.id,error:_n(400,{type:"route-discovery",pathname:O,message:V.error!=null&&"message"in V.error?V.error:String(V.error)})}}function pa(O){let V=[];return ze.forEach((U,W)=>{(!O||O(W))&&(U.cancel(),V.push(W),ze.delete(W))}),V}function ma(O,V,U){if(x=O,_=V,E=U||null,!b&&w.navigation===kg){b=!0;let W=gu(w.location,w.matches);W!=null&&ft({restoreScrollPosition:W})}return()=>{x=null,_=null,E=null}}function mu(O,V){return E&&E(O,V.map(W=>oB(W,w.loaderData)))||O.key}function lo(O,V){if(x&&_){let U=mu(O,V);x[U]=_()}}function gu(O,V){if(x){let U=mu(O,V),W=x[U];if(typeof W=="number")return W}return null}function Ct(O,V,U){if(d){if(g.has(U))return{active:!1,matches:O};if(O){if(Object.keys(O[0].params).length>0)return{active:!0,matches:hf(V,U,l,!0)}}else return{active:!0,matches:hf(V,U,l,!0)||[]}}return{active:!1,matches:null}}async function uo(O,V,U){let W=O;for(;;){let X=a==null,oe=a||o;try{await OB(d,V,W,oe,s,i,Yt,U)}catch(ie){return{type:"error",error:ie,partialMatches:W}}finally{X&&(o=[...o])}if(U.aborted)return{type:"aborted"};let pe=xo(oe,V,l);if(pe)return Ki(V,g),{type:"success",matches:pe};let q=hf(oe,V,l,!0);if(!q||W.length===q.length&&W.every((ie,te)=>ie.route.id===q[te].route.id))return Ki(V,g),{type:"success",matches:null};W=q}}function Ki(O,V){if(V.size>=T){let U=V.values().next().value;V.delete(U)}V.add(O)}function co(O){s={},a=Bc(O,i,void 0,s)}function zm(O,V){let U=a==null;bP(O,V,a||o,s,i),U&&(o=[...o],ft({}))}return C={get basename(){return l},get future(){return h},get state(){return w},get routes(){return o},get window(){return e},initialize:oi,subscribe:mr,enableScrollRestoration:ma,navigate:io,fetch:hu,revalidate:uu,createHref:O=>t.history.createHref(O),encodeLocation:O=>t.history.encodeLocation(O),getFetcher:Wi,deleteFetcher:Gd,dispose:zi,getBlocker:Yd,deleteBlocker:pu,patchRoutes:zm,_internalFetchControllers:$,_internalActiveDeferreds:ze,_internalSetRoutes:co},C}function NB(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function pv(t,e,n,r,i,s,o,a){let l,u;if(o){l=[];for(let h of e)if(l.push(h),h.route.id===o){u=h;break}}else l=e,u=e[e.length-1];let d=b0(i||".",S0(l,s),Pd(t.pathname,n)||t.pathname,a==="path");return i==null&&(d.search=t.search,d.hash=t.hash),(i==null||i===""||i===".")&&u&&u.route.index&&!I0(d.search)&&(d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(d.pathname=d.pathname==="/"?n:Ls([n,d.pathname])),Id(d)}function Vx(t,e,n,r){if(!r||!NB(r))return{path:n};if(r.formMethod&&!GB(r.formMethod))return{path:n,error:_n(405,{method:r.formMethod})};let i=()=>({path:n,error:_n(400,{type:"invalid-body"})}),s=r.formMethod||"get",o=t?s.toUpperCase():s.toLowerCase(),a=CP(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Cr(o))return i();let f=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((p,T)=>{let[g,x]=T;return""+p+g+"="+x+`
`},""):String(r.body);return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:f}}}else if(r.formEncType==="application/json"){if(!Cr(o))return i();try{let f=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:f,text:void 0}}}catch{return i()}}}be(typeof FormData=="function","FormData is not available in this environment");let l,u;if(r.formData)l=mv(r.formData),u=r.formData;else if(r.body instanceof FormData)l=mv(r.body),u=r.body;else if(r.body instanceof URLSearchParams)l=r.body,u=Bx(l);else if(r.body==null)l=new URLSearchParams,u=new FormData;else try{l=new URLSearchParams(r.body),u=Bx(l)}catch{return i()}let d={formMethod:o,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(Cr(d.formMethod))return{path:n,submission:d};let h=to(n);return e&&h.search&&I0(h.search)&&l.append("index",""),h.search="?"+l,{path:Id(h),submission:d}}function DB(t,e){let n=t;if(e){let r=t.findIndex(i=>i.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function Fx(t,e,n,r,i,s,o,a,l,u,d,h,f,p,T,g){let x=g?jn(g[1])?g[1].error:g[1].data:void 0,E=t.createURL(e.location),_=t.createURL(i),b=g&&jn(g[1])?g[0]:void 0,I=b?DB(n,b):n,N=g?g[1].statusCode:void 0,F=o&&N&&N>=400,C=I.filter((R,A)=>{let{route:D}=R;if(D.lazy)return!0;if(D.loader==null)return!1;if(s)return typeof D.loader!="function"||D.loader.hydrate?!0:e.loaderData[D.id]===void 0&&(!e.errors||e.errors[D.id]===void 0);if(MB(e.loaderData,e.matches[A],R)||l.some(J=>J===R.route.id))return!0;let M=e.matches[A],k=R;return jx(R,st({currentUrl:E,currentParams:M.params,nextUrl:_,nextParams:k.params},r,{actionResult:x,actionStatus:N,defaultShouldRevalidate:F?!1:a||E.pathname+E.search===_.pathname+_.search||E.search!==_.search||SP(M,k)}))}),w=[];return h.forEach((R,A)=>{if(s||!n.some(xe=>xe.route.id===R.routeId)||d.has(A))return;let D=xo(p,R.path,T);if(!D){w.push({key:A,routeId:R.routeId,path:R.path,matches:null,match:null,controller:null});return}let M=e.fetchers.get(A),k=Ku(D,R.path),J=!1;f.has(A)?J=!1:u.has(A)?(u.delete(A),J=!0):M&&M.state!=="idle"&&M.data===void 0?J=a:J=jx(k,st({currentUrl:E,currentParams:e.matches[e.matches.length-1].params,nextUrl:_,nextParams:n[n.length-1].params},r,{actionResult:x,actionStatus:N,defaultShouldRevalidate:F?!1:a})),J&&w.push({key:A,routeId:R.routeId,path:R.path,matches:D,match:k,controller:new AbortController})}),[C,w]}function MB(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function SP(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function jx(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function OB(t,e,n,r,i,s,o,a){let l=[e,...n.map(u=>u.route.id)].join("-");try{let u=o.get(l);u||(u=t({path:e,matches:n,patch:(d,h)=>{a.aborted||bP(d,h,r,i,s)}}),o.set(l,u)),u&&WB(u)&&await u}finally{o.delete(l)}}function bP(t,e,n,r,i){if(t){var s;let o=r[t];be(o,"No route found to patch children into: routeId = "+t);let a=Bc(e,i,[t,"patch",String(((s=o.children)==null?void 0:s.length)||"0")],r);o.children?o.children.push(...a):o.children=a}else{let o=Bc(e,i,["patch",String(n.length||"0")],r);n.push(...o)}}async function LB(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];be(i,"No route found in manifest");let s={};for(let o in r){let l=i[o]!==void 0&&o!=="hasErrorBoundary";kl(!l,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!l&&!iB.has(o)&&(s[o]=r[o])}Object.assign(i,s),Object.assign(i,st({},e(i),{lazy:void 0}))}async function VB(t){let{matches:e}=t,n=e.filter(i=>i.shouldLoad);return(await Promise.all(n.map(i=>i.resolve()))).reduce((i,s,o)=>Object.assign(i,{[n[o].route.id]:s}),{})}async function FB(t,e,n,r,i,s,o,a,l,u){let d=s.map(p=>p.route.lazy?LB(p.route,l,a):void 0),h=s.map((p,T)=>{let g=d[T],x=i.some(_=>_.route.id===p.route.id);return st({},p,{shouldLoad:x,resolve:async _=>(_&&r.method==="GET"&&(p.route.lazy||p.route.loader)&&(x=!0),x?jB(e,r,p,g,_,u):Promise.resolve({type:Be.data,result:void 0}))})}),f=await t({matches:h,request:r,params:s[0].params,fetcherKey:o,context:u});try{await Promise.all(d)}catch{}return f}async function jB(t,e,n,r,i,s){let o,a,l=u=>{let d,h=new Promise((T,g)=>d=g);a=()=>d(),e.signal.addEventListener("abort",a);let f=T=>typeof u!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):u({request:e,params:n.params,context:s},...T!==void 0?[T]:[]),p=(async()=>{try{return{type:"data",result:await(i?i(g=>f(g)):f())}}catch(T){return{type:"error",result:T}}})();return Promise.race([p,h])};try{let u=n.route[t];if(r)if(u){let d,[h]=await Promise.all([l(u).catch(f=>{d=f}),r]);if(d!==void 0)throw d;o=h}else if(await r,u=n.route[t],u)o=await l(u);else if(t==="action"){let d=new URL(e.url),h=d.pathname+d.search;throw _n(405,{method:e.method,pathname:h,routeId:n.route.id})}else return{type:Be.data,result:void 0};else if(u)o=await l(u);else{let d=new URL(e.url),h=d.pathname+d.search;throw _n(404,{pathname:h})}be(o.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(u){return{type:Be.error,result:u}}finally{a&&e.signal.removeEventListener("abort",a)}return o}async function UB(t){let{result:e,type:n}=t;if(RP(e)){let u;try{let d=e.headers.get("Content-Type");d&&/\bapplication\/json\b/.test(d)?e.body==null?u=null:u=await e.json():u=await e.text()}catch(d){return{type:Be.error,error:d}}return n===Be.error?{type:Be.error,error:new ep(e.status,e.statusText,u),statusCode:e.status,headers:e.headers}:{type:Be.data,data:u,statusCode:e.status,headers:e.headers}}if(n===Be.error){if(Hx(e)){var r;if(e.data instanceof Error){var i;return{type:Be.error,error:e.data,statusCode:(i=e.init)==null?void 0:i.status}}e=new ep(((r=e.init)==null?void 0:r.status)||500,void 0,e.data)}return{type:Be.error,error:e,statusCode:Jp(e)?e.status:void 0}}if(HB(e)){var s,o;return{type:Be.deferred,deferredData:e,statusCode:(s=e.init)==null?void 0:s.status,headers:((o=e.init)==null?void 0:o.headers)&&new Headers(e.init.headers)}}if(Hx(e)){var a,l;return{type:Be.data,data:e.data,statusCode:(a=e.init)==null?void 0:a.status,headers:(l=e.init)!=null&&l.headers?new Headers(e.init.headers):void 0}}return{type:Be.data,data:e}}function BB(t,e,n,r,i,s){let o=t.headers.get("Location");if(be(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!C0.test(o)){let a=r.slice(0,r.findIndex(l=>l.route.id===n)+1);o=pv(new URL(e.url),a,i,!0,o,s),t.headers.set("Location",o)}return t}function Ux(t,e,n){if(C0.test(t)){let r=t,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),s=Pd(i.pathname,n)!=null;if(i.origin===e.origin&&s)return i.pathname+i.search+i.hash}return t}function _a(t,e,n,r){let i=t.createURL(CP(e)).toString(),s={signal:n};if(r&&Cr(r.formMethod)){let{formMethod:o,formEncType:a}=r;s.method=o.toUpperCase(),a==="application/json"?(s.headers=new Headers({"Content-Type":a}),s.body=JSON.stringify(r.json)):a==="text/plain"?s.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?s.body=mv(r.formData):s.body=r.formData}return new Request(i,s)}function mv(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function Bx(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function $B(t,e,n,r,i){let s={},o=null,a,l=!1,u={},d=n&&jn(n[1])?n[1].error:void 0;return t.forEach(h=>{if(!(h.route.id in e))return;let f=h.route.id,p=e[f];if(be(!Ro(p),"Cannot handle redirect results in processLoaderData"),jn(p)){let T=p.error;d!==void 0&&(T=d,d=void 0),o=o||{};{let g=$a(t,f);o[g.route.id]==null&&(o[g.route.id]=T)}s[f]=void 0,l||(l=!0,a=Jp(p.error)?p.error.status:500),p.headers&&(u[f]=p.headers)}else xs(p)?(r.set(f,p.deferredData),s[f]=p.deferredData.data,p.statusCode!=null&&p.statusCode!==200&&!l&&(a=p.statusCode),p.headers&&(u[f]=p.headers)):(s[f]=p.data,p.statusCode&&p.statusCode!==200&&!l&&(a=p.statusCode),p.headers&&(u[f]=p.headers))}),d!==void 0&&n&&(o={[n[0]]:d},s[n[0]]=void 0),{loaderData:s,errors:o,statusCode:a||200,loaderHeaders:u}}function $x(t,e,n,r,i,s,o,a){let{loaderData:l,errors:u}=$B(e,r,i,a);return s.forEach(d=>{let{key:h,match:f,controller:p}=d,T=o[h];if(be(T,"Did not find corresponding fetcher result"),!(p&&p.signal.aborted))if(jn(T)){let g=$a(t.matches,f==null?void 0:f.route.id);u&&u[g.route.id]||(u=st({},u,{[g.route.id]:T.error})),t.fetchers.delete(h)}else if(Ro(T))be(!1,"Unhandled fetcher revalidation redirect");else if(xs(T))be(!1,"Unhandled fetcher deferred data");else{let g=es(T.data);t.fetchers.set(h,g)}}),{loaderData:l,errors:u}}function zx(t,e,n,r){let i=st({},e);for(let s of n){let o=s.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(i[o]=e[o]):t[o]!==void 0&&s.route.loader&&(i[o]=t[o]),r&&r.hasOwnProperty(o))break}return i}function Wx(t){return t?jn(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function $a(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function Kx(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function _n(t,e){let{pathname:n,routeId:r,method:i,type:s,message:o}=e===void 0?{}:e,a="Unknown Server Error",l="Unknown @remix-run/router error";return t===400?(a="Bad Request",s==="route-discovery"?l='Unable to match URL "'+n+'" - the `unstable_patchRoutesOnNavigation()` '+(`function threw the following error:
`+o):i&&n&&r?l="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"?l="defer() is not supported in actions":s==="invalid-body"&&(l="Unable to encode submission body")):t===403?(a="Forbidden",l='Route "'+r+'" does not match URL "'+n+'"'):t===404?(a="Not Found",l='No route matches URL "'+n+'"'):t===405&&(a="Method Not Allowed",i&&n&&r?l="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(l='Invalid request method "'+i.toUpperCase()+'"')),new ep(t||500,a,new Error(l),!0)}function Ih(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,i]=e[n];if(Ro(i))return{key:r,result:i}}}function CP(t){let e=typeof t=="string"?to(t):t;return Id(st({},e,{hash:""}))}function zB(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function WB(t){return typeof t=="object"&&t!=null&&"then"in t}function KB(t){return RP(t.result)&&RB.has(t.result.status)}function xs(t){return t.type===Be.deferred}function jn(t){return t.type===Be.error}function Ro(t){return(t&&t.type)===Be.redirect}function Hx(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function HB(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function RP(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function GB(t){return CB.has(t.toLowerCase())}function Cr(t){return SB.has(t.toLowerCase())}async function qB(t,e,n,r,i){let s=Object.entries(e);for(let o=0;o<s.length;o++){let[a,l]=s[o],u=t.find(f=>(f==null?void 0:f.route.id)===a);if(!u)continue;let d=r.find(f=>f.route.id===u.route.id),h=d!=null&&!SP(d,u)&&(i&&i[u.route.id])!==void 0;xs(l)&&h&&await R0(l,n,!1).then(f=>{f&&(e[a]=f)})}}async function QB(t,e,n){for(let r=0;r<n.length;r++){let{key:i,routeId:s,controller:o}=n[r],a=e[i];t.find(u=>(u==null?void 0:u.route.id)===s)&&xs(a)&&(be(o,"Expected an AbortController for revalidating fetcher deferred result"),await R0(a,o.signal,!0).then(u=>{u&&(e[i]=u)}))}}async function R0(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:Be.data,data:t.deferredData.unwrappedData}}catch(i){return{type:Be.error,error:i}}return{type:Be.data,data:t.deferredData.data}}}function I0(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Ku(t,e){let n=typeof e=="string"?to(e).search:e.search;if(t[t.length-1].route.index&&I0(n||""))return t[t.length-1];let r=EP(t);return r[r.length-1]}function Gx(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:s,json:o}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function Ng(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function YB(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Mu(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function XB(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function es(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function JB(t,e){try{let n=t.sessionStorage.getItem(xP);if(n){let r=JSON.parse(n);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&e.set(i,new Set(s||[]))}}catch{}}function ZB(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(xP,JSON.stringify(n))}catch(r){kl(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function tp(){return tp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tp.apply(this,arguments)}const Zp=y.createContext(null),IP=y.createContext(null),Ad=y.createContext(null),P0=y.createContext(null),aa=y.createContext({outlet:null,matches:[],isDataRoute:!1}),PP=y.createContext(null);function kd(){return y.useContext(P0)!=null}function A0(){return kd()||be(!1),y.useContext(P0).location}function AP(t){y.useContext(Ad).static||y.useLayoutEffect(t)}function k0(){let{isDataRoute:t}=y.useContext(aa);return t?d3():e3()}function e3(){kd()||be(!1);let t=y.useContext(Zp),{basename:e,future:n,navigator:r}=y.useContext(Ad),{matches:i}=y.useContext(aa),{pathname:s}=A0(),o=JSON.stringify(S0(i,n.v7_relativeSplatPath)),a=y.useRef(!1);return AP(()=>{a.current=!0}),y.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let h=b0(u,JSON.parse(o),s,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Ls([e,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[e,r,o,s,t])}function t3(t,e,n,r){kd()||be(!1);let{navigator:i}=y.useContext(Ad),{matches:s}=y.useContext(aa),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=A0(),d;d=u;let h=d.pathname||"/",f=h;if(l!=="/"){let g=l.replace(/^\//,"").split("/");f="/"+h.replace(/^\//,"").split("/").slice(g.length).join("/")}let p=xo(t,{pathname:f});return o3(p&&p.map(g=>Object.assign({},g,{params:Object.assign({},a,g.params),pathname:Ls([l,i.encodeLocation?i.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?l:Ls([l,i.encodeLocation?i.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),s,n,r)}function n3(){let t=c3(),e=Jp(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},e),n?y.createElement("pre",{style:i},n):null,null)}const r3=y.createElement(n3,null);class i3 extends y.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?y.createElement(aa.Provider,{value:this.props.routeContext},y.createElement(PP.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function s3(t){let{routeContext:e,match:n,children:r}=t,i=y.useContext(Zp);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),y.createElement(aa.Provider,{value:e},r)}function o3(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let d=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||be(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:p}=n,T=h.route.loader&&f[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||T){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,f)=>{let p,T=!1,g=null,x=null;n&&(p=a&&h.route.id?a[h.route.id]:void 0,g=h.route.errorElement||r3,l&&(u<0&&f===0?(h3("route-fallback"),T=!0,x=null):u===f&&(T=!0,x=h.route.hydrateFallbackElement||null)));let E=e.concat(o.slice(0,f+1)),_=()=>{let b;return p?b=g:T?b=x:h.route.Component?b=y.createElement(h.route.Component,null):h.route.element?b=h.route.element:b=d,y.createElement(s3,{match:h,routeContext:{outlet:d,matches:E,isDataRoute:n!=null},children:b})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?y.createElement(i3,{location:n.location,revalidation:n.revalidation,component:g,error:p,children:_(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):_()},null)}var kP=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(kP||{}),np=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(np||{});function a3(t){let e=y.useContext(Zp);return e||be(!1),e}function l3(t){let e=y.useContext(IP);return e||be(!1),e}function u3(t){let e=y.useContext(aa);return e||be(!1),e}function NP(t){let e=u3(),n=e.matches[e.matches.length-1];return n.route.id||be(!1),n.route.id}function c3(){var t;let e=y.useContext(PP),n=l3(np.UseRouteError),r=NP(np.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function d3(){let{router:t}=a3(kP.UseNavigateStable),e=NP(np.UseNavigateStable),n=y.useRef(!1);return AP(()=>{n.current=!0}),y.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,tp({fromRouteId:e},s)))},[t,e])}const qx={};function h3(t,e,n){qx[t]||(qx[t]=!0)}function DP(t){let{to:e,replace:n,state:r,relative:i}=t;kd()||be(!1);let{future:s,static:o}=y.useContext(Ad),{matches:a}=y.useContext(aa),{pathname:l}=A0(),u=k0(),d=b0(e,S0(a,s.v7_relativeSplatPath),l,i==="path"),h=JSON.stringify(d);return y.useEffect(()=>u(JSON.parse(h),{replace:n,state:r,relative:i}),[u,h,i,n,r]),null}function f3(t){let{basename:e="/",children:n=null,location:r,navigationType:i=At.Pop,navigator:s,static:o=!1,future:a}=t;kd()&&be(!1);let l=e.replace(/^\/*/,"/"),u=y.useMemo(()=>({basename:l,navigator:s,static:o,future:tp({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=to(r));let{pathname:d="/",search:h="",hash:f="",state:p=null,key:T="default"}=r,g=y.useMemo(()=>{let x=Pd(d,l);return x==null?null:{location:{pathname:x,search:h,hash:f,state:p,key:T},navigationType:i}},[l,d,h,f,p,T,i]);return g==null?null:y.createElement(Ad.Provider,{value:u},y.createElement(P0.Provider,{children:n,value:g}))}new Promise(()=>{});function p3(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:y.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:y.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:y.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rp(){return rp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rp.apply(this,arguments)}const m3="6";try{window.__reactRouterVersion=m3}catch{}function g3(t,e){return kB({basename:void 0,future:rp({},void 0,{v7_prependBasename:!0}),history:tB({window:void 0}),hydrationData:y3(),routes:t,mapRouteProperties:p3,unstable_dataStrategy:void 0,unstable_patchRoutesOnNavigation:void 0,window:void 0}).initialize()}function y3(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=rp({},e,{errors:v3(e.errors)})),e}function v3(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new ep(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}const w3=y.createContext({isTransitioning:!1}),_3=y.createContext(new Map),E3="startTransition",Qx=m1[E3],T3="flushSync",Yx=QV[T3];function x3(t){Qx?Qx(t):t()}function Ou(t){Yx?Yx(t):t()}class S3{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}}function b3(t){let{fallbackElement:e,router:n,future:r}=t,[i,s]=y.useState(n.state),[o,a]=y.useState(),[l,u]=y.useState({isTransitioning:!1}),[d,h]=y.useState(),[f,p]=y.useState(),[T,g]=y.useState(),x=y.useRef(new Map),{v7_startTransition:E}=r||{},_=y.useCallback(w=>{E?x3(w):w()},[E]),b=y.useCallback((w,R)=>{let{deletedFetchers:A,unstable_flushSync:D,unstable_viewTransitionOpts:M}=R;A.forEach(J=>x.current.delete(J)),w.fetchers.forEach((J,xe)=>{J.data!==void 0&&x.current.set(xe,J.data)});let k=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!M||k){D?Ou(()=>s(w)):_(()=>s(w));return}if(D){Ou(()=>{f&&(d&&d.resolve(),f.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:M.currentLocation,nextLocation:M.nextLocation})});let J=n.window.document.startViewTransition(()=>{Ou(()=>s(w))});J.finished.finally(()=>{Ou(()=>{h(void 0),p(void 0),a(void 0),u({isTransitioning:!1})})}),Ou(()=>p(J));return}f?(d&&d.resolve(),f.skipTransition(),g({state:w,currentLocation:M.currentLocation,nextLocation:M.nextLocation})):(a(w),u({isTransitioning:!0,flushSync:!1,currentLocation:M.currentLocation,nextLocation:M.nextLocation}))},[n.window,f,d,x,_]);y.useLayoutEffect(()=>n.subscribe(b),[n,b]),y.useEffect(()=>{l.isTransitioning&&!l.flushSync&&h(new S3)},[l]),y.useEffect(()=>{if(d&&o&&n.window){let w=o,R=d.promise,A=n.window.document.startViewTransition(async()=>{_(()=>s(w)),await R});A.finished.finally(()=>{h(void 0),p(void 0),a(void 0),u({isTransitioning:!1})}),p(A)}},[_,o,d,n.window]),y.useEffect(()=>{d&&o&&i.location.key===o.location.key&&d.resolve()},[d,f,i.location,o]),y.useEffect(()=>{!l.isTransitioning&&T&&(a(T.state),u({isTransitioning:!0,flushSync:!1,currentLocation:T.currentLocation,nextLocation:T.nextLocation}),g(void 0))},[l.isTransitioning,T]),y.useEffect(()=>{},[]);let I=y.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:w=>n.navigate(w),push:(w,R,A)=>n.navigate(w,{state:R,preventScrollReset:A==null?void 0:A.preventScrollReset}),replace:(w,R,A)=>n.navigate(w,{replace:!0,state:R,preventScrollReset:A==null?void 0:A.preventScrollReset})}),[n]),N=n.basename||"/",F=y.useMemo(()=>({router:n,navigator:I,static:!1,basename:N}),[n,I,N]),C=y.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return y.createElement(y.Fragment,null,y.createElement(Zp.Provider,{value:F},y.createElement(IP.Provider,{value:i},y.createElement(_3.Provider,{value:x.current},y.createElement(w3.Provider,{value:l},y.createElement(f3,{basename:N,location:i.location,navigationType:i.historyAction,navigator:I,future:C},i.initialized||n.future.v7_partialHydration?y.createElement(C3,{routes:n.routes,future:n.future,state:i}):e))))),null)}const C3=y.memo(R3);function R3(t){let{routes:e,future:n,state:r}=t;return t3(e,void 0,r,n)}var Xx;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Xx||(Xx={}));var Jx;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Jx||(Jx={}));const I3=()=>{const t=Al(n=>n.isAuth),e=k0();y.useEffect(()=>{(async()=>{try{const r=T4();await oU(r),hP("Sign in success")}catch{}})()},[]),y.useEffect(()=>{if(!t)return e("/login")},[t])};/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P3=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),MP=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var A3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k3=y.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},l)=>y.createElement("svg",{ref:l,...A3,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:MP("lucide",i),...a},[...o.map(([u,d])=>y.createElement(u,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rt=(t,e)=>{const n=y.forwardRef(({className:r,...i},s)=>y.createElement(k3,{ref:s,iconNode:e,className:MP(`lucide-${P3(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N3=rt("Blocks",[["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["path",{d:"M10 21V8a1 1 0 0 0-1-1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-5a1 1 0 0 0-1-1H3",key:"1fpvtg"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D3=rt("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M3=rt("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O3=rt("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L3=rt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V3=rt("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F3=rt("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j3=rt("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U3=rt("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B3=rt("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $3=rt("FileChartColumn",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 18v-1",key:"zg0ygc"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"M16 18v-3",key:"j5jt4h"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z3=rt("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OP=rt("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W3=rt("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K3=rt("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H3=rt("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const em=rt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G3=rt("SendHorizontal",[["path",{d:"m3 3 3 9-3 9 19-9Z",key:"1aobqy"}],["path",{d:"M6 12h16",key:"s4cdu5"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q3=rt("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LP=rt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q3=rt("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ip=rt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y3=rt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VP=rt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function ue(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function X3(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function tm(...t){return e=>t.forEach(n=>X3(n,e))}function vt(...t){return y.useCallback(tm(...t),t)}function J3(t,e=[]){let n=[];function r(s,o){const a=y.createContext(o),l=n.length;n=[...n,o];const u=h=>{var E;const{scope:f,children:p,...T}=h,g=((E=f==null?void 0:f[t])==null?void 0:E[l])||a,x=y.useMemo(()=>T,Object.values(T));return v.jsx(g.Provider,{value:x,children:p})};u.displayName=s+"Provider";function d(h,f){var g;const p=((g=f==null?void 0:f[t])==null?void 0:g[l])||a,T=y.useContext(p);if(T)return T;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${s}\``)}return[u,d]}const i=()=>{const s=n.map(o=>y.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return y.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,Z3(i,...e)]}function Z3(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:u})=>{const h=l(s)[`__scope${u}`];return{...a,...h}},{});return y.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function Hn(t){const e=y.useRef(t);return y.useEffect(()=>{e.current=t}),y.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function Nd({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,i]=e$({defaultProp:e,onChange:n}),s=t!==void 0,o=s?t:r,a=Hn(n),l=y.useCallback(u=>{if(s){const h=typeof u=="function"?u(t):u;h!==t&&a(h)}else i(u)},[s,t,i,a]);return[o,l]}function e$({defaultProp:t,onChange:e}){const n=y.useState(t),[r]=n,i=y.useRef(r),s=Hn(e);return y.useEffect(()=>{i.current!==r&&(s(r),i.current=r)},[r,i,s]),n}var Yo=y.forwardRef((t,e)=>{const{children:n,...r}=t,i=y.Children.toArray(n),s=i.find(t$);if(s){const o=s.props.children,a=i.map(l=>l===s?y.Children.count(o)>1?y.Children.only(null):y.isValidElement(o)?o.props.children:null:l);return v.jsx(gv,{...r,ref:e,children:y.isValidElement(o)?y.cloneElement(o,void 0,a):null})}return v.jsx(gv,{...r,ref:e,children:n})});Yo.displayName="Slot";var gv=y.forwardRef((t,e)=>{const{children:n,...r}=t;if(y.isValidElement(n)){const i=r$(n);return y.cloneElement(n,{...n$(r,n.props),ref:e?tm(e,i):i})}return y.Children.count(n)>1?y.Children.only(null):null});gv.displayName="SlotClone";var FP=({children:t})=>v.jsx(v.Fragment,{children:t});function t$(t){return y.isValidElement(t)&&t.type===FP}function n$(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{s(...a),i(...a)}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function r$(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var i$=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],je=i$.reduce((t,e)=>{const n=y.forwardRef((r,i)=>{const{asChild:s,...o}=r,a=s?Yo:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),v.jsx(a,{...o,ref:i})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function N0(t,e){t&&Gl.flushSync(()=>t.dispatchEvent(e))}function s$(t,e){const n=y.createContext(e);function r(s){const{children:o,...a}=s,l=y.useMemo(()=>a,Object.values(a));return v.jsx(n.Provider,{value:l,children:o})}function i(s){const o=y.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${t}\``)}return r.displayName=t+"Provider",[r,i]}function Xl(t,e=[]){let n=[];function r(s,o){const a=y.createContext(o),l=n.length;n=[...n,o];function u(h){const{scope:f,children:p,...T}=h,g=(f==null?void 0:f[t][l])||a,x=y.useMemo(()=>T,Object.values(T));return v.jsx(g.Provider,{value:x,children:p})}function d(h,f){const p=(f==null?void 0:f[t][l])||a,T=y.useContext(p);if(T)return T;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${s}\``)}return u.displayName=s+"Provider",[u,d]}const i=()=>{const s=n.map(o=>y.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return y.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,o$(i,...e)]}function o$(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:u})=>{const h=l(s)[`__scope${u}`];return{...a,...h}},{});return y.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function jP(t){const e=t+"CollectionProvider",[n,r]=Xl(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=p=>{const{scope:T,children:g}=p,x=jr.useRef(null),E=jr.useRef(new Map).current;return v.jsx(i,{scope:T,itemMap:E,collectionRef:x,children:g})};o.displayName=e;const a=t+"CollectionSlot",l=jr.forwardRef((p,T)=>{const{scope:g,children:x}=p,E=s(a,g),_=vt(T,E.collectionRef);return v.jsx(Yo,{ref:_,children:x})});l.displayName=a;const u=t+"CollectionItemSlot",d="data-radix-collection-item",h=jr.forwardRef((p,T)=>{const{scope:g,children:x,...E}=p,_=jr.useRef(null),b=vt(T,_),I=s(u,g);return jr.useEffect(()=>(I.itemMap.set(_,{ref:_,...E}),()=>void I.itemMap.delete(_))),v.jsx(Yo,{[d]:"",ref:b,children:x})});h.displayName=u;function f(p){const T=s(t+"CollectionConsumer",p);return jr.useCallback(()=>{const x=T.collectionRef.current;if(!x)return[];const E=Array.from(x.querySelectorAll(`[${d}]`));return Array.from(T.itemMap.values()).sort((I,N)=>E.indexOf(I.ref.current)-E.indexOf(N.ref.current))},[T.collectionRef,T.itemMap])}return[{Provider:o,Slot:l,ItemSlot:h},f,r]}function a$(t,e=[]){let n=[];function r(s,o){const a=y.createContext(o),l=n.length;n=[...n,o];const u=h=>{var E;const{scope:f,children:p,...T}=h,g=((E=f==null?void 0:f[t])==null?void 0:E[l])||a,x=y.useMemo(()=>T,Object.values(T));return v.jsx(g.Provider,{value:x,children:p})};u.displayName=s+"Provider";function d(h,f){var g;const p=((g=f==null?void 0:f[t])==null?void 0:g[l])||a,T=y.useContext(p);if(T)return T;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${s}\``)}return[u,d]}const i=()=>{const s=n.map(o=>y.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return y.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,l$(i,...e)]}function l$(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:u})=>{const h=l(s)[`__scope${u}`];return{...a,...h}},{});return y.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var u$=y.createContext(void 0);function D0(t){const e=y.useContext(u$);return t||e||"ltr"}function UP(t,e=globalThis==null?void 0:globalThis.document){const n=Hn(t);y.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var c$="DismissableLayer",yv="dismissableLayer.update",d$="dismissableLayer.pointerDownOutside",h$="dismissableLayer.focusOutside",Zx,BP=y.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),$P=y.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...l}=t,u=y.useContext(BP),[d,h]=y.useState(null),f=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=y.useState({}),T=vt(e,C=>h(C)),g=Array.from(u.layers),[x]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),E=g.indexOf(x),_=d?g.indexOf(d):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,I=_>=E,N=m$(C=>{const w=C.target,R=[...u.branches].some(A=>A.contains(w));!I||R||(i==null||i(C),o==null||o(C),C.defaultPrevented||a==null||a())},f),F=g$(C=>{const w=C.target;[...u.branches].some(A=>A.contains(w))||(s==null||s(C),o==null||o(C),C.defaultPrevented||a==null||a())},f);return UP(C=>{_===u.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&a&&(C.preventDefault(),a()))},f),y.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Zx=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),eS(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=Zx)}},[d,f,n,u]),y.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),eS())},[d,u]),y.useEffect(()=>{const C=()=>p({});return document.addEventListener(yv,C),()=>document.removeEventListener(yv,C)},[]),v.jsx(je.div,{...l,ref:T,style:{pointerEvents:b?I?"auto":"none":void 0,...t.style},onFocusCapture:ue(t.onFocusCapture,F.onFocusCapture),onBlurCapture:ue(t.onBlurCapture,F.onBlurCapture),onPointerDownCapture:ue(t.onPointerDownCapture,N.onPointerDownCapture)})});$P.displayName=c$;var f$="DismissableLayerBranch",p$=y.forwardRef((t,e)=>{const n=y.useContext(BP),r=y.useRef(null),i=vt(e,r);return y.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),v.jsx(je.div,{...t,ref:i})});p$.displayName=f$;function m$(t,e=globalThis==null?void 0:globalThis.document){const n=Hn(t),r=y.useRef(!1),i=y.useRef(()=>{});return y.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let l=function(){zP(d$,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function g$(t,e=globalThis==null?void 0:globalThis.document){const n=Hn(t),r=y.useRef(!1);return y.useEffect(()=>{const i=s=>{s.target&&!r.current&&zP(h$,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function eS(){const t=new CustomEvent(yv);document.dispatchEvent(t)}function zP(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?N0(i,s):i.dispatchEvent(s)}var Dg=0;function y$(){y.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??tS()),document.body.insertAdjacentElement("beforeend",t[1]??tS()),Dg++,()=>{Dg===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Dg--}},[])}function tS(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Mg="focusScope.autoFocusOnMount",Og="focusScope.autoFocusOnUnmount",nS={bubbles:!1,cancelable:!0},v$="FocusScope",M0=y.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=t,[a,l]=y.useState(null),u=Hn(i),d=Hn(s),h=y.useRef(null),f=vt(e,g=>l(g)),p=y.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;y.useEffect(()=>{if(r){let g=function(b){if(p.paused||!a)return;const I=b.target;a.contains(I)?h.current=I:ts(h.current,{select:!0})},x=function(b){if(p.paused||!a)return;const I=b.relatedTarget;I!==null&&(a.contains(I)||ts(h.current,{select:!0}))},E=function(b){if(document.activeElement===document.body)for(const N of b)N.removedNodes.length>0&&ts(a)};document.addEventListener("focusin",g),document.addEventListener("focusout",x);const _=new MutationObserver(E);return a&&_.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",x),_.disconnect()}}},[r,a,p.paused]),y.useEffect(()=>{if(a){iS.add(p);const g=document.activeElement;if(!a.contains(g)){const E=new CustomEvent(Mg,nS);a.addEventListener(Mg,u),a.dispatchEvent(E),E.defaultPrevented||(w$(S$(WP(a)),{select:!0}),document.activeElement===g&&ts(a))}return()=>{a.removeEventListener(Mg,u),setTimeout(()=>{const E=new CustomEvent(Og,nS);a.addEventListener(Og,d),a.dispatchEvent(E),E.defaultPrevented||ts(g??document.body,{select:!0}),a.removeEventListener(Og,d),iS.remove(p)},0)}}},[a,u,d,p]);const T=y.useCallback(g=>{if(!n&&!r||p.paused)return;const x=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,E=document.activeElement;if(x&&E){const _=g.currentTarget,[b,I]=_$(_);b&&I?!g.shiftKey&&E===I?(g.preventDefault(),n&&ts(b,{select:!0})):g.shiftKey&&E===b&&(g.preventDefault(),n&&ts(I,{select:!0})):E===_&&g.preventDefault()}},[n,r,p.paused]);return v.jsx(je.div,{tabIndex:-1,...o,ref:f,onKeyDown:T})});M0.displayName=v$;function w$(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(ts(r,{select:e}),document.activeElement!==n)return}function _$(t){const e=WP(t),n=rS(e,t),r=rS(e.reverse(),t);return[n,r]}function WP(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function rS(t,e){for(const n of t)if(!E$(n,{upTo:e}))return n}function E$(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function T$(t){return t instanceof HTMLInputElement&&"select"in t}function ts(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&T$(t)&&e&&t.select()}}var iS=x$();function x$(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=sS(t,e),t.unshift(e)},remove(e){var n;t=sS(t,e),(n=t[0])==null||n.resume()}}}function sS(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function S$(t){return t.filter(e=>e.tagName!=="A")}var Li=globalThis!=null&&globalThis.document?y.useLayoutEffect:()=>{},b$=m1.useId||(()=>{}),C$=0;function Vs(t){const[e,n]=y.useState(b$());return Li(()=>{t||n(r=>r??String(C$++))},[t]),t||(e?`radix-${e}`:"")}const R$=["top","right","bottom","left"],zs=Math.min,Un=Math.max,sp=Math.round,Ph=Math.floor,Ws=t=>({x:t,y:t}),I$={left:"right",right:"left",bottom:"top",top:"bottom"},P$={start:"end",end:"start"};function vv(t,e,n){return Un(t,zs(e,n))}function Vi(t,e){return typeof t=="function"?t(e):t}function Fi(t){return t.split("-")[0]}function Jl(t){return t.split("-")[1]}function O0(t){return t==="x"?"y":"x"}function L0(t){return t==="y"?"height":"width"}function Ks(t){return["top","bottom"].includes(Fi(t))?"y":"x"}function V0(t){return O0(Ks(t))}function A$(t,e,n){n===void 0&&(n=!1);const r=Jl(t),i=V0(t),s=L0(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=op(o)),[o,op(o)]}function k$(t){const e=op(t);return[wv(t),e,wv(e)]}function wv(t){return t.replace(/start|end/g,e=>P$[e])}function N$(t,e,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?s:o;default:return[]}}function D$(t,e,n,r){const i=Jl(t);let s=N$(Fi(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(wv)))),s}function op(t){return t.replace(/left|right|bottom|top/g,e=>I$[e])}function M$(t){return{top:0,right:0,bottom:0,left:0,...t}}function KP(t){return typeof t!="number"?M$(t):{top:t,right:t,bottom:t,left:t}}function ap(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function oS(t,e,n){let{reference:r,floating:i}=t;const s=Ks(e),o=V0(e),a=L0(o),l=Fi(e),u=s==="y",d=r.x+r.width/2-i.width/2,h=r.y+r.height/2-i.height/2,f=r[a]/2-i[a]/2;let p;switch(l){case"top":p={x:d,y:r.y-i.height};break;case"bottom":p={x:d,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:h};break;case"left":p={x:r.x-i.width,y:h};break;default:p={x:r.x,y:r.y}}switch(Jl(e)){case"start":p[o]-=f*(n&&u?-1:1);break;case"end":p[o]+=f*(n&&u?-1:1);break}return p}const O$=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:d,y:h}=oS(u,r,l),f=r,p={},T=0;for(let g=0;g<a.length;g++){const{name:x,fn:E}=a[g],{x:_,y:b,data:I,reset:N}=await E({x:d,y:h,initialPlacement:r,placement:f,strategy:i,middlewareData:p,rects:u,platform:o,elements:{reference:t,floating:e}});d=_??d,h=b??h,p={...p,[x]:{...p[x],...I}},N&&T<=50&&(T++,typeof N=="object"&&(N.placement&&(f=N.placement),N.rects&&(u=N.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):N.rects),{x:d,y:h}=oS(u,f,l)),g=-1)}return{x:d,y:h,placement:f,strategy:i,middlewareData:p}};async function $c(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:f=!1,padding:p=0}=Vi(e,t),T=KP(p),x=a[f?h==="floating"?"reference":"floating":h],E=ap(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(x)))==null||n?x:x.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:u,rootBoundary:d,strategy:l})),_=h==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,b=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),I=await(s.isElement==null?void 0:s.isElement(b))?await(s.getScale==null?void 0:s.getScale(b))||{x:1,y:1}:{x:1,y:1},N=ap(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:_,offsetParent:b,strategy:l}):_);return{top:(E.top-N.top+T.top)/I.y,bottom:(N.bottom-E.bottom+T.bottom)/I.y,left:(E.left-N.left+T.left)/I.x,right:(N.right-E.right+T.right)/I.x}}const L$=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:u,padding:d=0}=Vi(t,e)||{};if(u==null)return{};const h=KP(d),f={x:n,y:r},p=V0(i),T=L0(p),g=await o.getDimensions(u),x=p==="y",E=x?"top":"left",_=x?"bottom":"right",b=x?"clientHeight":"clientWidth",I=s.reference[T]+s.reference[p]-f[p]-s.floating[T],N=f[p]-s.reference[p],F=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let C=F?F[b]:0;(!C||!await(o.isElement==null?void 0:o.isElement(F)))&&(C=a.floating[b]||s.floating[T]);const w=I/2-N/2,R=C/2-g[T]/2-1,A=zs(h[E],R),D=zs(h[_],R),M=A,k=C-g[T]-D,J=C/2-g[T]/2+w,xe=vv(M,J,k),fe=!l.arrow&&Jl(i)!=null&&J!==xe&&s.reference[T]/2-(J<M?A:D)-g[T]/2<0,le=fe?J<M?J-M:J-k:0;return{[p]:f[p]+le,data:{[p]:xe,centerOffset:J-xe-le,...fe&&{alignmentOffset:le}},reset:fe}}}),V$=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:u}=e,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:T="none",flipAlignment:g=!0,...x}=Vi(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const E=Fi(i),_=Ks(a),b=Fi(a)===a,I=await(l.isRTL==null?void 0:l.isRTL(u.floating)),N=f||(b||!g?[op(a)]:k$(a)),F=T!=="none";!f&&F&&N.push(...D$(a,g,T,I));const C=[a,...N],w=await $c(e,x),R=[];let A=((r=s.flip)==null?void 0:r.overflows)||[];if(d&&R.push(w[E]),h){const J=A$(i,o,I);R.push(w[J[0]],w[J[1]])}if(A=[...A,{placement:i,overflows:R}],!R.every(J=>J<=0)){var D,M;const J=(((D=s.flip)==null?void 0:D.index)||0)+1,xe=C[J];if(xe)return{data:{index:J,overflows:A},reset:{placement:xe}};let fe=(M=A.filter(le=>le.overflows[0]<=0).sort((le,z)=>le.overflows[1]-z.overflows[1])[0])==null?void 0:M.placement;if(!fe)switch(p){case"bestFit":{var k;const le=(k=A.filter(z=>{if(F){const $=Ks(z.placement);return $===_||$==="y"}return!0}).map(z=>[z.placement,z.overflows.filter($=>$>0).reduce(($,Y)=>$+Y,0)]).sort((z,$)=>z[1]-$[1])[0])==null?void 0:k[0];le&&(fe=le);break}case"initialPlacement":fe=a;break}if(i!==fe)return{reset:{placement:fe}}}return{}}}};function aS(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function lS(t){return R$.some(e=>t[e]>=0)}const F$=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=Vi(t,e);switch(r){case"referenceHidden":{const s=await $c(e,{...i,elementContext:"reference"}),o=aS(s,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:lS(o)}}}case"escaped":{const s=await $c(e,{...i,altBoundary:!0}),o=aS(s,n.floating);return{data:{escapedOffsets:o,escaped:lS(o)}}}default:return{}}}}};async function j$(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Fi(n),a=Jl(n),l=Ks(n)==="y",u=["left","top"].includes(o)?-1:1,d=s&&l?-1:1,h=Vi(e,t);let{mainAxis:f,crossAxis:p,alignmentAxis:T}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof T=="number"&&(p=a==="end"?T*-1:T),l?{x:p*d,y:f*u}:{x:f*u,y:p*d}}const U$=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=e,l=await j$(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},B$=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:x=>{let{x:E,y:_}=x;return{x:E,y:_}}},...l}=Vi(t,e),u={x:n,y:r},d=await $c(e,l),h=Ks(Fi(i)),f=O0(h);let p=u[f],T=u[h];if(s){const x=f==="y"?"top":"left",E=f==="y"?"bottom":"right",_=p+d[x],b=p-d[E];p=vv(_,p,b)}if(o){const x=h==="y"?"top":"left",E=h==="y"?"bottom":"right",_=T+d[x],b=T-d[E];T=vv(_,T,b)}const g=a.fn({...e,[f]:p,[h]:T});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[f]:s,[h]:o}}}}}},$$=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:u=!0}=Vi(t,e),d={x:n,y:r},h=Ks(i),f=O0(h);let p=d[f],T=d[h];const g=Vi(a,e),x=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){const b=f==="y"?"height":"width",I=s.reference[f]-s.floating[b]+x.mainAxis,N=s.reference[f]+s.reference[b]-x.mainAxis;p<I?p=I:p>N&&(p=N)}if(u){var E,_;const b=f==="y"?"width":"height",I=["top","left"].includes(Fi(i)),N=s.reference[h]-s.floating[b]+(I&&((E=o.offset)==null?void 0:E[h])||0)+(I?0:x.crossAxis),F=s.reference[h]+s.reference[b]+(I?0:((_=o.offset)==null?void 0:_[h])||0)-(I?x.crossAxis:0);T<N?T=N:T>F&&(T=F)}return{[f]:p,[h]:T}}}},z$=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:o,elements:a}=e,{apply:l=()=>{},...u}=Vi(t,e),d=await $c(e,u),h=Fi(i),f=Jl(i),p=Ks(i)==="y",{width:T,height:g}=s.floating;let x,E;h==="top"||h==="bottom"?(x=h,E=f===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(E=h,x=f==="end"?"top":"bottom");const _=g-d.top-d.bottom,b=T-d.left-d.right,I=zs(g-d[x],_),N=zs(T-d[E],b),F=!e.middlewareData.shift;let C=I,w=N;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(w=b),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(C=_),F&&!f){const A=Un(d.left,0),D=Un(d.right,0),M=Un(d.top,0),k=Un(d.bottom,0);p?w=T-2*(A!==0||D!==0?A+D:Un(d.left,d.right)):C=g-2*(M!==0||k!==0?M+k:Un(d.top,d.bottom))}await l({...e,availableWidth:w,availableHeight:C});const R=await o.getDimensions(a.floating);return T!==R.width||g!==R.height?{reset:{rects:!0}}:{}}}};function nm(){return typeof window<"u"}function Zl(t){return HP(t)?(t.nodeName||"").toLowerCase():"#document"}function Wn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function si(t){var e;return(e=(HP(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function HP(t){return nm()?t instanceof Node||t instanceof Wn(t).Node:!1}function Dr(t){return nm()?t instanceof Element||t instanceof Wn(t).Element:!1}function ti(t){return nm()?t instanceof HTMLElement||t instanceof Wn(t).HTMLElement:!1}function uS(t){return!nm()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Wn(t).ShadowRoot}function Dd(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=Mr(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function W$(t){return["table","td","th"].includes(Zl(t))}function rm(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function F0(t){const e=j0(),n=Dr(t)?Mr(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function K$(t){let e=Hs(t);for(;ti(e)&&!Nl(e);){if(F0(e))return e;if(rm(e))return null;e=Hs(e)}return null}function j0(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Nl(t){return["html","body","#document"].includes(Zl(t))}function Mr(t){return Wn(t).getComputedStyle(t)}function im(t){return Dr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Hs(t){if(Zl(t)==="html")return t;const e=t.assignedSlot||t.parentNode||uS(t)&&t.host||si(t);return uS(e)?e.host:e}function GP(t){const e=Hs(t);return Nl(e)?t.ownerDocument?t.ownerDocument.body:t.body:ti(e)&&Dd(e)?e:GP(e)}function zc(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=GP(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=Wn(i);if(s){const a=_v(o);return e.concat(o,o.visualViewport||[],Dd(i)?i:[],a&&n?zc(a):[])}return e.concat(i,zc(i,[],n))}function _v(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function qP(t){const e=Mr(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=ti(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=sp(n)!==s||sp(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function U0(t){return Dr(t)?t:t.contextElement}function rl(t){const e=U0(t);if(!ti(e))return Ws(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=qP(e);let o=(s?sp(n.width):n.width)/r,a=(s?sp(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const H$=Ws(0);function QP(t){const e=Wn(t);return!j0()||!e.visualViewport?H$:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function G$(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Wn(t)?!1:e}function Xo(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=U0(t);let o=Ws(1);e&&(r?Dr(r)&&(o=rl(r)):o=rl(t));const a=G$(s,n,r)?QP(s):Ws(0);let l=(i.left+a.x)/o.x,u=(i.top+a.y)/o.y,d=i.width/o.x,h=i.height/o.y;if(s){const f=Wn(s),p=r&&Dr(r)?Wn(r):r;let T=f,g=_v(T);for(;g&&r&&p!==T;){const x=rl(g),E=g.getBoundingClientRect(),_=Mr(g),b=E.left+(g.clientLeft+parseFloat(_.paddingLeft))*x.x,I=E.top+(g.clientTop+parseFloat(_.paddingTop))*x.y;l*=x.x,u*=x.y,d*=x.x,h*=x.y,l+=b,u+=I,T=Wn(g),g=_v(T)}}return ap({width:d,height:h,x:l,y:u})}function q$(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",o=si(r),a=e?rm(e.floating):!1;if(r===o||a&&s)return n;let l={scrollLeft:0,scrollTop:0},u=Ws(1);const d=Ws(0),h=ti(r);if((h||!h&&!s)&&((Zl(r)!=="body"||Dd(o))&&(l=im(r)),ti(r))){const f=Xo(r);u=rl(r),d.x=f.x+r.clientLeft,d.y=f.y+r.clientTop}return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+d.x,y:n.y*u.y-l.scrollTop*u.y+d.y}}function Q$(t){return Array.from(t.getClientRects())}function Ev(t,e){const n=im(t).scrollLeft;return e?e.left+n:Xo(si(t)).left+n}function Y$(t){const e=si(t),n=im(t),r=t.ownerDocument.body,i=Un(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=Un(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Ev(t);const a=-n.scrollTop;return Mr(r).direction==="rtl"&&(o+=Un(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function X$(t,e){const n=Wn(t),r=si(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const u=j0();(!u||u&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a,y:l}}function J$(t,e){const n=Xo(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=ti(t)?rl(t):Ws(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,l=i*s.x,u=r*s.y;return{width:o,height:a,x:l,y:u}}function cS(t,e,n){let r;if(e==="viewport")r=X$(t,n);else if(e==="document")r=Y$(si(t));else if(Dr(e))r=J$(e,n);else{const i=QP(t);r={...e,x:e.x-i.x,y:e.y-i.y}}return ap(r)}function YP(t,e){const n=Hs(t);return n===e||!Dr(n)||Nl(n)?!1:Mr(n).position==="fixed"||YP(n,e)}function Z$(t,e){const n=e.get(t);if(n)return n;let r=zc(t,[],!1).filter(a=>Dr(a)&&Zl(a)!=="body"),i=null;const s=Mr(t).position==="fixed";let o=s?Hs(t):t;for(;Dr(o)&&!Nl(o);){const a=Mr(o),l=F0(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Dd(o)&&!l&&YP(t,o))?r=r.filter(d=>d!==o):i=a,o=Hs(o)}return e.set(t,r),r}function ez(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?rm(e)?[]:Z$(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((u,d)=>{const h=cS(e,d,i);return u.top=Un(h.top,u.top),u.right=zs(h.right,u.right),u.bottom=zs(h.bottom,u.bottom),u.left=Un(h.left,u.left),u},cS(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function tz(t){const{width:e,height:n}=qP(t);return{width:e,height:n}}function nz(t,e,n){const r=ti(e),i=si(e),s=n==="fixed",o=Xo(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=Ws(0);if(r||!r&&!s)if((Zl(e)!=="body"||Dd(i))&&(a=im(e)),r){const p=Xo(e,!0,s,e);l.x=p.x+e.clientLeft,l.y=p.y+e.clientTop}else i&&(l.x=Ev(i));let u=0,d=0;if(i&&!r&&!s){const p=i.getBoundingClientRect();d=p.top+a.scrollTop,u=p.left+a.scrollLeft-Ev(i,p)}const h=o.left+a.scrollLeft-l.x-u,f=o.top+a.scrollTop-l.y-d;return{x:h,y:f,width:o.width,height:o.height}}function Lg(t){return Mr(t).position==="static"}function dS(t,e){if(!ti(t)||Mr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return si(t)===n&&(n=n.ownerDocument.body),n}function XP(t,e){const n=Wn(t);if(rm(t))return n;if(!ti(t)){let i=Hs(t);for(;i&&!Nl(i);){if(Dr(i)&&!Lg(i))return i;i=Hs(i)}return n}let r=dS(t,e);for(;r&&W$(r)&&Lg(r);)r=dS(r,e);return r&&Nl(r)&&Lg(r)&&!F0(r)?n:r||K$(t)||n}const rz=async function(t){const e=this.getOffsetParent||XP,n=this.getDimensions,r=await n(t.floating);return{reference:nz(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function iz(t){return Mr(t).direction==="rtl"}const sz={convertOffsetParentRelativeRectToViewportRelativeRect:q$,getDocumentElement:si,getClippingRect:ez,getOffsetParent:XP,getElementRects:rz,getClientRects:Q$,getDimensions:tz,getScale:rl,isElement:Dr,isRTL:iz};function oz(t,e){let n=null,r;const i=si(t);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const{left:u,top:d,width:h,height:f}=t.getBoundingClientRect();if(a||e(),!h||!f)return;const p=Ph(d),T=Ph(i.clientWidth-(u+h)),g=Ph(i.clientHeight-(d+f)),x=Ph(u),_={rootMargin:-p+"px "+-T+"px "+-g+"px "+-x+"px",threshold:Un(0,zs(1,l))||1};let b=!0;function I(N){const F=N[0].intersectionRatio;if(F!==l){if(!b)return o();F?o(!1,F):r=setTimeout(()=>{o(!1,1e-7)},1e3)}b=!1}try{n=new IntersectionObserver(I,{..._,root:i.ownerDocument})}catch{n=new IntersectionObserver(I,_)}n.observe(t)}return o(!0),s}function az(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=U0(t),d=i||s?[...u?zc(u):[],...zc(e)]:[];d.forEach(E=>{i&&E.addEventListener("scroll",n,{passive:!0}),s&&E.addEventListener("resize",n)});const h=u&&a?oz(u,n):null;let f=-1,p=null;o&&(p=new ResizeObserver(E=>{let[_]=E;_&&_.target===u&&p&&(p.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var b;(b=p)==null||b.observe(e)})),n()}),u&&!l&&p.observe(u),p.observe(e));let T,g=l?Xo(t):null;l&&x();function x(){const E=Xo(t);g&&(E.x!==g.x||E.y!==g.y||E.width!==g.width||E.height!==g.height)&&n(),g=E,T=requestAnimationFrame(x)}return n(),()=>{var E;d.forEach(_=>{i&&_.removeEventListener("scroll",n),s&&_.removeEventListener("resize",n)}),h==null||h(),(E=p)==null||E.disconnect(),p=null,l&&cancelAnimationFrame(T)}}const lz=U$,uz=B$,cz=V$,dz=z$,hz=F$,hS=L$,fz=$$,pz=(t,e,n)=>{const r=new Map,i={platform:sz,...n},s={...i.platform,_c:r};return O$(t,e,{...i,platform:s})};var ff=typeof document<"u"?y.useLayoutEffect:y.useEffect;function lp(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!lp(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!lp(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function JP(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function fS(t,e){const n=JP(t);return Math.round(e*n)/n}function Vg(t){const e=y.useRef(t);return ff(()=>{e.current=t}),e}function mz(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:u}=t,[d,h]=y.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[f,p]=y.useState(r);lp(f,r)||p(r);const[T,g]=y.useState(null),[x,E]=y.useState(null),_=y.useCallback(z=>{z!==F.current&&(F.current=z,g(z))},[]),b=y.useCallback(z=>{z!==C.current&&(C.current=z,E(z))},[]),I=s||T,N=o||x,F=y.useRef(null),C=y.useRef(null),w=y.useRef(d),R=l!=null,A=Vg(l),D=Vg(i),M=Vg(u),k=y.useCallback(()=>{if(!F.current||!C.current)return;const z={placement:e,strategy:n,middleware:f};D.current&&(z.platform=D.current),pz(F.current,C.current,z).then($=>{const Y={...$,isPositioned:M.current!==!1};J.current&&!lp(w.current,Y)&&(w.current=Y,Gl.flushSync(()=>{h(Y)}))})},[f,e,n,D,M]);ff(()=>{u===!1&&w.current.isPositioned&&(w.current.isPositioned=!1,h(z=>({...z,isPositioned:!1})))},[u]);const J=y.useRef(!1);ff(()=>(J.current=!0,()=>{J.current=!1}),[]),ff(()=>{if(I&&(F.current=I),N&&(C.current=N),I&&N){if(A.current)return A.current(I,N,k);k()}},[I,N,k,A,R]);const xe=y.useMemo(()=>({reference:F,floating:C,setReference:_,setFloating:b}),[_,b]),fe=y.useMemo(()=>({reference:I,floating:N}),[I,N]),le=y.useMemo(()=>{const z={position:n,left:0,top:0};if(!fe.floating)return z;const $=fS(fe.floating,d.x),Y=fS(fe.floating,d.y);return a?{...z,transform:"translate("+$+"px, "+Y+"px)",...JP(fe.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:$,top:Y}},[n,a,fe.floating,d.x,d.y]);return y.useMemo(()=>({...d,update:k,refs:xe,elements:fe,floatingStyles:le}),[d,k,xe,fe,le])}const gz=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?hS({element:r.current,padding:i}).fn(n):{}:r?hS({element:r,padding:i}).fn(n):{}}}},yz=(t,e)=>({...lz(t),options:[t,e]}),vz=(t,e)=>({...uz(t),options:[t,e]}),wz=(t,e)=>({...fz(t),options:[t,e]}),_z=(t,e)=>({...cz(t),options:[t,e]}),Ez=(t,e)=>({...dz(t),options:[t,e]}),Tz=(t,e)=>({...hz(t),options:[t,e]}),xz=(t,e)=>({...gz(t),options:[t,e]});var Sz="Arrow",ZP=y.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...s}=t;return v.jsx(je.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:v.jsx("polygon",{points:"0,0 30,0 15,10"})})});ZP.displayName=Sz;var bz=ZP;function Cz(t){const[e,n]=y.useState(void 0);return Li(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const l=s.borderBoxSize,u=Array.isArray(l)?l[0]:l;o=u.inlineSize,a=u.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var B0="Popper",[eA,sm]=Xl(B0),[Rz,tA]=eA(B0),nA=t=>{const{__scopePopper:e,children:n}=t,[r,i]=y.useState(null);return v.jsx(Rz,{scope:e,anchor:r,onAnchorChange:i,children:n})};nA.displayName=B0;var rA="PopperAnchor",iA=y.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=tA(rA,n),o=y.useRef(null),a=vt(e,o);return y.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:v.jsx(je.div,{...i,ref:a})});iA.displayName=rA;var $0="PopperContent",[Iz,Pz]=eA($0),sA=y.forwardRef((t,e)=>{var ze,mn,Yt,gn,oi,zi;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:f=!1,updatePositionStrategy:p="optimized",onPlaced:T,...g}=t,x=tA($0,n),[E,_]=y.useState(null),b=vt(e,mr=>_(mr)),[I,N]=y.useState(null),F=Cz(I),C=(F==null?void 0:F.width)??0,w=(F==null?void 0:F.height)??0,R=r+(s!=="center"?"-"+s:""),A=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},D=Array.isArray(u)?u:[u],M=D.length>0,k={padding:A,boundary:D.filter(kz),altBoundary:M},{refs:J,floatingStyles:xe,placement:fe,isPositioned:le,middlewareData:z}=mz({strategy:"fixed",placement:R,whileElementsMounted:(...mr)=>az(...mr,{animationFrame:p==="always"}),elements:{reference:x.anchor},middleware:[yz({mainAxis:i+w,alignmentAxis:o}),l&&vz({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?wz():void 0,...k}),l&&_z({...k}),Ez({...k,apply:({elements:mr,rects:ft,availableWidth:Yn,availableHeight:io})=>{const{width:uu,height:gr}=ft.reference,ai=mr.floating.style;ai.setProperty("--radix-popper-available-width",`${Yn}px`),ai.setProperty("--radix-popper-available-height",`${io}px`),ai.setProperty("--radix-popper-anchor-width",`${uu}px`),ai.setProperty("--radix-popper-anchor-height",`${gr}px`)}}),I&&xz({element:I,padding:a}),Nz({arrowWidth:C,arrowHeight:w}),f&&Tz({strategy:"referenceHidden",...k})]}),[$,Y]=lA(fe),ae=Hn(T);Li(()=>{le&&(ae==null||ae())},[le,ae]);const ge=(ze=z.arrow)==null?void 0:ze.x,Se=(mn=z.arrow)==null?void 0:mn.y,ht=((Yt=z.arrow)==null?void 0:Yt.centerOffset)!==0,[bt,$e]=y.useState();return Li(()=>{E&&$e(window.getComputedStyle(E).zIndex)},[E]),v.jsx("div",{ref:J.setFloating,"data-radix-popper-content-wrapper":"",style:{...xe,transform:le?xe.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:bt,"--radix-popper-transform-origin":[(gn=z.transformOrigin)==null?void 0:gn.x,(oi=z.transformOrigin)==null?void 0:oi.y].join(" "),...((zi=z.hide)==null?void 0:zi.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:v.jsx(Iz,{scope:n,placedSide:$,onArrowChange:N,arrowX:ge,arrowY:Se,shouldHideArrow:ht,children:v.jsx(je.div,{"data-side":$,"data-align":Y,...g,ref:b,style:{...g.style,animation:le?void 0:"none"}})})})});sA.displayName=$0;var oA="PopperArrow",Az={top:"bottom",right:"left",bottom:"top",left:"right"},aA=y.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,s=Pz(oA,r),o=Az[s.placedSide];return v.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:v.jsx(bz,{...i,ref:n,style:{...i.style,display:"block"}})})});aA.displayName=oA;function kz(t){return t!==null}var Nz=t=>({name:"transformOrigin",options:t,fn(e){var x,E,_;const{placement:n,rects:r,middlewareData:i}=e,o=((x=i.arrow)==null?void 0:x.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[u,d]=lA(n),h={start:"0%",center:"50%",end:"100%"}[d],f=(((E=i.arrow)==null?void 0:E.x)??0)+a/2,p=(((_=i.arrow)==null?void 0:_.y)??0)+l/2;let T="",g="";return u==="bottom"?(T=o?h:`${f}px`,g=`${-l}px`):u==="top"?(T=o?h:`${f}px`,g=`${r.floating.height+l}px`):u==="right"?(T=`${-l}px`,g=o?h:`${p}px`):u==="left"&&(T=`${r.floating.width+l}px`,g=o?h:`${p}px`),{data:{x:T,y:g}}}});function lA(t){const[e,n="center"]=t.split("-");return[e,n]}var uA=nA,cA=iA,dA=sA,hA=aA;function Dz(t,e){return y.useReducer((n,r)=>e[n][r]??n,t)}var om=t=>{const{present:e,children:n}=t,r=Mz(e),i=typeof n=="function"?n({present:r.isPresent}):y.Children.only(n),s=vt(r.ref,Oz(i));return typeof n=="function"||r.isPresent?y.cloneElement(i,{ref:s}):null};om.displayName="Presence";function Mz(t){const[e,n]=y.useState(),r=y.useRef({}),i=y.useRef(t),s=y.useRef("none"),o=t?"mounted":"unmounted",[a,l]=Dz(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return y.useEffect(()=>{const u=Ah(r.current);s.current=a==="mounted"?u:"none"},[a]),Li(()=>{const u=r.current,d=i.current;if(d!==t){const f=s.current,p=Ah(u);t?l("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(d&&f!==p?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),Li(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,h=p=>{const g=Ah(r.current).includes(p.animationName);if(p.target===e&&g&&(l("ANIMATION_END"),!i.current)){const x=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=x)})}},f=p=>{p.target===e&&(s.current=Ah(r.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:y.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function Ah(t){return(t==null?void 0:t.animationName)||"none"}function Oz(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Fg="rovingFocusGroup.onEntryFocus",Lz={bubbles:!1,cancelable:!0},am="RovingFocusGroup",[Tv,fA,Vz]=jP(am),[Fz,lm]=Xl(am,[Vz]),[jz,Uz]=Fz(am),pA=y.forwardRef((t,e)=>v.jsx(Tv.Provider,{scope:t.__scopeRovingFocusGroup,children:v.jsx(Tv.Slot,{scope:t.__scopeRovingFocusGroup,children:v.jsx(Bz,{...t,ref:e})})}));pA.displayName=am;var Bz=y.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...h}=t,f=y.useRef(null),p=vt(e,f),T=D0(s),[g=null,x]=Nd({prop:o,defaultProp:a,onChange:l}),[E,_]=y.useState(!1),b=Hn(u),I=fA(n),N=y.useRef(!1),[F,C]=y.useState(0);return y.useEffect(()=>{const w=f.current;if(w)return w.addEventListener(Fg,b),()=>w.removeEventListener(Fg,b)},[b]),v.jsx(jz,{scope:n,orientation:r,dir:T,loop:i,currentTabStopId:g,onItemFocus:y.useCallback(w=>x(w),[x]),onItemShiftTab:y.useCallback(()=>_(!0),[]),onFocusableItemAdd:y.useCallback(()=>C(w=>w+1),[]),onFocusableItemRemove:y.useCallback(()=>C(w=>w-1),[]),children:v.jsx(je.div,{tabIndex:E||F===0?-1:0,"data-orientation":r,...h,ref:p,style:{outline:"none",...t.style},onMouseDown:ue(t.onMouseDown,()=>{N.current=!0}),onFocus:ue(t.onFocus,w=>{const R=!N.current;if(w.target===w.currentTarget&&R&&!E){const A=new CustomEvent(Fg,Lz);if(w.currentTarget.dispatchEvent(A),!A.defaultPrevented){const D=I().filter(fe=>fe.focusable),M=D.find(fe=>fe.active),k=D.find(fe=>fe.id===g),xe=[M,k,...D].filter(Boolean).map(fe=>fe.ref.current);yA(xe,d)}}N.current=!1}),onBlur:ue(t.onBlur,()=>_(!1))})})}),mA="RovingFocusGroupItem",gA=y.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:s,...o}=t,a=Vs(),l=s||a,u=Uz(mA,n),d=u.currentTabStopId===l,h=fA(n),{onFocusableItemAdd:f,onFocusableItemRemove:p}=u;return y.useEffect(()=>{if(r)return f(),()=>p()},[r,f,p]),v.jsx(Tv.ItemSlot,{scope:n,id:l,focusable:r,active:i,children:v.jsx(je.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...o,ref:e,onMouseDown:ue(t.onMouseDown,T=>{r?u.onItemFocus(l):T.preventDefault()}),onFocus:ue(t.onFocus,()=>u.onItemFocus(l)),onKeyDown:ue(t.onKeyDown,T=>{if(T.key==="Tab"&&T.shiftKey){u.onItemShiftTab();return}if(T.target!==T.currentTarget)return;const g=Wz(T,u.orientation,u.dir);if(g!==void 0){if(T.metaKey||T.ctrlKey||T.altKey||T.shiftKey)return;T.preventDefault();let E=h().filter(_=>_.focusable).map(_=>_.ref.current);if(g==="last")E.reverse();else if(g==="prev"||g==="next"){g==="prev"&&E.reverse();const _=E.indexOf(T.currentTarget);E=u.loop?Kz(E,_+1):E.slice(_+1)}setTimeout(()=>yA(E))}})})})});gA.displayName=mA;var $z={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function zz(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function Wz(t,e,n){const r=zz(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return $z[r]}function yA(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function Kz(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var vA=pA,wA=gA,Hz=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Ea=new WeakMap,kh=new WeakMap,Nh={},jg=0,_A=function(t){return t&&(t.host||_A(t.parentNode))},Gz=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=_A(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},qz=function(t,e,n,r){var i=Gz(e,Array.isArray(t)?t:[t]);Nh[n]||(Nh[n]=new WeakMap);var s=Nh[n],o=[],a=new Set,l=new Set(i),u=function(h){!h||a.has(h)||(a.add(h),u(h.parentNode))};i.forEach(u);var d=function(h){!h||l.has(h)||Array.prototype.forEach.call(h.children,function(f){if(a.has(f))d(f);else try{var p=f.getAttribute(r),T=p!==null&&p!=="false",g=(Ea.get(f)||0)+1,x=(s.get(f)||0)+1;Ea.set(f,g),s.set(f,x),o.push(f),g===1&&T&&kh.set(f,!0),x===1&&f.setAttribute(n,"true"),T||f.setAttribute(r,"true")}catch(E){console.error("aria-hidden: cannot operate on ",f,E)}})};return d(e),a.clear(),jg++,function(){o.forEach(function(h){var f=Ea.get(h)-1,p=s.get(h)-1;Ea.set(h,f),s.set(h,p),f||(kh.has(h)||h.removeAttribute(r),kh.delete(h)),p||h.removeAttribute(n)}),jg--,jg||(Ea=new WeakMap,Ea=new WeakMap,kh=new WeakMap,Nh={})}},EA=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=Hz(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),qz(r,i,n,"aria-hidden")):function(){return null}},uc="right-scroll-bar-position",cc="width-before-scroll-bar",Qz="with-scroll-bars-hidden",Yz="--removed-body-scroll-bar-size";function Ug(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function Xz(t,e){var n=y.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var Jz=typeof window<"u"?y.useLayoutEffect:y.useEffect,pS=new WeakMap;function TA(t,e){var n=Xz(null,function(r){return t.forEach(function(i){return Ug(i,r)})});return Jz(function(){var r=pS.get(n);if(r){var i=new Set(r),s=new Set(t),o=n.current;i.forEach(function(a){s.has(a)||Ug(a,null)}),s.forEach(function(a){i.has(a)||Ug(a,o)})}pS.set(n,t)},[t]),n}function Zz(t){return t}function e9(t,e){e===void 0&&(e=Zz);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var o=e(s,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(s){for(r=!0;n.length;){var o=n;n=[],o.forEach(s)}n={push:function(a){return s(a)},filter:function(){return n}}},assignMedium:function(s){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(s),o=n}var l=function(){var d=o;o=[],d.forEach(s)},u=function(){return Promise.resolve().then(l)};u(),n={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),n}}}};return i}function xA(t){t===void 0&&(t={});var e=e9(null);return e.options=cn({async:!0,ssr:!1},t),e}var SA=function(t){var e=t.sideCar,n=ql(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return y.createElement(r,cn({},n))};SA.isSideCarExport=!0;function bA(t,e){return t.useMedium(e),SA}var CA=xA(),Bg=function(){},um=y.forwardRef(function(t,e){var n=y.useRef(null),r=y.useState({onScrollCapture:Bg,onWheelCapture:Bg,onTouchMoveCapture:Bg}),i=r[0],s=r[1],o=t.forwardProps,a=t.children,l=t.className,u=t.removeScrollBar,d=t.enabled,h=t.shards,f=t.sideCar,p=t.noIsolation,T=t.inert,g=t.allowPinchZoom,x=t.as,E=x===void 0?"div":x,_=t.gapMode,b=ql(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),I=f,N=TA([n,e]),F=cn(cn({},b),i);return y.createElement(y.Fragment,null,d&&y.createElement(I,{sideCar:CA,removeScrollBar:u,shards:h,noIsolation:p,inert:T,setCallbacks:s,allowPinchZoom:!!g,lockRef:n,gapMode:_}),o?y.cloneElement(y.Children.only(a),cn(cn({},F),{ref:N})):y.createElement(E,cn({},F,{className:l,ref:N}),a))});um.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};um.classNames={fullWidth:cc,zeroRight:uc};var t9=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function n9(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=t9();return e&&t.setAttribute("nonce",e),t}function r9(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function i9(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var s9=function(){var t=0,e=null;return{add:function(n){t==0&&(e=n9())&&(r9(e,n),i9(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},o9=function(){var t=s9();return function(e,n){y.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},z0=function(){var t=o9(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},a9={left:0,top:0,right:0,gap:0},$g=function(t){return parseInt(t||"",10)||0},l9=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[$g(n),$g(r),$g(i)]},u9=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return a9;var e=l9(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},c9=z0(),il="data-scroll-locked",d9=function(t,e,n,r){var i=t.left,s=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(Qz,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(il,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(uc,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(cc,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(uc," .").concat(uc,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(cc," .").concat(cc,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(il,`] {
    `).concat(Yz,": ").concat(a,`px;
  }
`)},mS=function(){var t=parseInt(document.body.getAttribute(il)||"0",10);return isFinite(t)?t:0},h9=function(){y.useEffect(function(){return document.body.setAttribute(il,(mS()+1).toString()),function(){var t=mS()-1;t<=0?document.body.removeAttribute(il):document.body.setAttribute(il,t.toString())}},[])},RA=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;h9();var s=y.useMemo(function(){return u9(i)},[i]);return y.createElement(c9,{styles:d9(s,!e,i,n?"":"!important")})},xv=!1;if(typeof window<"u")try{var Dh=Object.defineProperty({},"passive",{get:function(){return xv=!0,!0}});window.addEventListener("test",Dh,Dh),window.removeEventListener("test",Dh,Dh)}catch{xv=!1}var Ta=xv?{passive:!1}:!1,f9=function(t){return t.tagName==="TEXTAREA"},IA=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!f9(t)&&n[e]==="visible")},p9=function(t){return IA(t,"overflowY")},m9=function(t){return IA(t,"overflowX")},gS=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=PA(t,r);if(i){var s=AA(t,r),o=s[1],a=s[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},g9=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},y9=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},PA=function(t,e){return t==="v"?p9(e):m9(e)},AA=function(t,e){return t==="v"?g9(e):y9(e)},v9=function(t,e){return t==="h"&&e==="rtl"?-1:1},w9=function(t,e,n,r,i){var s=v9(t,window.getComputedStyle(e).direction),o=s*r,a=n.target,l=e.contains(a),u=!1,d=o>0,h=0,f=0;do{var p=AA(t,a),T=p[0],g=p[1],x=p[2],E=g-x-s*T;(T||E)&&PA(t,a)&&(h+=E,f+=T),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(d&&(Math.abs(h)<1||!i)||!d&&(Math.abs(f)<1||!i))&&(u=!0),u},Mh=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},yS=function(t){return[t.deltaX,t.deltaY]},vS=function(t){return t&&"current"in t?t.current:t},_9=function(t,e){return t[0]===e[0]&&t[1]===e[1]},E9=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},T9=0,xa=[];function x9(t){var e=y.useRef([]),n=y.useRef([0,0]),r=y.useRef(),i=y.useState(T9++)[0],s=y.useState(z0)[0],o=y.useRef(t);y.useEffect(function(){o.current=t},[t]),y.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var g=NI([t.lockRef.current],(t.shards||[]).map(vS),!0).filter(Boolean);return g.forEach(function(x){return x.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),g.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=y.useCallback(function(g,x){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var E=Mh(g),_=n.current,b="deltaX"in g?g.deltaX:_[0]-E[0],I="deltaY"in g?g.deltaY:_[1]-E[1],N,F=g.target,C=Math.abs(b)>Math.abs(I)?"h":"v";if("touches"in g&&C==="h"&&F.type==="range")return!1;var w=gS(C,F);if(!w)return!0;if(w?N=C:(N=C==="v"?"h":"v",w=gS(C,F)),!w)return!1;if(!r.current&&"changedTouches"in g&&(b||I)&&(r.current=N),!N)return!0;var R=r.current||N;return w9(R,x,g,R==="h"?b:I,!0)},[]),l=y.useCallback(function(g){var x=g;if(!(!xa.length||xa[xa.length-1]!==s)){var E="deltaY"in x?yS(x):Mh(x),_=e.current.filter(function(N){return N.name===x.type&&(N.target===x.target||x.target===N.shadowParent)&&_9(N.delta,E)})[0];if(_&&_.should){x.cancelable&&x.preventDefault();return}if(!_){var b=(o.current.shards||[]).map(vS).filter(Boolean).filter(function(N){return N.contains(x.target)}),I=b.length>0?a(x,b[0]):!o.current.noIsolation;I&&x.cancelable&&x.preventDefault()}}},[]),u=y.useCallback(function(g,x,E,_){var b={name:g,delta:x,target:E,should:_,shadowParent:S9(E)};e.current.push(b),setTimeout(function(){e.current=e.current.filter(function(I){return I!==b})},1)},[]),d=y.useCallback(function(g){n.current=Mh(g),r.current=void 0},[]),h=y.useCallback(function(g){u(g.type,yS(g),g.target,a(g,t.lockRef.current))},[]),f=y.useCallback(function(g){u(g.type,Mh(g),g.target,a(g,t.lockRef.current))},[]);y.useEffect(function(){return xa.push(s),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",l,Ta),document.addEventListener("touchmove",l,Ta),document.addEventListener("touchstart",d,Ta),function(){xa=xa.filter(function(g){return g!==s}),document.removeEventListener("wheel",l,Ta),document.removeEventListener("touchmove",l,Ta),document.removeEventListener("touchstart",d,Ta)}},[]);var p=t.removeScrollBar,T=t.inert;return y.createElement(y.Fragment,null,T?y.createElement(s,{styles:E9(i)}):null,p?y.createElement(RA,{gapMode:t.gapMode}):null)}function S9(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const b9=bA(CA,x9);var kA=y.forwardRef(function(t,e){return y.createElement(um,cn({},t,{ref:e,sideCar:b9}))});kA.classNames=um.classNames;var Sv=["Enter"," "],C9=["ArrowDown","PageUp","Home"],NA=["ArrowUp","PageDown","End"],R9=[...C9,...NA],I9={ltr:[...Sv,"ArrowRight"],rtl:[...Sv,"ArrowLeft"]},P9={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Md="Menu",[Wc,A9,k9]=jP(Md),[la,DA]=a$(Md,[k9,sm,lm]),cm=sm(),MA=lm(),[N9,eu]=la(Md),[D9,Od]=la(Md),OA=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:i,onOpenChange:s,modal:o=!0}=t,a=cm(e),[l,u]=y.useState(null),d=y.useRef(!1),h=Hn(s),f=D0(i);return y.useEffect(()=>{const p=()=>{d.current=!0,document.addEventListener("pointerdown",T,{capture:!0,once:!0}),document.addEventListener("pointermove",T,{capture:!0,once:!0})},T=()=>d.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",T,{capture:!0}),document.removeEventListener("pointermove",T,{capture:!0})}},[]),v.jsx(uA,{...a,children:v.jsx(N9,{scope:e,open:n,onOpenChange:h,content:l,onContentChange:u,children:v.jsx(D9,{scope:e,onClose:y.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:d,dir:f,modal:o,children:r})})})};OA.displayName=Md;var M9="MenuAnchor",W0=y.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=cm(n);return v.jsx(cA,{...i,...r,ref:e})});W0.displayName=M9;var O9="MenuPortal",[XZ,LA]=la(O9,{forceMount:void 0}),ur="MenuContent",[L9,K0]=la(ur),VA=y.forwardRef((t,e)=>{const n=LA(ur,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,s=eu(ur,t.__scopeMenu),o=Od(ur,t.__scopeMenu);return v.jsx(Wc.Provider,{scope:t.__scopeMenu,children:v.jsx(om,{present:r||s.open,children:v.jsx(Wc.Slot,{scope:t.__scopeMenu,children:o.modal?v.jsx(V9,{...i,ref:e}):v.jsx(F9,{...i,ref:e})})})})}),V9=y.forwardRef((t,e)=>{const n=eu(ur,t.__scopeMenu),r=y.useRef(null),i=vt(e,r);return y.useEffect(()=>{const s=r.current;if(s)return EA(s)},[]),v.jsx(H0,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:ue(t.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),F9=y.forwardRef((t,e)=>{const n=eu(ur,t.__scopeMenu);return v.jsx(H0,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),H0=y.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:f,onDismiss:p,disableOutsideScroll:T,...g}=t,x=eu(ur,n),E=Od(ur,n),_=cm(n),b=MA(n),I=A9(n),[N,F]=y.useState(null),C=y.useRef(null),w=vt(e,C,x.onContentChange),R=y.useRef(0),A=y.useRef(""),D=y.useRef(0),M=y.useRef(null),k=y.useRef("right"),J=y.useRef(0),xe=T?kA:y.Fragment,fe=T?{as:Yo,allowPinchZoom:!0}:void 0,le=$=>{var ze,mn;const Y=A.current+$,ae=I().filter(Yt=>!Yt.disabled),ge=document.activeElement,Se=(ze=ae.find(Yt=>Yt.ref.current===ge))==null?void 0:ze.textValue,ht=ae.map(Yt=>Yt.textValue),bt=Y9(ht,Y,Se),$e=(mn=ae.find(Yt=>Yt.textValue===bt))==null?void 0:mn.ref.current;(function Yt(gn){A.current=gn,window.clearTimeout(R.current),gn!==""&&(R.current=window.setTimeout(()=>Yt(""),1e3))})(Y),$e&&setTimeout(()=>$e.focus())};y.useEffect(()=>()=>window.clearTimeout(R.current),[]),y$();const z=y.useCallback($=>{var ae,ge;return k.current===((ae=M.current)==null?void 0:ae.side)&&J9($,(ge=M.current)==null?void 0:ge.area)},[]);return v.jsx(L9,{scope:n,searchRef:A,onItemEnter:y.useCallback($=>{z($)&&$.preventDefault()},[z]),onItemLeave:y.useCallback($=>{var Y;z($)||((Y=C.current)==null||Y.focus(),F(null))},[z]),onTriggerLeave:y.useCallback($=>{z($)&&$.preventDefault()},[z]),pointerGraceTimerRef:D,onPointerGraceIntentChange:y.useCallback($=>{M.current=$},[]),children:v.jsx(xe,{...fe,children:v.jsx(M0,{asChild:!0,trapped:i,onMountAutoFocus:ue(s,$=>{var Y;$.preventDefault(),(Y=C.current)==null||Y.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:v.jsx($P,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:f,onDismiss:p,children:v.jsx(vA,{asChild:!0,...b,dir:E.dir,orientation:"vertical",loop:r,currentTabStopId:N,onCurrentTabStopIdChange:F,onEntryFocus:ue(l,$=>{E.isUsingKeyboardRef.current||$.preventDefault()}),preventScrollOnEntryFocus:!0,children:v.jsx(dA,{role:"menu","aria-orientation":"vertical","data-state":ZA(x.open),"data-radix-menu-content":"",dir:E.dir,..._,...g,ref:w,style:{outline:"none",...g.style},onKeyDown:ue(g.onKeyDown,$=>{const ae=$.target.closest("[data-radix-menu-content]")===$.currentTarget,ge=$.ctrlKey||$.altKey||$.metaKey,Se=$.key.length===1;ae&&($.key==="Tab"&&$.preventDefault(),!ge&&Se&&le($.key));const ht=C.current;if($.target!==ht||!R9.includes($.key))return;$.preventDefault();const $e=I().filter(ze=>!ze.disabled).map(ze=>ze.ref.current);NA.includes($.key)&&$e.reverse(),q9($e)}),onBlur:ue(t.onBlur,$=>{$.currentTarget.contains($.target)||(window.clearTimeout(R.current),A.current="")}),onPointerMove:ue(t.onPointerMove,Kc($=>{const Y=$.target,ae=J.current!==$.clientX;if($.currentTarget.contains(Y)&&ae){const ge=$.clientX>J.current?"right":"left";k.current=ge,J.current=$.clientX}}))})})})})})})});VA.displayName=ur;var j9="MenuGroup",G0=y.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return v.jsx(je.div,{role:"group",...r,ref:e})});G0.displayName=j9;var U9="MenuLabel",FA=y.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return v.jsx(je.div,{...r,ref:e})});FA.displayName=U9;var up="MenuItem",wS="menu.itemSelect",dm=y.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...i}=t,s=y.useRef(null),o=Od(up,t.__scopeMenu),a=K0(up,t.__scopeMenu),l=vt(e,s),u=y.useRef(!1),d=()=>{const h=s.current;if(!n&&h){const f=new CustomEvent(wS,{bubbles:!0,cancelable:!0});h.addEventListener(wS,p=>r==null?void 0:r(p),{once:!0}),N0(h,f),f.defaultPrevented?u.current=!1:o.onClose()}};return v.jsx(jA,{...i,ref:l,disabled:n,onClick:ue(t.onClick,d),onPointerDown:h=>{var f;(f=t.onPointerDown)==null||f.call(t,h),u.current=!0},onPointerUp:ue(t.onPointerUp,h=>{var f;u.current||(f=h.currentTarget)==null||f.click()}),onKeyDown:ue(t.onKeyDown,h=>{const f=a.searchRef.current!=="";n||f&&h.key===" "||Sv.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});dm.displayName=up;var jA=y.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...s}=t,o=K0(up,n),a=MA(n),l=y.useRef(null),u=vt(e,l),[d,h]=y.useState(!1),[f,p]=y.useState("");return y.useEffect(()=>{const T=l.current;T&&p((T.textContent??"").trim())},[s.children]),v.jsx(Wc.ItemSlot,{scope:n,disabled:r,textValue:i??f,children:v.jsx(wA,{asChild:!0,...a,focusable:!r,children:v.jsx(je.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...s,ref:u,onPointerMove:ue(t.onPointerMove,Kc(T=>{r?o.onItemLeave(T):(o.onItemEnter(T),T.defaultPrevented||T.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ue(t.onPointerLeave,Kc(T=>o.onItemLeave(T))),onFocus:ue(t.onFocus,()=>h(!0)),onBlur:ue(t.onBlur,()=>h(!1))})})})}),B9="MenuCheckboxItem",UA=y.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...i}=t;return v.jsx(KA,{scope:t.__scopeMenu,checked:n,children:v.jsx(dm,{role:"menuitemcheckbox","aria-checked":cp(n)?"mixed":n,...i,ref:e,"data-state":Q0(n),onSelect:ue(i.onSelect,()=>r==null?void 0:r(cp(n)?!0:!n),{checkForDefaultPrevented:!1})})})});UA.displayName=B9;var BA="MenuRadioGroup",[$9,z9]=la(BA,{value:void 0,onValueChange:()=>{}}),$A=y.forwardRef((t,e)=>{const{value:n,onValueChange:r,...i}=t,s=Hn(r);return v.jsx($9,{scope:t.__scopeMenu,value:n,onValueChange:s,children:v.jsx(G0,{...i,ref:e})})});$A.displayName=BA;var zA="MenuRadioItem",WA=y.forwardRef((t,e)=>{const{value:n,...r}=t,i=z9(zA,t.__scopeMenu),s=n===i.value;return v.jsx(KA,{scope:t.__scopeMenu,checked:s,children:v.jsx(dm,{role:"menuitemradio","aria-checked":s,...r,ref:e,"data-state":Q0(s),onSelect:ue(r.onSelect,()=>{var o;return(o=i.onValueChange)==null?void 0:o.call(i,n)},{checkForDefaultPrevented:!1})})})});WA.displayName=zA;var q0="MenuItemIndicator",[KA,W9]=la(q0,{checked:!1}),HA=y.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...i}=t,s=W9(q0,n);return v.jsx(om,{present:r||cp(s.checked)||s.checked===!0,children:v.jsx(je.span,{...i,ref:e,"data-state":Q0(s.checked)})})});HA.displayName=q0;var K9="MenuSeparator",GA=y.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return v.jsx(je.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});GA.displayName=K9;var H9="MenuArrow",qA=y.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=cm(n);return v.jsx(hA,{...i,...r,ref:e})});qA.displayName=H9;var G9="MenuSub",[JZ,QA]=la(G9),Hu="MenuSubTrigger",YA=y.forwardRef((t,e)=>{const n=eu(Hu,t.__scopeMenu),r=Od(Hu,t.__scopeMenu),i=QA(Hu,t.__scopeMenu),s=K0(Hu,t.__scopeMenu),o=y.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=s,u={__scopeMenu:t.__scopeMenu},d=y.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return y.useEffect(()=>d,[d]),y.useEffect(()=>{const h=a.current;return()=>{window.clearTimeout(h),l(null)}},[a,l]),v.jsx(W0,{asChild:!0,...u,children:v.jsx(jA,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":ZA(n.open),...t,ref:tm(e,i.onTriggerChange),onClick:h=>{var f;(f=t.onClick)==null||f.call(t,h),!(t.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:ue(t.onPointerMove,Kc(h=>{s.onItemEnter(h),!h.defaultPrevented&&!t.disabled&&!n.open&&!o.current&&(s.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:ue(t.onPointerLeave,Kc(h=>{var p,T;d();const f=(p=n.content)==null?void 0:p.getBoundingClientRect();if(f){const g=(T=n.content)==null?void 0:T.dataset.side,x=g==="right",E=x?-5:5,_=f[x?"left":"right"],b=f[x?"right":"left"];s.onPointerGraceIntentChange({area:[{x:h.clientX+E,y:h.clientY},{x:_,y:f.top},{x:b,y:f.top},{x:b,y:f.bottom},{x:_,y:f.bottom}],side:g}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(h),h.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:ue(t.onKeyDown,h=>{var p;const f=s.searchRef.current!=="";t.disabled||f&&h.key===" "||I9[r.dir].includes(h.key)&&(n.onOpenChange(!0),(p=n.content)==null||p.focus(),h.preventDefault())})})})});YA.displayName=Hu;var XA="MenuSubContent",JA=y.forwardRef((t,e)=>{const n=LA(ur,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,s=eu(ur,t.__scopeMenu),o=Od(ur,t.__scopeMenu),a=QA(XA,t.__scopeMenu),l=y.useRef(null),u=vt(e,l);return v.jsx(Wc.Provider,{scope:t.__scopeMenu,children:v.jsx(om,{present:r||s.open,children:v.jsx(Wc.Slot,{scope:t.__scopeMenu,children:v.jsx(H0,{id:a.contentId,"aria-labelledby":a.triggerId,...i,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var h;o.isUsingKeyboardRef.current&&((h=l.current)==null||h.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:ue(t.onFocusOutside,d=>{d.target!==a.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:ue(t.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:ue(t.onKeyDown,d=>{var p;const h=d.currentTarget.contains(d.target),f=P9[o.dir].includes(d.key);h&&f&&(s.onOpenChange(!1),(p=a.trigger)==null||p.focus(),d.preventDefault())})})})})})});JA.displayName=XA;function ZA(t){return t?"open":"closed"}function cp(t){return t==="indeterminate"}function Q0(t){return cp(t)?"indeterminate":t?"checked":"unchecked"}function q9(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function Q9(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function Y9(t,e,n){const i=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let o=Q9(t,Math.max(s,0));i.length===1&&(o=o.filter(u=>u!==n));const l=o.find(u=>u.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function X9(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s].x,l=e[s].y,u=e[o].x,d=e[o].y;l>r!=d>r&&n<(u-a)*(r-l)/(d-l)+a&&(i=!i)}return i}function J9(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return X9(n,e)}function Kc(t){return e=>e.pointerType==="mouse"?t(e):void 0}var Z9=OA,e5=W0,t5=VA,n5=G0,r5=FA,i5=dm,s5=UA,o5=$A,a5=WA,l5=HA,u5=GA,c5=qA,d5=YA,h5=JA,Y0="DropdownMenu",[f5,ZZ]=J3(Y0,[DA]),Mn=DA(),[p5,ek]=f5(Y0),tk=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:i,defaultOpen:s,onOpenChange:o,modal:a=!0}=t,l=Mn(e),u=y.useRef(null),[d=!1,h]=Nd({prop:i,defaultProp:s,onChange:o});return v.jsx(p5,{scope:e,triggerId:Vs(),triggerRef:u,contentId:Vs(),open:d,onOpenChange:h,onOpenToggle:y.useCallback(()=>h(f=>!f),[h]),modal:a,children:v.jsx(Z9,{...l,open:d,onOpenChange:h,dir:r,modal:a,children:n})})};tk.displayName=Y0;var nk="DropdownMenuTrigger",rk=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=t,s=ek(nk,n),o=Mn(n);return v.jsx(e5,{asChild:!0,...o,children:v.jsx(je.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:tm(e,s.triggerRef),onPointerDown:ue(t.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(s.onOpenToggle(),s.open||a.preventDefault())}),onKeyDown:ue(t.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&s.onOpenToggle(),a.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});rk.displayName=nk;var ik="DropdownMenuContent",sk=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=ek(ik,n),s=Mn(n),o=y.useRef(!1);return v.jsx(t5,{id:i.contentId,"aria-labelledby":i.triggerId,...s,...r,ref:e,onCloseAutoFocus:ue(t.onCloseAutoFocus,a=>{var l;o.current||(l=i.triggerRef.current)==null||l.focus(),o.current=!1,a.preventDefault()}),onInteractOutside:ue(t.onInteractOutside,a=>{const l=a.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0,d=l.button===2||u;(!i.modal||d)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});sk.displayName=ik;var m5="DropdownMenuGroup",g5=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Mn(n);return v.jsx(n5,{...i,...r,ref:e})});g5.displayName=m5;var y5="DropdownMenuLabel",v5=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Mn(n);return v.jsx(r5,{...i,...r,ref:e})});v5.displayName=y5;var w5="DropdownMenuItem",ok=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Mn(n);return v.jsx(i5,{...i,...r,ref:e})});ok.displayName=w5;var _5="DropdownMenuCheckboxItem",E5=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Mn(n);return v.jsx(s5,{...i,...r,ref:e})});E5.displayName=_5;var T5="DropdownMenuRadioGroup",x5=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Mn(n);return v.jsx(o5,{...i,...r,ref:e})});x5.displayName=T5;var S5="DropdownMenuRadioItem",b5=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Mn(n);return v.jsx(a5,{...i,...r,ref:e})});b5.displayName=S5;var C5="DropdownMenuItemIndicator",R5=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Mn(n);return v.jsx(l5,{...i,...r,ref:e})});R5.displayName=C5;var I5="DropdownMenuSeparator",P5=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Mn(n);return v.jsx(u5,{...i,...r,ref:e})});P5.displayName=I5;var A5="DropdownMenuArrow",k5=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Mn(n);return v.jsx(c5,{...i,...r,ref:e})});k5.displayName=A5;var N5="DropdownMenuSubTrigger",D5=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Mn(n);return v.jsx(d5,{...i,...r,ref:e})});D5.displayName=N5;var M5="DropdownMenuSubContent",O5=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Mn(n);return v.jsx(h5,{...i,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});O5.displayName=M5;const L5=({children:t,text:e})=>{const n=Al(r=>r.logout);return v.jsxs("header",{className:"w-full flex flex-col items-center ",children:[v.jsxs("div",{className:"w-full px-8 h-14 flex items-center justify-between",children:[v.jsx("p",{children:e}),v.jsxs(tk,{children:[v.jsx(rk,{asChild:!0,children:v.jsx("div",{className:"hover:bg-slate-200 rounded-lg p-2 cursor-pointer",children:v.jsx(Y3,{})})}),v.jsx(sk,{align:"end",className:"w-[8rem] border border-neutral-300 p-1 rounded-lg",children:v.jsx(ok,{className:"outline-none hover:bg-gray-200 px-2 py-1 rounded-md cursor-pointer",onSelect:()=>n(),children:"Logout"})})]})]}),t]})},V5=({Component:t})=>v.jsx("div",{className:"flex-1 flex justify-center =py-3",children:v.jsx(t,{})}),F5=({headerText:t})=>v.jsx("header",{className:"py-4 text-3xl font-semibold w-full",children:t}),j5=({message:t,setMessage:e,handleSubmit:n})=>{const r=i=>{e(i.target.value)};return v.jsxs("div",{className:"w-full h-[5rem] border-t border-t-customBorderColor flex items-center justify-between px-4 space-x-2",children:[v.jsx("input",{type:"text",value:t,placeholder:"Type message here",onChange:r,className:"bg-transparent outline-none md:flex-1"}),v.jsx("button",{onClick:()=>{n(t),e("")},children:v.jsx(G3,{})})]})},U5=({message:t})=>{const{text:e,sender:n}=t;return v.jsx("div",{className:`py-2 px-5 bg-customBorderColor w-fit rounded-tl-3xl rounded-tr-3xl  ${n==="user"?"ml-auto rounded-bl-3xl":"mr-auto rounded-br-3xl"}`,children:e})},ak=({items:t,renderItem:e,listStyle:n})=>v.jsx("div",{className:n,children:t==null?void 0:t.map((r,i)=>v.jsx(y.Fragment,{children:e(r)},i))}),lk={siteName:"COB-CHATBOT",botName:"Viviane"};function _S(){return Date.now().toString()}const zg="https://chatbot-api-0zup.onrender.com",X0=async(t,e)=>{const{method:n="GET",headers:r={},body:i}=e,{accessToken:s,setAccessToken:o,logout:a}=Al.getState(),l={method:n,credentials:"include",headers:{"Content-Type":"application/json",authorization:`Bearer ${s}`,...r},...i&&{body:JSON.stringify(i)}};try{let u=await fetch(`${zg}${t}`,l);if(u.status===401){console.log("Fetching a new access token");const h=await fetch(`${zg}/api/auth/refresh-token`,{method:"POST",credentials:"include"});h.status===404&&a();const{accessToken:f}=await h.json();o(f),l.headers={...l.headers,authorization:`Bearer ${f}`},u=await fetch(`${zg}${t}`,l)}return await u.json()}catch(u){throw console.error("Request failed:",u),u}},uk=(t,e)=>X0(t,{method:"GET",headers:e}),hm=(t,e,n)=>X0(t,{method:"POST",headers:e,body:n}),B5=(t,e,n)=>X0(t,{method:"PUT",headers:e,body:n}),$5={authorization:"6defd5a8-dfb8-4035-8ef1-69a13b57a66f"},z5=async t=>{const e={userQuery:t},{success:n,response:r}=await hm("/api/chatbot/query-admin",$5,e);if(!n)throw new Error(`Sending query to chatbot was unsuccessful: ${r}`);return r},W5=()=>{const[t,e]=y.useState([]),[n,r]=y.useState(""),i=y.useRef(null),s=()=>{var u;(u=i.current)==null||u.scrollIntoView({behavior:"smooth"})};y.useEffect(()=>{s()},[t]);const o=(u,d="bot")=>{const h={uuid:_S(),text:u,sender:d};e(f=>[...f,h])},a=(u,d)=>{const h={uuid:_S(),text:u,sender:d};e(f=>[...f,h])};return{messageHistory:t,handleSubmitMessage:async u=>{try{if(!u)throw new Error("Message is empty");a(u,"user");const d=await z5(u);a(d.answer||"Bot has no answer","bot")}catch(d){if(d instanceof Error){if(d.message==="Message is empty"){console.error(d.message);return}console.error(d.message),o("An error occured failed to send chat.")}console.error("Unknown error occured: ",d)}},message:n,setMessage:r,endOfMessagesRef:i}};function K5(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}function Hc(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const bv=t=>Array.isArray(t);function ck(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function Gc(t){return typeof t=="string"||Array.isArray(t)}function ES(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function J0(t,e,n,r){if(typeof e=="function"){const[i,s]=ES(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=ES(r);e=e(n!==void 0?n:t.custom,i,s)}return e}function fm(t,e,n){const r=t.getProps();return J0(r,e,n!==void 0?n:r.custom,t)}const Z0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],e_=["initial",...Z0],Ld=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],no=new Set(Ld),Si=t=>t*1e3,bi=t=>t/1e3,H5={type:"spring",stiffness:500,damping:25,restSpeed:10},G5=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),q5={type:"keyframes",duration:.8},Q5={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Y5=(t,{keyframes:e})=>e.length>2?q5:no.has(t)?t.startsWith("scale")?G5(e[1]):H5:Q5;function X5({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:u,...d}){return!!Object.keys(d).length}function t_(t,e){return t[e]||t.default||t}const J5={skipAnimations:!1,useManualTiming:!1},Z5=t=>t!==null;function pm(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(Z5),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return!s||r===void 0?i[s]:r}const hn=t=>t;function e6(t){let e=new Set,n=new Set,r=!1,i=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(u){s.has(u)&&(l.schedule(u),t()),u(o)}const l={schedule:(u,d=!1,h=!1)=>{const p=h&&r?e:n;return d&&s.add(u),p.has(u)||p.add(u),u},cancel:u=>{n.delete(u),s.delete(u)},process:u=>{if(o=u,r){i=!0;return}r=!0,[e,n]=[n,e],n.clear(),e.forEach(a),r=!1,i&&(i=!1,l.process(u))}};return l}const Oh=["read","resolveKeyframes","update","preRender","render","postRender"],t6=40;function dk(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=Oh.reduce((E,_)=>(E[_]=e6(s),E),{}),{read:a,resolveKeyframes:l,update:u,preRender:d,render:h,postRender:f}=o,p=()=>{const E=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(E-i.timestamp,t6),1),i.timestamp=E,i.isProcessing=!0,a.process(i),l.process(i),u.process(i),d.process(i),h.process(i),f.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(p))},T=()=>{n=!0,r=!0,i.isProcessing||t(p)};return{schedule:Oh.reduce((E,_)=>{const b=o[_];return E[_]=(I,N=!1,F=!1)=>(n||T(),b.schedule(I,N,F)),E},{}),cancel:E=>{for(let _=0;_<Oh.length;_++)o[Oh[_]].cancel(E)},state:i,steps:o}}const{schedule:Ve,cancel:ji,state:zt,steps:Wg}=dk(typeof requestAnimationFrame<"u"?requestAnimationFrame:hn,!0),hk=t=>/^0[^.\s]+$/u.test(t);function n6(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||hk(t):!0}let Cv=hn;const fk=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),pk=t=>e=>typeof e=="string"&&e.startsWith(t),mk=pk("--"),r6=pk("var(--"),n_=t=>r6(t)?i6.test(t.split("/*")[0].trim()):!1,i6=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,s6=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function o6(t){const e=s6.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function gk(t,e,n=1){const[r,i]=o6(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return fk(o)?parseFloat(o):o}return n_(i)?gk(i,e,n+1):i}const Gs=(t,e,n)=>n>e?e:n<t?t:n,tu={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},dc={...tu,transform:t=>Gs(0,1,t)},Lh={...tu,default:1},hc=t=>Math.round(t*1e5)/1e5,r_=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu,a6=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu,l6=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu;function Vd(t){return typeof t=="string"}function u6(t){return t==null}const Fd=t=>({test:e=>Vd(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ns=Fd("deg"),Xr=Fd("%"),he=Fd("px"),c6=Fd("vh"),d6=Fd("vw"),TS={...Xr,parse:t=>Xr.parse(t)/100,transform:t=>Xr.transform(t*100)},h6=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),xS=t=>t===tu||t===he,SS=(t,e)=>parseFloat(t.split(", ")[e]),bS=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return SS(i[1],e);{const s=r.match(/^matrix\((.+)\)$/u);return s?SS(s[1],t):0}},f6=new Set(["x","y","z"]),p6=Ld.filter(t=>!f6.has(t));function m6(t){const e=[];return p6.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Dl={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:bS(4,13),y:bS(5,14)};Dl.translateX=Dl.x;Dl.translateY=Dl.y;const yk=t=>e=>e.test(t),g6={test:t=>t==="auto",parse:t=>t},vk=[tu,he,Xr,ns,d6,c6,g6],CS=t=>vk.find(yk(t)),Uo=new Set;let Rv=!1,Iv=!1;function wk(){if(Iv){const t=Array.from(Uo).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=m6(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var a;(a=r.getValue(s))===null||a===void 0||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Iv=!1,Rv=!1,Uo.forEach(t=>t.complete()),Uo.clear()}function _k(){Uo.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Iv=!0)})}function y6(){_k(),wk()}class i_{constructor(e,n,r,i,s,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Uo.add(this),Rv||(Rv=!0,Ve.read(_k),Ve.resolveKeyframes(wk))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;for(let s=0;s<e.length;s++)if(e[s]===null)if(s===0){const o=i==null?void 0:i.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const l=r.readValue(n,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),i&&o===void 0&&i.set(e[0])}else e[s]=e[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Uo.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Uo.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const s_=(t,e)=>n=>!!(Vd(n)&&l6.test(n)&&n.startsWith(t)||e&&!u6(n)&&Object.prototype.hasOwnProperty.call(n,e)),Ek=(t,e,n)=>r=>{if(!Vd(r))return r;const[i,s,o,a]=r.match(r_);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},v6=t=>Gs(0,255,t),Kg={...tu,transform:t=>Math.round(v6(t))},Io={test:s_("rgb","red"),parse:Ek("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Kg.transform(t)+", "+Kg.transform(e)+", "+Kg.transform(n)+", "+hc(dc.transform(r))+")"};function w6(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Pv={test:s_("#"),parse:w6,transform:Io.transform},za={test:s_("hsl","hue"),parse:Ek("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Xr.transform(hc(e))+", "+Xr.transform(hc(n))+", "+hc(dc.transform(r))+")"},on={test:t=>Io.test(t)||Pv.test(t)||za.test(t),parse:t=>Io.test(t)?Io.parse(t):za.test(t)?za.parse(t):Pv.parse(t),transform:t=>Vd(t)?t:t.hasOwnProperty("red")?Io.transform(t):za.transform(t)};function _6(t){var e,n;return isNaN(t)&&Vd(t)&&(((e=t.match(r_))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(a6))===null||n===void 0?void 0:n.length)||0)>0}const Tk="number",xk="color",E6="var",T6="var(",RS="${}",x6=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function qc(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=e.replace(x6,l=>(on.test(l)?(r.color.push(s),i.push(xk),n.push(on.parse(l))):l.startsWith(T6)?(r.var.push(s),i.push(E6),n.push(l)):(r.number.push(s),i.push(Tk),n.push(parseFloat(l))),++s,RS)).split(RS);return{values:n,split:a,indexes:r,types:i}}function Sk(t){return qc(t).values}function bk(t){const{split:e,types:n}=qc(t),r=e.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=e[o],i[o]!==void 0){const a=n[o];a===Tk?s+=hc(i[o]):a===xk?s+=on.transform(i[o]):s+=i[o]}return s}}const S6=t=>typeof t=="number"?0:t;function b6(t){const e=Sk(t);return bk(t)(e.map(S6))}const qs={test:_6,parse:Sk,createTransformer:bk,getAnimatableNone:b6},C6=new Set(["brightness","contrast","saturate","opacity"]);function R6(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(r_)||[];if(!r)return t;const i=n.replace(r,"");let s=C6.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const I6=/\b([a-z-]*)\(.*?\)/gu,Av={...qs,getAnimatableNone:t=>{const e=t.match(I6);return e?e.map(R6).join(" "):t}},IS={...tu,transform:Math.round},o_={borderWidth:he,borderTopWidth:he,borderRightWidth:he,borderBottomWidth:he,borderLeftWidth:he,borderRadius:he,radius:he,borderTopLeftRadius:he,borderTopRightRadius:he,borderBottomRightRadius:he,borderBottomLeftRadius:he,width:he,maxWidth:he,height:he,maxHeight:he,size:he,top:he,right:he,bottom:he,left:he,padding:he,paddingTop:he,paddingRight:he,paddingBottom:he,paddingLeft:he,margin:he,marginTop:he,marginRight:he,marginBottom:he,marginLeft:he,rotate:ns,rotateX:ns,rotateY:ns,rotateZ:ns,scale:Lh,scaleX:Lh,scaleY:Lh,scaleZ:Lh,skew:ns,skewX:ns,skewY:ns,distance:he,translateX:he,translateY:he,translateZ:he,x:he,y:he,z:he,perspective:he,transformPerspective:he,opacity:dc,originX:TS,originY:TS,originZ:he,zIndex:IS,backgroundPositionX:he,backgroundPositionY:he,fillOpacity:dc,strokeOpacity:dc,numOctaves:IS},P6={...o_,color:on,backgroundColor:on,outlineColor:on,fill:on,stroke:on,borderColor:on,borderTopColor:on,borderRightColor:on,borderBottomColor:on,borderLeftColor:on,filter:Av,WebkitFilter:Av},a_=t=>P6[t];function Ck(t,e){let n=a_(t);return n!==Av&&(n=qs),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const A6=new Set(["auto","none","0"]);function k6(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!A6.has(s)&&qc(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=Ck(n,i)}class Rk extends i_{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let u=e[l];if(typeof u=="string"&&(u=u.trim(),n_(u))){const d=gk(u,n.current);d!==void 0&&(e[l]=d),l===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!h6.has(r)||e.length!==2)return;const[i,s]=e,o=CS(i),a=CS(s);if(o!==a)if(xS(o)&&xS(a))for(let l=0;l<e.length;l++){const u=e[l];typeof u=="string"&&(e[l]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)n6(e[i])&&r.push(i);r.length&&k6(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Dl[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const s=n.getValue(r);s&&s.jump(this.measuredOrigin,!1);const o=i.length-1,a=i[o];i[o]=Dl[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,u])=>{n.getValue(l).set(u)}),this.resolveNoneKeyframes()}}function Ik(t){let e;return()=>(e===void 0&&(e=t()),e)}let pf;function N6(){pf=void 0}const Jr={now:()=>(pf===void 0&&Jr.set(zt.isProcessing||J5.useManualTiming?zt.timestamp:performance.now()),pf),set:t=>{pf=t,queueMicrotask(N6)}},PS=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(qs.test(t)||t==="0")&&!t.startsWith("url("));function D6(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function M6(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=PS(i,e),a=PS(s,e);return!o||!a?!1:D6(t)||n==="spring"&&r}const O6=40;class Pk{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Jr.now(),this.options={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>O6?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&y6(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=Jr.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:s,delay:o,onComplete:a,onUpdate:l,isGenerator:u}=this.options;if(!u&&!M6(e,r,i,s))if(o)this.options.duration=0;else{l==null||l(pm(e,this.options,n)),a==null||a(),this.resolveFinishedPromise();return}const d=this.initPlayback(e,n);d!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...d},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}function Ak(t,e){return e?t*(1e3/e):0}const L6=5;function kk(t,e,n){const r=Math.max(e-L6,0);return Ak(n-t(r),e-r)}const Hg=.001,V6=.01,F6=10,j6=.05,U6=1;function B6({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let i,s,o=1-e;o=Gs(j6,U6,o),t=Gs(V6,F6,bi(t)),o<1?(i=u=>{const d=u*o,h=d*t,f=d-n,p=kv(u,o),T=Math.exp(-h);return Hg-f/p*T},s=u=>{const h=u*o*t,f=h*n+n,p=Math.pow(o,2)*Math.pow(u,2)*t,T=Math.exp(-h),g=kv(Math.pow(u,2),o);return(-i(u)+Hg>0?-1:1)*((f-p)*T)/g}):(i=u=>{const d=Math.exp(-u*t),h=(u-n)*t+1;return-Hg+d*h},s=u=>{const d=Math.exp(-u*t),h=(n-u)*(t*t);return d*h});const a=5/t,l=z6(i,s,a);if(t=Si(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:t}}}const $6=12;function z6(t,e,n){let r=n;for(let i=1;i<$6;i++)r=r-t(r)/e(r);return r}function kv(t,e){return t*Math.sqrt(1-e*e)}const W6=["duration","bounce"],K6=["stiffness","damping","mass"];function AS(t,e){return e.some(n=>t[n]!==void 0)}function H6(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!AS(t,K6)&&AS(t,W6)){const n=B6(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function Nk({keyframes:t,restDelta:e,restSpeed:n,...r}){const i=t[0],s=t[t.length-1],o={done:!1,value:i},{stiffness:a,damping:l,mass:u,duration:d,velocity:h,isResolvedFromDuration:f}=H6({...r,velocity:-bi(r.velocity||0)}),p=h||0,T=l/(2*Math.sqrt(a*u)),g=s-i,x=bi(Math.sqrt(a/u)),E=Math.abs(g)<5;n||(n=E?.01:2),e||(e=E?.005:.5);let _;if(T<1){const b=kv(x,T);_=I=>{const N=Math.exp(-T*x*I);return s-N*((p+T*x*g)/b*Math.sin(b*I)+g*Math.cos(b*I))}}else if(T===1)_=b=>s-Math.exp(-x*b)*(g+(p+x*g)*b);else{const b=x*Math.sqrt(T*T-1);_=I=>{const N=Math.exp(-T*x*I),F=Math.min(b*I,300);return s-N*((p+T*x*g)*Math.sinh(F)+b*g*Math.cosh(F))/b}}return{calculatedDuration:f&&d||null,next:b=>{const I=_(b);if(f)o.done=b>=d;else{let N=0;T<1&&(N=b===0?Si(p):kk(_,b,I));const F=Math.abs(N)<=n,C=Math.abs(s-I)<=e;o.done=F&&C}return o.value=o.done?s:I,o}}}function kS({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:d}){const h=t[0],f={done:!1,value:h},p=w=>a!==void 0&&w<a||l!==void 0&&w>l,T=w=>a===void 0?l:l===void 0||Math.abs(a-w)<Math.abs(l-w)?a:l;let g=n*e;const x=h+g,E=o===void 0?x:o(x);E!==x&&(g=E-h);const _=w=>-g*Math.exp(-w/r),b=w=>E+_(w),I=w=>{const R=_(w),A=b(w);f.done=Math.abs(R)<=u,f.value=f.done?E:A};let N,F;const C=w=>{p(f.value)&&(N=w,F=Nk({keyframes:[f.value,T(f.value)],velocity:kk(b,w,f.value),damping:i,stiffness:s,restDelta:u,restSpeed:d}))};return C(0),{calculatedDuration:null,next:w=>{let R=!1;return!F&&N===void 0&&(R=!0,I(w),C(w)),N!==void 0&&w>=N?F.next(w-N):(!R&&I(w),f)}}}const Dk=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,G6=1e-7,q6=12;function Q6(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=Dk(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>G6&&++a<q6);return o}function jd(t,e,n,r){if(t===e&&n===r)return hn;const i=s=>Q6(s,0,1,t,n);return s=>s===0||s===1?s:Dk(i(s),e,r)}const Y6=jd(.42,0,1,1),X6=jd(0,0,.58,1),Mk=jd(.42,0,.58,1),J6=t=>Array.isArray(t)&&typeof t[0]!="number",Ok=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Lk=t=>e=>1-t(1-e),l_=t=>1-Math.sin(Math.acos(t)),Vk=Lk(l_),Z6=Ok(l_),Fk=jd(.33,1.53,.69,.99),u_=Lk(Fk),eW=Ok(u_),tW=t=>(t*=2)<1?.5*u_(t):.5*(2-Math.pow(2,-10*(t-1))),NS={linear:hn,easeIn:Y6,easeInOut:Mk,easeOut:X6,circIn:l_,circInOut:Z6,circOut:Vk,backIn:u_,backInOut:eW,backOut:Fk,anticipate:tW},DS=t=>{if(Array.isArray(t)){Cv(t.length===4);const[e,n,r,i]=t;return jd(e,n,r,i)}else if(typeof t=="string")return Cv(NS[t]!==void 0),NS[t];return t},nW=(t,e)=>n=>e(t(n)),Ci=(...t)=>t.reduce(nW),Qc=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},at=(t,e,n)=>t+(e-t)*n;function Gg(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function rW({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=Gg(l,a,t+1/3),s=Gg(l,a,t),o=Gg(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function dp(t,e){return n=>n>0?e:t}const qg=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},iW=[Pv,Io,za],sW=t=>iW.find(e=>e.test(t));function MS(t){const e=sW(t);if(!e)return!1;let n=e.parse(t);return e===za&&(n=rW(n)),n}const OS=(t,e)=>{const n=MS(t),r=MS(e);if(!n||!r)return dp(t,e);const i={...n};return s=>(i.red=qg(n.red,r.red,s),i.green=qg(n.green,r.green,s),i.blue=qg(n.blue,r.blue,s),i.alpha=at(n.alpha,r.alpha,s),Io.transform(i))},Nv=new Set(["none","hidden"]);function oW(t,e){return Nv.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function aW(t,e){return n=>at(t,e,n)}function c_(t){return typeof t=="number"?aW:typeof t=="string"?n_(t)?dp:on.test(t)?OS:cW:Array.isArray(t)?jk:typeof t=="object"?on.test(t)?OS:lW:dp}function jk(t,e){const n=[...t],r=n.length,i=t.map((s,o)=>c_(s)(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function lW(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=c_(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function uW(t,e){var n;const r=[],i={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const o=e.types[s],a=t.indexes[o][i[o]],l=(n=t.values[a])!==null&&n!==void 0?n:0;r[s]=l,i[o]++}return r}const cW=(t,e)=>{const n=qs.createTransformer(e),r=qc(t),i=qc(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Nv.has(t)&&!i.values.length||Nv.has(e)&&!r.values.length?oW(t,e):Ci(jk(uW(r,i),i.values),n):dp(t,e)};function Uk(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?at(t,e,n):c_(t)(t,e)}function dW(t,e,n){const r=[],i=n||Uk,s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||hn:e;a=Ci(l,a)}r.push(a)}return r}function hW(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(Cv(s===e.length),s===1)return()=>e[0];if(s===2&&t[0]===t[1])return()=>e[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=dW(e,r,i),a=o.length,l=u=>{let d=0;if(a>1)for(;d<t.length-2&&!(u<t[d+1]);d++);const h=Qc(t[d],t[d+1],u);return o[d](h)};return n?u=>l(Gs(t[0],t[s-1],u)):l}function fW(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Qc(0,e,r);t.push(at(n,1,i))}}function pW(t){const e=[0];return fW(e,t.length-1),e}function mW(t,e){return t.map(n=>n*e)}function gW(t,e){return t.map(()=>e||Mk).splice(0,t.length-1)}function hp({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=J6(r)?r.map(DS):DS(r),s={done:!1,value:e[0]},o=mW(n&&n.length===e.length?n:pW(e),t),a=hW(o,e,{ease:Array.isArray(i)?i:gW(e,i)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}const LS=2e4;function yW(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<LS;)e+=n,r=t.next(e);return e>=LS?1/0:e}const vW=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Ve.update(e,!0),stop:()=>ji(e),now:()=>zt.isProcessing?zt.timestamp:Jr.now()}},wW={decay:kS,inertia:kS,tween:hp,keyframes:hp,spring:Nk},_W=t=>t/100;class d_ extends Pk{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:i,keyframes:s}=this.options,o=(i==null?void 0:i.KeyframeResolver)||i_,a=(l,u)=>this.onKeyframesResolved(l,u);this.resolver=new o(s,a,n,r,i),this.resolver.scheduleResolve()}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=this.options,a=wW[n]||hp;let l,u;a!==hp&&typeof e[0]!="number"&&(l=Ci(_W,Uk(e[0],e[1])),e=[0,100]);const d=a({...this.options,keyframes:e});s==="mirror"&&(u=a({...this.options,keyframes:[...e].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=yW(d));const{calculatedDuration:h}=d,f=h+i,p=f*(r+1)-i;return{generator:d,mirroredGenerator:u,mapPercentToKeyframes:l,calculatedDuration:h,resolvedDuration:f,totalDuration:p}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:w}=this.options;return{done:!0,value:w[w.length-1]}}const{finalKeyframe:i,generator:s,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:u,totalDuration:d,resolvedDuration:h}=r;if(this.startTime===null)return s.next(0);const{delay:f,repeat:p,repeatType:T,repeatDelay:g,onUpdate:x}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-d/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const E=this.currentTime-f*(this.speed>=0?1:-1),_=this.speed>=0?E<0:E>d;this.currentTime=Math.max(E,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let b=this.currentTime,I=s;if(p){const w=Math.min(this.currentTime,d)/h;let R=Math.floor(w),A=w%1;!A&&w>=1&&(A=1),A===1&&R--,R=Math.min(R,p+1),!!(R%2)&&(T==="reverse"?(A=1-A,g&&(A-=g/h)):T==="mirror"&&(I=o)),b=Gs(0,1,A)*h}const N=_?{done:!1,value:l[0]}:I.next(b);a&&(N.value=a(N.value));let{done:F}=N;!_&&u!==null&&(F=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&F);return C&&i!==void 0&&(N.value=pm(l,this.options,i)),x&&x(N.value),C&&this.finish(),N}get duration(){const{resolved:e}=this;return e?bi(e.calculatedDuration):0}get time(){return bi(this.currentTime)}set time(e){e=Si(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=bi(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=vW,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const Bk=new Set(["opacity","clipPath","filter","transform"]),$k=t=>Array.isArray(t)&&typeof t[0]=="number";function zk(t){return!!(!t||typeof t=="string"&&t in h_||$k(t)||Array.isArray(t)&&t.every(zk))}const Gu=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,h_={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Gu([0,.65,.55,1]),circOut:Gu([.55,0,1,.45]),backIn:Gu([.31,.01,.66,-.59]),backOut:Gu([.33,1.53,.69,.99])};function EW(t){return Wk(t)||h_.easeOut}function Wk(t){if(t)return $k(t)?Gu(t):Array.isArray(t)?t.map(EW):h_[t]}function TW(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a,times:l}={}){const u={[e]:n};l&&(u.offset=l);const d=Wk(a);return Array.isArray(d)&&(u.easing=d),t.animate(u,{delay:r,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}const xW=Ik(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),fp=10,SW=2e4;function bW(t){return t.type==="spring"||!zk(t.ease)}function CW(t,e){const n=new d_({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const i=[];let s=0;for(;!r.done&&s<SW;)r=n.sample(s),i.push(r.value),s+=fp;return{times:void 0,keyframes:i,duration:s-fp,ease:"linear"}}class VS extends Pk{constructor(e){super(e);const{name:n,motionValue:r,element:i,keyframes:s}=this.options;this.resolver=new Rk(s,(o,a)=>this.onKeyframesResolved(o,a),n,r,i),this.resolver.scheduleResolve()}initPlayback(e,n){var r;let{duration:i=300,times:s,ease:o,type:a,motionValue:l,name:u,startTime:d}=this.options;if(!(!((r=l.owner)===null||r===void 0)&&r.current))return!1;if(bW(this.options)){const{onComplete:f,onUpdate:p,motionValue:T,element:g,...x}=this.options,E=CW(e,x);e=E.keyframes,e.length===1&&(e[1]=e[0]),i=E.duration,s=E.times,o=E.ease,a="keyframes"}const h=TW(l.owner.current,u,e,{...this.options,duration:i,times:s,ease:o});return h.startTime=d??this.calcStartTime(),this.pendingTimeline?(h.timeline=this.pendingTimeline,this.pendingTimeline=void 0):h.onfinish=()=>{const{onComplete:f}=this.options;l.set(pm(e,this.options,n)),f&&f(),this.cancel(),this.resolveFinishedPromise()},{animation:h,duration:i,times:s,type:a,ease:o,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return bi(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return bi(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Si(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return hn;const{animation:r}=n;r.timeline=e,r.onfinish=null}return hn}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:i,type:s,ease:o,times:a}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:d,onComplete:h,element:f,...p}=this.options,T=new d_({...p,keyframes:r,duration:i,type:s,ease:o,times:a,isGenerator:!0}),g=Si(this.time);u.setWithVelocity(T.sample(g-fp).value,T.sample(g).value,fp)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:i,repeatType:s,damping:o,type:a}=e;return xW()&&r&&Bk.has(r)&&n&&n.owner&&n.owner.current instanceof HTMLElement&&!n.owner.getProps().onUpdate&&!i&&s!=="mirror"&&o!==0&&a!=="inertia"}}function RW(t,e){let n;const r=()=>{const{currentTime:i}=e,o=(i===null?0:i.value)/100;n!==o&&t(o),n=o};return Ve.update(r,!0),()=>ji(r)}const IW=Ik(()=>window.ScrollTimeline!==void 0);class PW{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}then(e,n){return Promise.all(this.animations).then(e).catch(n)}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e){const n=this.animations.map(r=>{if(IW()&&r.attachTimeline)r.attachTimeline(e);else return r.pause(),RW(i=>{r.time=r.duration*i},e)});return()=>{n.forEach((r,i)=>{r&&r(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}const f_=(t,e,n,r={},i,s,o)=>a=>{const l=t_(r,t)||{},u=l.delay||r.delay||0;let{elapsed:d=0}=r;d=d-Si(u);let h={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-d,onUpdate:p=>{e.set(p),l.onUpdate&&l.onUpdate(p)},onComplete:()=>{a(),l.onComplete&&l.onComplete(),o&&o()},onStop:o,name:t,motionValue:e,element:s?void 0:i};X5(l)||(h={...h,...Y5(t,h)}),h.duration&&(h.duration=Si(h.duration)),h.repeatDelay&&(h.repeatDelay=Si(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let f=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(h.duration=0,h.delay===0&&(f=!0)),f&&!s&&e.get()!==void 0){const p=pm(h.keyframes,l);if(p!==void 0)return Ve.update(()=>{h.onUpdate(p),h.onComplete()}),new PW([])}return!s&&VS.supports(h)?new VS(h):new d_(h)},AW=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),kW=t=>bv(t)?t[t.length-1]||0:t;function mm(t,e){t.indexOf(e)===-1&&t.push(e)}function gm(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class p_{constructor(){this.subscriptions=[]}add(e){return mm(this.subscriptions,e),()=>gm(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const FS=30,NW=t=>!isNaN(parseFloat(t));class Kk{constructor(e,n={}){this.version="11.5.6",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const s=Jr.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Jr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=NW(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new p_);const r=this.events[e].add(n);return e==="change"?()=>{r(),Ve.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Jr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>FS)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,FS);return Ak(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Yc(t,e){return new Kk(t,e)}function DW(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Yc(n))}function MW(t,e){const n=fm(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const a=kW(s[o]);DW(t,o,a)}}const ym=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),OW="framerAppearId",Hk="data-"+ym(OW);function Gk(t){return t.props[Hk]}function qk(t){if(no.has(t))return"transform";if(Bk.has(t))return ym(t)}class LW extends Kk{constructor(){super(...arguments),this.output=[],this.counts=new Map}add(e){const n=qk(e);if(!n)return;const r=this.counts.get(n)||0;this.counts.set(n,r+1),r===0&&(this.output.push(n),this.update());let i=!1;return()=>{if(i)return;i=!0;const s=this.counts.get(n)-1;this.counts.set(n,s),s===0&&(gm(this.output,n),this.update())}}update(){this.set(this.output.length?this.output.join(", "):"auto")}}const dn=t=>!!(t&&t.getVelocity);function VW(t){return!!(dn(t)&&t.add)}function Dv(t,e){var n;if(!t.applyWillChange)return;let r=t.getValue("willChange");if(!r&&!(!((n=t.props.style)===null||n===void 0)&&n.willChange)&&(r=new LW("auto"),t.addValue("willChange",r)),VW(r))return r.add(e)}function FW({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function Qk(t,e,{delay:n=0,transitionOverride:r,type:i}={}){var s;let{transition:o=t.getDefaultTransition(),transitionEnd:a,...l}=e;r&&(o=r);const u=[],d=i&&t.animationState&&t.animationState.getState()[i];for(const h in l){const f=t.getValue(h,(s=t.latestValues[h])!==null&&s!==void 0?s:null),p=l[h];if(p===void 0||d&&FW(d,h))continue;const T={delay:n,...t_(o||{},h)};let g=!1;if(window.MotionHandoffAnimation){const E=Gk(t);if(E){const _=window.MotionHandoffAnimation(E,h,Ve);_!==null&&(T.startTime=_,g=!0)}}f.start(f_(h,f,p,t.shouldReduceMotion&&no.has(h)?{type:!1}:T,t,g,Dv(t,h)));const x=f.animation;x&&u.push(x)}return a&&Promise.all(u).then(()=>{Ve.update(()=>{a&&MW(t,a)})}),u}function Mv(t,e,n={}){var r;const i=fm(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const o=i?()=>Promise.all(Qk(t,i,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:f}=s;return jW(t,e,d+u,h,f,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[u,d]=l==="beforeChildren"?[o,a]:[a,o];return u().then(()=>d())}else return Promise.all([o(),a(n.delay)])}function jW(t,e,n=0,r=0,i=1,s){const o=[],a=(t.variantChildren.size-1)*r,l=i===1?(u=0)=>u*r:(u=0)=>a-u*r;return Array.from(t.variantChildren).sort(UW).forEach((u,d)=>{u.notify("AnimationStart",e),o.push(Mv(u,e,{...s,delay:n+l(d)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(o)}function UW(t,e){return t.sortNodePosition(e)}function BW(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>Mv(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=Mv(t,e,n);else{const i=typeof e=="function"?fm(t,e,n.custom):e;r=Promise.all(Qk(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const $W=e_.length;function Yk(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?Yk(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<$W;n++){const r=e_[n],i=t.props[r];(Gc(i)||i===!1)&&(e[r]=i)}return e}const zW=[...Z0].reverse(),WW=Z0.length;function KW(t){return e=>Promise.all(e.map(({animation:n,options:r})=>BW(t,n,r)))}function HW(t){let e=KW(t),n=jS(),r=!0;const i=l=>(u,d)=>{var h;const f=fm(t,d,l==="exit"?(h=t.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(f){const{transition:p,transitionEnd:T,...g}=f;u={...u,...g,...T}}return u};function s(l){e=l(t)}function o(l){const{props:u}=t,d=Yk(t.parent)||{},h=[],f=new Set;let p={},T=1/0;for(let x=0;x<WW;x++){const E=zW[x],_=n[E],b=u[E]!==void 0?u[E]:d[E],I=Gc(b),N=E===l?_.isActive:null;N===!1&&(T=x);let F=b===d[E]&&b!==u[E]&&I;if(F&&r&&t.manuallyAnimateOnMount&&(F=!1),_.protectedKeys={...p},!_.isActive&&N===null||!b&&!_.prevProp||Hc(b)||typeof b=="boolean")continue;const C=GW(_.prevProp,b);let w=C||E===l&&_.isActive&&!F&&I||x>T&&I,R=!1;const A=Array.isArray(b)?b:[b];let D=A.reduce(i(E),{});N===!1&&(D={});const{prevResolvedValues:M={}}=_,k={...M,...D},J=le=>{w=!0,f.has(le)&&(R=!0,f.delete(le)),_.needsAnimating[le]=!0;const z=t.getValue(le);z&&(z.liveStyle=!1)};for(const le in k){const z=D[le],$=M[le];if(p.hasOwnProperty(le))continue;let Y=!1;bv(z)&&bv($)?Y=!ck(z,$):Y=z!==$,Y?z!=null?J(le):f.add(le):z!==void 0&&f.has(le)?J(le):_.protectedKeys[le]=!0}_.prevProp=b,_.prevResolvedValues=D,_.isActive&&(p={...p,...D}),r&&t.blockInitialAnimation&&(w=!1),w&&(!(F&&C)||R)&&h.push(...A.map(le=>({animation:le,options:{type:E}})))}if(f.size){const x={};f.forEach(E=>{const _=t.getBaseTarget(E),b=t.getValue(E);b&&(b.liveStyle=!0),x[E]=_??null}),h.push({animation:x})}let g=!!h.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(g=!1),r=!1,g?e(h):Promise.resolve()}function a(l,u){var d;if(n[l].isActive===u)return Promise.resolve();(d=t.variantChildren)===null||d===void 0||d.forEach(f=>{var p;return(p=f.animationState)===null||p===void 0?void 0:p.setActive(l,u)}),n[l].isActive=u;const h=o(l);for(const f in n)n[f].protectedKeys={};return h}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=jS(),r=!0}}}function GW(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!ck(e,t):!1}function yo(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function jS(){return{animate:yo(!0),whileInView:yo(),whileHover:yo(),whileTap:yo(),whileDrag:yo(),whileFocus:yo(),exit:yo()}}class ro{constructor(e){this.isMounted=!1,this.node=e}update(){}}class qW extends ro{constructor(e){super(e),e.animationState||(e.animationState=HW(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Hc(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let QW=0;class YW extends ro{constructor(){super(...arguments),this.id=QW++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const XW={animation:{Feature:qW},exit:{Feature:YW}},Xk=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function vm(t,e="page"){return{point:{x:t[`${e}X`],y:t[`${e}Y`]}}}const JW=t=>e=>Xk(e)&&t(e,vm(e));function Ei(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Ri(t,e,n,r){return Ei(t,e,JW(n),r)}const US=(t,e)=>Math.abs(t-e);function ZW(t,e){const n=US(t.x,e.x),r=US(t.y,e.y);return Math.sqrt(n**2+r**2)}class Jk{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=Yg(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,p=ZW(h.offset,{x:0,y:0})>=3;if(!f&&!p)return;const{point:T}=h,{timestamp:g}=zt;this.history.push({...T,timestamp:g});const{onStart:x,onMove:E}=this.handlers;f||(x&&x(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),E&&E(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=Qg(f,this.transformPagePoint),Ve.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:p,onSessionEnd:T,resumeAnimation:g}=this.handlers;if(this.dragSnapToOrigin&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=Yg(h.type==="pointercancel"?this.lastMoveEventInfo:Qg(f,this.transformPagePoint),this.history);this.startEvent&&p&&p(h,x),T&&T(h,x)},!Xk(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=vm(e),a=Qg(o,this.transformPagePoint),{point:l}=a,{timestamp:u}=zt;this.history=[{...l,timestamp:u}];const{onSessionStart:d}=n;d&&d(e,Yg(a,this.history)),this.removeListeners=Ci(Ri(this.contextWindow,"pointermove",this.handlePointerMove),Ri(this.contextWindow,"pointerup",this.handlePointerUp),Ri(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ji(this.updatePoint)}}function Qg(t,e){return e?{point:e(t.point)}:t}function BS(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Yg({point:t},e){return{point:t,delta:BS(t,Zk(e)),offset:BS(t,eK(e)),velocity:tK(e,.1)}}function eK(t){return t[0]}function Zk(t){return t[t.length-1]}function tK(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=Zk(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Si(e)));)n--;if(!r)return{x:0,y:0};const s=bi(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function eN(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const $S=eN("dragHorizontal"),zS=eN("dragVertical");function tN(t){let e=!1;if(t==="y")e=zS();else if(t==="x")e=$S();else{const n=$S(),r=zS();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function nN(){const t=tN(!0);return t?(t(),!1):!0}function Wa(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}const rN=1e-4,nK=1-rN,rK=1+rN,iN=.01,iK=0-iN,sK=0+iN;function Gn(t){return t.max-t.min}function oK(t,e,n){return Math.abs(t-e)<=n}function WS(t,e,n,r=.5){t.origin=r,t.originPoint=at(e.min,e.max,t.origin),t.scale=Gn(n)/Gn(e),t.translate=at(n.min,n.max,t.origin)-t.originPoint,(t.scale>=nK&&t.scale<=rK||isNaN(t.scale))&&(t.scale=1),(t.translate>=iK&&t.translate<=sK||isNaN(t.translate))&&(t.translate=0)}function fc(t,e,n,r){WS(t.x,e.x,n.x,r?r.originX:void 0),WS(t.y,e.y,n.y,r?r.originY:void 0)}function KS(t,e,n){t.min=n.min+e.min,t.max=t.min+Gn(e)}function aK(t,e,n){KS(t.x,e.x,n.x),KS(t.y,e.y,n.y)}function HS(t,e,n){t.min=e.min-n.min,t.max=t.min+Gn(e)}function pc(t,e,n){HS(t.x,e.x,n.x),HS(t.y,e.y,n.y)}function lK(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?at(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?at(n,t,r.max):Math.min(t,n)),t}function GS(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function uK(t,{top:e,left:n,bottom:r,right:i}){return{x:GS(t.x,n,i),y:GS(t.y,e,r)}}function qS(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function cK(t,e){return{x:qS(t.x,e.x),y:qS(t.y,e.y)}}function dK(t,e){let n=.5;const r=Gn(t),i=Gn(e);return i>r?n=Qc(e.min,e.max-r,t.min):r>i&&(n=Qc(t.min,t.max-i,e.min)),Gs(0,1,n)}function hK(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Ov=.35;function fK(t=Ov){return t===!1?t=0:t===!0&&(t=Ov),{x:QS(t,"left","right"),y:QS(t,"top","bottom")}}function QS(t,e,n){return{min:YS(t,e),max:YS(t,n)}}function YS(t,e){return typeof t=="number"?t:t[e]||0}const XS=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ka=()=>({x:XS(),y:XS()}),JS=()=>({min:0,max:0}),Tt=()=>({x:JS(),y:JS()});function tr(t){return[t("x"),t("y")]}function sN({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function pK({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function mK(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Xg(t){return t===void 0||t===1}function Lv({scale:t,scaleX:e,scaleY:n}){return!Xg(t)||!Xg(e)||!Xg(n)}function Eo(t){return Lv(t)||oN(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function oN(t){return ZS(t.x)||ZS(t.y)}function ZS(t){return t&&t!=="0%"}function pp(t,e,n){const r=t-n,i=e*r;return n+i}function eb(t,e,n,r,i){return i!==void 0&&(t=pp(t,i,r)),pp(t,n,r)+e}function Vv(t,e=0,n=1,r,i){t.min=eb(t.min,e,n,r,i),t.max=eb(t.max,e,n,r,i)}function aN(t,{x:e,y:n}){Vv(t.x,e.translate,e.scale,e.originPoint),Vv(t.y,n.translate,n.scale,n.originPoint)}const tb=.999999999999,nb=1.0000000000001;function gK(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Ga(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,aN(t,o)),r&&Eo(s.latestValues)&&Ga(t,s.latestValues))}e.x<nb&&e.x>tb&&(e.x=1),e.y<nb&&e.y>tb&&(e.y=1)}function Ha(t,e){t.min=t.min+e,t.max=t.max+e}function rb(t,e,n,r,i=.5){const s=at(t.min,t.max,i);Vv(t,e,n,s,r)}function Ga(t,e){rb(t.x,e.x,e.scaleX,e.scale,e.originX),rb(t.y,e.y,e.scaleY,e.scale,e.originY)}function lN(t,e){return sN(mK(t.getBoundingClientRect(),e))}function yK(t,e,n){const r=lN(t,n),{scroll:i}=e;return i&&(Ha(r.x,i.offset.x),Ha(r.y,i.offset.y)),r}const uN=({current:t})=>t?t.ownerDocument.defaultView:null,vK=new WeakMap;class wK{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Tt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(vm(d,"page").point)},s=(d,h)=>{var f;const{drag:p,dragPropagation:T,onDragStart:g}=this.getProps();if(p&&!T&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=tN(p),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),tr(E=>{let _=this.getAxisMotionValue(E).get()||0;if(Xr.test(_)){const{projection:b}=this.visualElement;if(b&&b.layout){const I=b.layout.layoutBox[E];I&&(_=Gn(I)*(parseFloat(_)/100))}}this.originPoint[E]=_}),g&&Ve.postRender(()=>g(d,h)),(f=this.removeWillChange)===null||f===void 0||f.call(this),this.removeWillChange=Dv(this.visualElement,"transform");const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},o=(d,h)=>{const{dragPropagation:f,dragDirectionLock:p,onDirectionLock:T,onDrag:g}=this.getProps();if(!f&&!this.openGlobalLock)return;const{offset:x}=h;if(p&&this.currentDirection===null){this.currentDirection=_K(x),this.currentDirection!==null&&T&&T(this.currentDirection);return}this.updateAxis("x",h.point,x),this.updateAxis("y",h.point,x),this.visualElement.render(),g&&g(d,h)},a=(d,h)=>this.stop(d,h),l=()=>tr(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new Jk(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:uN(this.visualElement)})}stop(e,n){var r;(r=this.removeWillChange)===null||r===void 0||r.call(this);const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:o}=this.getProps();o&&Ve.postRender(()=>o(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Vh(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=lK(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;n&&Wa(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=uK(i.layoutBox,n):this.constraints=!1,this.elastic=fK(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&tr(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=hK(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Wa(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=yK(r,i.root,this.visualElement.getTransformPagePoint());let o=cK(i.layout.layoutBox,s);if(n){const a=n(pK(o));this.hasMutatedConstraints=!!a,a&&(o=sN(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=tr(d=>{if(!Vh(d,n,this.currentDirection))return;let h=l&&l[d]||{};o&&(h={min:0,max:0});const f=i?200:1e6,p=i?40:1e7,T={type:"inertia",velocity:r?e[d]:0,bounceStiffness:f,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...s,...h};return this.startAxisValueAnimation(d,T)});return Promise.all(u).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(f_(e,r,0,n,this.visualElement,!1,Dv(this.visualElement,e)))}stopAnimation(){tr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){tr(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){tr(n=>{const{drag:r}=this.getProps();if(!Vh(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-at(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Wa(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};tr(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();i[o]=dK({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),tr(o=>{if(!Vh(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(at(l,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;vK.set(this.visualElement,this);const e=this.visualElement.current,n=Ri(e,"pointerdown",l=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Wa(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Ve.read(r);const o=Ei(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(tr(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=l[d].translate,h.set(h.get()+l[d].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=Ov,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function Vh(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function _K(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class EK extends ro{constructor(e){super(e),this.removeGroupControls=hn,this.removeListeners=hn,this.controls=new wK(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||hn}unmount(){this.removeGroupControls(),this.removeListeners()}}const ib=t=>(e,n)=>{t&&Ve.postRender(()=>t(e,n))};class TK extends ro{constructor(){super(...arguments),this.removePointerDownListener=hn}onPointerDown(e){this.session=new Jk(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:uN(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:ib(e),onStart:ib(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&Ve.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=Ri(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const wm=y.createContext(null);function xK(){const t=y.useContext(wm);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,i=y.useId();y.useEffect(()=>r(i),[]);const s=y.useCallback(()=>n&&n(i),[i,n]);return!e&&n?[!1,s]:[!0]}const m_=y.createContext({}),cN=y.createContext({}),mf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function sb(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Lu={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(he.test(t))t=parseFloat(t);else return t;const n=sb(t,e.target.x),r=sb(t,e.target.y);return`${n}% ${r}%`}},SK={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=qs.parse(t);if(i.length>5)return r;const s=qs.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const u=at(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=u),typeof i[3+o]=="number"&&(i[3+o]/=u),s(i)}},mp={};function bK(t){Object.assign(mp,t)}const{schedule:g_,cancel:eee}=dk(queueMicrotask,!1);class CK extends y.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;bK(RK),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),mf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||Ve.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),g_.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function dN(t){const[e,n]=xK(),r=y.useContext(m_);return v.jsx(CK,{...t,layoutGroup:r,switchLayoutGroup:y.useContext(cN),isPresent:e,safeToRemove:n})}const RK={borderRadius:{...Lu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Lu,borderTopRightRadius:Lu,borderBottomLeftRadius:Lu,borderBottomRightRadius:Lu,boxShadow:SK},hN=["TopLeft","TopRight","BottomLeft","BottomRight"],IK=hN.length,ob=t=>typeof t=="string"?parseFloat(t):t,ab=t=>typeof t=="number"||he.test(t);function PK(t,e,n,r,i,s){i?(t.opacity=at(0,n.opacity!==void 0?n.opacity:1,AK(r)),t.opacityExit=at(e.opacity!==void 0?e.opacity:1,0,kK(r))):s&&(t.opacity=at(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<IK;o++){const a=`border${hN[o]}Radius`;let l=lb(e,a),u=lb(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||ab(l)===ab(u)?(t[a]=Math.max(at(ob(l),ob(u),r),0),(Xr.test(u)||Xr.test(l))&&(t[a]+="%")):t[a]=u}(e.rotate||n.rotate)&&(t.rotate=at(e.rotate||0,n.rotate||0,r))}function lb(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const AK=fN(0,.5,Vk),kK=fN(.5,.95,hn);function fN(t,e,n){return r=>r<t?0:r>e?1:n(Qc(t,e,r))}function ub(t,e){t.min=e.min,t.max=e.max}function er(t,e){ub(t.x,e.x),ub(t.y,e.y)}function cb(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function db(t,e,n,r,i){return t-=e,t=pp(t,1/n,r),i!==void 0&&(t=pp(t,1/i,r)),t}function NK(t,e=0,n=1,r=.5,i,s=t,o=t){if(Xr.test(e)&&(e=parseFloat(e),e=at(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=at(s.min,s.max,r);t===s&&(a-=e),t.min=db(t.min,e,n,a,i),t.max=db(t.max,e,n,a,i)}function hb(t,e,[n,r,i],s,o){NK(t,e[n],e[r],e[i],e.scale,s,o)}const DK=["x","scaleX","originX"],MK=["y","scaleY","originY"];function fb(t,e,n,r){hb(t.x,e,DK,n?n.x:void 0,r?r.x:void 0),hb(t.y,e,MK,n?n.y:void 0,r?r.y:void 0)}function pb(t){return t.translate===0&&t.scale===1}function pN(t){return pb(t.x)&&pb(t.y)}function mb(t,e){return t.min===e.min&&t.max===e.max}function OK(t,e){return mb(t.x,e.x)&&mb(t.y,e.y)}function gb(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function mN(t,e){return gb(t.x,e.x)&&gb(t.y,e.y)}function yb(t){return Gn(t.x)/Gn(t.y)}function vb(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class LK{constructor(){this.members=[]}add(e){mm(this.members,e),e.scheduleRender()}remove(e){if(gm(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function VK(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:u,rotate:d,rotateX:h,rotateY:f,skewX:p,skewY:T}=n;u&&(r=`perspective(${u}px) ${r}`),d&&(r+=`rotate(${d}deg) `),h&&(r+=`rotateX(${h}deg) `),f&&(r+=`rotateY(${f}deg) `),p&&(r+=`skewX(${p}deg) `),T&&(r+=`skewY(${T}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const FK=(t,e)=>t.depth-e.depth;class jK{constructor(){this.children=[],this.isDirty=!1}add(e){mm(this.children,e),this.isDirty=!0}remove(e){gm(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(FK),this.isDirty=!1,this.children.forEach(e)}}function gf(t){const e=dn(t)?t.get():t;return AW(e)?e.toValue():e}function UK(t,e){const n=Jr.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(ji(r),t(s-e))};return Ve.read(r,!0),()=>ji(r)}function BK(t){return t instanceof SVGElement&&t.tagName!=="svg"}function $K(t,e,n){const r=dn(t)?t:Yc(t);return r.start(f_("",r,e,n)),r.animation}const To={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},qu=typeof window<"u"&&window.MotionDebug!==void 0,Jg=["","X","Y","Z"],zK={visibility:"hidden"},wb=1e3;let WK=0;function Zg(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function gN(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=Gk(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Ve,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&gN(r)}function yN({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=WK++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,qu&&(To.totalNodes=To.resolvedTargetDeltas=To.recalculatedProjection=0),this.nodes.forEach(GK),this.nodes.forEach(JK),this.nodes.forEach(ZK),this.nodes.forEach(qK),qu&&window.MotionDebug.record(To)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new jK)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new p_),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=BK(o),this.instance=o;const{layoutId:l,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(u||l)&&(this.isLayoutDirty=!0),t){let h;const f=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=UK(f,250),mf.hasAnimatedSinceResize&&(mf.hasAnimatedSinceResize=!1,this.nodes.forEach(Eb))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeTargetChanged:p,layout:T})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||d.getDefaultTransition()||iH,{onLayoutAnimationStart:x,onLayoutAnimationComplete:E}=d.getProps(),_=!this.targetLayout||!mN(this.targetLayout,T)||p,b=!f&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||b||f&&(_||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,b);const I={...t_(g,"layout"),onPlay:x,onComplete:E};(d.shouldReduceMotion||this.options.layoutRoot)&&(I.delay=0,I.type=!1),this.startAnimation(I)}else f||Eb(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=T})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,ji(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(eH),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&gN(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(_b);return}this.isUpdating||this.nodes.forEach(YK),this.isUpdating=!1,this.nodes.forEach(XK),this.nodes.forEach(KK),this.nodes.forEach(HK),this.clearAllSnapshots();const a=Jr.now();zt.delta=Gs(0,1e3/60,a-zt.timestamp),zt.timestamp=a,zt.isProcessing=!0,Wg.update.process(zt),Wg.preRender.process(zt),Wg.render.process(zt),zt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,g_.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(QK),this.sharedNodes.forEach(tH)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ve.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ve.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Tt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!pN(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&(a||Eo(this.latestValues)||d)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),sH(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return Tt();const l=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(oH))){const{scroll:d}=this.root;d&&(Ha(l.x,d.offset.x),Ha(l.y,d.offset.y))}return l}removeElementScroll(o){var a;const l=Tt();if(er(l,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:h,options:f}=d;d!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&er(l,o),Ha(l.x,h.offset.x),Ha(l.y,h.offset.y))}return l}applyTransform(o,a=!1){const l=Tt();er(l,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Ga(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Eo(d.latestValues)&&Ga(l,d.latestValues)}return Eo(this.latestValues)&&Ga(l,this.latestValues),l}removeTransform(o){const a=Tt();er(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!Eo(u.latestValues))continue;Lv(u.latestValues)&&u.updateSnapshot();const d=Tt(),h=u.measurePageBox();er(d,h),fb(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return Eo(this.latestValues)&&fb(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==zt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:f}=this.options;if(!(!this.layout||!(h||f))){if(this.resolvedRelativeTargetAt=zt.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Tt(),this.relativeTargetOrigin=Tt(),pc(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),er(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Tt(),this.targetWithTransforms=Tt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),aK(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):er(this.target,this.layout.layoutBox),aN(this.target,this.targetDelta)):er(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Tt(),this.relativeTargetOrigin=Tt(),pc(this.relativeTargetOrigin,this.target,p.target),er(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}qu&&To.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Lv(this.parent.latestValues)||oN(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===zt.timestamp&&(u=!1),u)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;er(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,p=this.treeScale.y;gK(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Tt());const{target:T}=a;if(!T){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(cb(this.prevProjectionDelta.x,this.projectionDelta.x),cb(this.prevProjectionDelta.y,this.projectionDelta.y)),fc(this.projectionDelta,this.layoutCorrected,T,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==p||!vb(this.projectionDelta.x,this.prevProjectionDelta.x)||!vb(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",T)),qu&&To.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ka(),this.projectionDelta=Ka(),this.projectionDeltaWithTransform=Ka()}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},d={...this.latestValues},h=Ka();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=Tt(),p=l?l.source:void 0,T=this.layout?this.layout.source:void 0,g=p!==T,x=this.getStack(),E=!x||x.members.length<=1,_=!!(g&&!E&&this.options.crossfade===!0&&!this.path.some(rH));this.animationProgress=0;let b;this.mixTargetDelta=I=>{const N=I/1e3;Tb(h.x,o.x,N),Tb(h.y,o.y,N),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(pc(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),nH(this.relativeTarget,this.relativeTargetOrigin,f,N),b&&OK(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=Tt()),er(b,this.relativeTarget)),g&&(this.animationValues=d,PK(d,u,this.latestValues,N,_,E)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=N},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(ji(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ve.update(()=>{mf.hasAnimatedSinceResize=!0,this.currentAnimation=$K(0,wb,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(wb),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:d}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&vN(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||Tt();const h=Gn(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const f=Gn(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+f}er(a,l),Ga(a,d),fc(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new LK),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const u={};l.z&&Zg("z",o,u,this.animationValues);for(let d=0;d<Jg.length;d++)Zg(`rotate${Jg[d]}`,o,u,this.animationValues),Zg(`skew${Jg[d]}`,o,u,this.animationValues);o.render();for(const d in u)o.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return zK;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=gf(o==null?void 0:o.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=gf(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Eo(this.latestValues)&&(g.transform=d?d({},""):"none",this.hasProjected=!1),g}const f=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=VK(this.projectionDeltaWithTransform,this.treeScale,f),d&&(u.transform=d(f,u.transform));const{x:p,y:T}=this.projectionDelta;u.transformOrigin=`${p.origin*100}% ${T.origin*100}% 0`,h.animationValues?u.opacity=h===this?(l=(a=f.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:u.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const g in mp){if(f[g]===void 0)continue;const{correct:x,applyTo:E}=mp[g],_=u.transform==="none"?f[g]:x(f[g],h);if(E){const b=E.length;for(let I=0;I<b;I++)u[E[I]]=_}else u[g]=_}return this.options.layoutId&&(u.pointerEvents=h===this?gf(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(_b),this.root.sharedNodes.clear()}}}function KK(t){t.updateLayout()}function HK(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=n.source!==t.layout.source;s==="size"?tr(h=>{const f=o?n.measuredBox[h]:n.layoutBox[h],p=Gn(f);f.min=r[h].min,f.max=f.min+p}):vN(s,n.layoutBox,r)&&tr(h=>{const f=o?n.measuredBox[h]:n.layoutBox[h],p=Gn(r[h]);f.max=f.min+p,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+p)});const a=Ka();fc(a,r,n.layoutBox);const l=Ka();o?fc(l,t.applyTransform(i,!0),n.measuredBox):fc(l,r,n.layoutBox);const u=!pN(a);let d=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:p}=h;if(f&&p){const T=Tt();pc(T,n.layoutBox,f.layoutBox);const g=Tt();pc(g,r,p.layoutBox),mN(T,g)||(d=!0),h.options.layoutRoot&&(t.relativeTarget=g,t.relativeTargetOrigin=T,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function GK(t){qu&&To.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function qK(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function QK(t){t.clearSnapshot()}function _b(t){t.clearMeasurements()}function YK(t){t.isLayoutDirty=!1}function XK(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Eb(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function JK(t){t.resolveTargetDelta()}function ZK(t){t.calcProjection()}function eH(t){t.resetSkewAndRotation()}function tH(t){t.removeLeadSnapshot()}function Tb(t,e,n){t.translate=at(e.translate,0,n),t.scale=at(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function xb(t,e,n,r){t.min=at(e.min,n.min,r),t.max=at(e.max,n.max,r)}function nH(t,e,n,r){xb(t.x,e.x,n.x,r),xb(t.y,e.y,n.y,r)}function rH(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const iH={duration:.45,ease:[.4,0,.1,1]},Sb=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),bb=Sb("applewebkit/")&&!Sb("chrome/")?Math.round:hn;function Cb(t){t.min=bb(t.min),t.max=bb(t.max)}function sH(t){Cb(t.x),Cb(t.y)}function vN(t,e,n){return t==="position"||t==="preserve-aspect"&&!oK(yb(e),yb(n),.2)}function oH(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const aH=yN({attachResizeListener:(t,e)=>Ei(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),ey={current:void 0},wN=yN({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!ey.current){const t=new aH({});t.mount(window),t.setOptions({layoutScroll:!0}),ey.current=t}return ey.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),lH={pan:{Feature:TK},drag:{Feature:EK,ProjectionNode:wN,MeasureLayout:dN}};function Rb(t,e){const n=e?"pointerenter":"pointerleave",r=e?"onHoverStart":"onHoverEnd",i=(s,o)=>{if(s.pointerType==="touch"||nN())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e);const l=a[r];l&&Ve.postRender(()=>l(s,o))};return Ri(t.current,n,i,{passive:!t.getProps()[r]})}class uH extends ro{mount(){this.unmount=Ci(Rb(this.node,!0),Rb(this.node,!1))}unmount(){}}class cH extends ro{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ci(Ei(this.node.current,"focus",()=>this.onFocus()),Ei(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const _N=(t,e)=>e?t===e?!0:_N(t,e.parentElement):!1;function ty(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,vm(n))}class dH extends ro{constructor(){super(...arguments),this.removeStartListeners=hn,this.removeEndListeners=hn,this.removeAccessibleListeners=hn,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),s=Ri(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:d,globalTapTarget:h}=this.node.getProps(),f=!h&&!_N(this.node.current,a.target)?d:u;f&&Ve.update(()=>f(a,l))},{passive:!(r.onTap||r.onPointerUp)}),o=Ri(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Ci(s,o),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||ty("up",(l,u)=>{const{onTap:d}=this.node.getProps();d&&Ve.postRender(()=>d(l,u))})};this.removeEndListeners(),this.removeEndListeners=Ei(this.node.current,"keyup",o),ty("down",(a,l)=>{this.startPress(a,l)})},n=Ei(this.node.current,"keydown",e),r=()=>{this.isPressing&&ty("cancel",(s,o)=>this.cancelPress(s,o))},i=Ei(this.node.current,"blur",r);this.removeAccessibleListeners=Ci(n,i)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Ve.postRender(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!nN()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Ve.postRender(()=>r(e,n))}mount(){const e=this.node.getProps(),n=Ri(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=Ei(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Ci(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Fv=new WeakMap,ny=new WeakMap,hH=t=>{const e=Fv.get(t.target);e&&e(t)},fH=t=>{t.forEach(hH)};function pH({root:t,...e}){const n=t||document;ny.has(n)||ny.set(n,{});const r=ny.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(fH,{root:t,...e})),r[i]}function mH(t,e,n){const r=pH(e);return Fv.set(t,n),r.observe(t),()=>{Fv.delete(t),r.unobserve(t)}}const gH={some:0,all:1};class yH extends ro{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:gH[i]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),f=u?d:h;f&&f(l)};return mH(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(vH(e,n))&&this.startObserver()}unmount(){}}function vH({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const wH={inView:{Feature:yH},tap:{Feature:dH},focus:{Feature:cH},hover:{Feature:uH}},_H={layout:{ProjectionNode:wN,MeasureLayout:dN}},y_=y.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),_m=y.createContext({}),v_=typeof window<"u",EN=v_?y.useLayoutEffect:y.useEffect,TN=y.createContext({strict:!1});let Ib=!1;function EH(t,e,n,r,i){var s;const{visualElement:o}=y.useContext(_m),a=y.useContext(TN),l=y.useContext(wm),u=y.useContext(y_).reducedMotion,d=y.useRef();r=r||a.renderer,!d.current&&r&&(d.current=r(t,{visualState:e,parent:o,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:u}));const h=d.current,f=y.useContext(cN);h&&!h.projection&&i&&(h.type==="html"||h.type==="svg")&&xH(d.current,n,i,f),y.useInsertionEffect(()=>{h&&h.update(n,l)});const p=n[Hk],T=y.useRef(!!p&&!window.MotionHandoffIsComplete&&((s=window.MotionHasOptimisedAnimation)===null||s===void 0?void 0:s.call(window,p)));return EN(()=>{h&&(h.updateFeatures(),g_.render(h.render),T.current&&h.animationState&&h.animationState.animateChanges())}),y.useEffect(()=>{h&&(!T.current&&h.animationState&&h.animationState.animateChanges(),T.current=!1,Ib||(Ib=!0,queueMicrotask(TH)))}),h}function TH(){window.MotionHandoffIsComplete=!0}function xH(t,e,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:u}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:xN(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&Wa(a),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:u})}function xN(t){if(t)return t.options.allowProjection!==!1?t.projection:xN(t.parent)}function SH(t,e,n){return y.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Wa(n)&&(n.current=r))},[e])}function Em(t){return Hc(t.animate)||e_.some(e=>Gc(t[e]))}function SN(t){return!!(Em(t)||t.variants)}function bH(t,e){if(Em(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Gc(n)?n:void 0,animate:Gc(r)?r:void 0}}return t.inherit!==!1?e:{}}function CH(t){const{initial:e,animate:n}=bH(t,y.useContext(_m));return y.useMemo(()=>({initial:e,animate:n}),[Pb(e),Pb(n)])}function Pb(t){return Array.isArray(t)?t.join(" "):t}const Ab={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ml={};for(const t in Ab)Ml[t]={isEnabled:e=>Ab[t].some(n=>!!e[n])};function RH(t){for(const e in t)Ml[e]={...Ml[e],...t[e]}}const IH=Symbol.for("motionComponentSymbol");function PH({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&RH(t);function s(a,l){let u;const d={...y.useContext(y_),...a,layoutId:AH(a)},{isStatic:h}=d,f=CH(a),p=r(a,h);if(!h&&v_){kH();const T=NH(d);u=T.MeasureLayout,f.visualElement=EH(i,p,d,e,T.ProjectionNode)}return v.jsxs(_m.Provider,{value:f,children:[u&&f.visualElement?v.jsx(u,{visualElement:f.visualElement,...d}):null,n(i,a,SH(p,f.visualElement,l),p,h,f.visualElement)]})}const o=y.forwardRef(s);return o[IH]=i,o}function AH({layoutId:t}){const e=y.useContext(m_).id;return e&&t!==void 0?e+"-"+t:t}function kH(t,e){y.useContext(TN).strict}function NH(t){const{drag:e,layout:n}=Ml;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const DH=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function w_(t){return typeof t!="string"||t.includes("-")?!1:!!(DH.indexOf(t)>-1||/[A-Z]/u.test(t))}function bN(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}const CN=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function RN(t,e,n,r){bN(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(CN.has(i)?i:ym(i),e.attrs[i])}function IN(t,{layout:e,layoutId:n}){return no.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!mp[t]||t==="opacity")}function __(t,e,n){var r;const{style:i}=t,s={};for(const o in i)(dn(i[o])||e.style&&dn(e.style[o])||IN(o,t)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(s[o]=i[o]);return n&&i&&typeof i.willChange=="string"&&(n.applyWillChange=!1),s}function PN(t,e,n){const r=__(t,e,n);for(const i in t)if(dn(t[i])||dn(e[i])){const s=Ld.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}function E_(t){const e=y.useRef(null);return e.current===null&&(e.current=t()),e.current}function MH({applyWillChange:t=!1,scrapeMotionValuesFromProps:e,createRenderState:n,onMount:r},i,s,o,a){const l={latestValues:LH(i,s,o,a?!1:t,e),renderState:n()};return r&&(l.mount=u=>r(i,u,l)),l}const AN=t=>(e,n)=>{const r=y.useContext(_m),i=y.useContext(wm),s=()=>MH(t,e,r,i,n);return n?s():E_(s)};function OH(t,e){const n=qk(e);n&&mm(t,n)}function kb(t,e,n){const r=Array.isArray(e)?e:[e];for(let i=0;i<r.length;i++){const s=J0(t,r[i]);if(s){const{transitionEnd:o,transition:a,...l}=s;n(l,o)}}}function LH(t,e,n,r,i){var s;const o={},a=[],l=r&&((s=t.style)===null||s===void 0?void 0:s.willChange)===void 0,u=i(t,{});for(const x in u)o[x]=gf(u[x]);let{initial:d,animate:h}=t;const f=Em(t),p=SN(t);e&&p&&!f&&t.inherit!==!1&&(d===void 0&&(d=e.initial),h===void 0&&(h=e.animate));let T=n?n.initial===!1:!1;T=T||d===!1;const g=T?h:d;return g&&typeof g!="boolean"&&!Hc(g)&&kb(t,g,(x,E)=>{for(const _ in x){let b=x[_];if(Array.isArray(b)){const I=T?b.length-1:0;b=b[I]}b!==null&&(o[_]=b)}for(const _ in E)o[_]=E[_]}),l&&(h&&d!==!1&&!Hc(h)&&kb(t,h,x=>{for(const E in x)OH(a,E)}),a.length&&(o.willChange=a.join(","))),o}const T_=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),kN=()=>({...T_(),attrs:{}}),NN=(t,e)=>e&&typeof t=="number"?e.transform(t):t,VH={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},FH=Ld.length;function jH(t,e,n){let r="",i=!0;for(let s=0;s<FH;s++){const o=Ld[s],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const u=NN(a,o_[o]);if(!l){i=!1;const d=VH[o]||o;r+=`${d}(${u}) `}n&&(e[o]=u)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function x_(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let o=!1,a=!1;for(const l in e){const u=e[l];if(no.has(l)){o=!0;continue}else if(mk(l)){i[l]=u;continue}else{const d=NN(u,o_[l]);l.startsWith("origin")?(a=!0,s[l]=d):r[l]=d}}if(e.transform||(o||n?r.transform=jH(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:u="50%",originZ:d=0}=s;r.transformOrigin=`${l} ${u} ${d}`}}function Nb(t,e,n){return typeof t=="string"?t:he.transform(e+n*t)}function UH(t,e,n){const r=Nb(e,t.x,t.width),i=Nb(n,t.y,t.height);return`${r} ${i}`}const BH={offset:"stroke-dashoffset",array:"stroke-dasharray"},$H={offset:"strokeDashoffset",array:"strokeDasharray"};function zH(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?BH:$H;t[s.offset]=he.transform(-r);const o=he.transform(e),a=he.transform(n);t[s.array]=`${o} ${a}`}function S_(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...u},d,h){if(x_(t,u,h),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:p,dimensions:T}=t;f.transform&&(T&&(p.transform=f.transform),delete f.transform),T&&(i!==void 0||s!==void 0||p.transform)&&(p.transformOrigin=UH(T,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(f.x=e),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),o!==void 0&&zH(f,o,a,l,!1)}const b_=t=>typeof t=="string"&&t.toLowerCase()==="svg",WH={useVisualState:AN({scrapeMotionValuesFromProps:PN,createRenderState:kN,onMount:(t,e,{renderState:n,latestValues:r})=>{Ve.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Ve.render(()=>{S_(n,r,b_(e.tagName),t.transformTemplate),RN(e,n)})}})},KH={useVisualState:AN({applyWillChange:!0,scrapeMotionValuesFromProps:__,createRenderState:T_})};function DN(t,e,n){for(const r in e)!dn(e[r])&&!IN(r,n)&&(t[r]=e[r])}function HH({transformTemplate:t},e){return y.useMemo(()=>{const n=T_();return x_(n,e,t),Object.assign({},n.vars,n.style)},[e])}function GH(t,e){const n=t.style||{},r={};return DN(r,n,t),Object.assign(r,HH(t,e)),r}function qH(t,e){const n={},r=GH(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const QH=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function gp(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||QH.has(t)}let MN=t=>!gp(t);function YH(t){t&&(MN=e=>e.startsWith("on")?!gp(e):t(e))}try{YH(require("@emotion/is-prop-valid").default)}catch{}function XH(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(MN(i)||n===!0&&gp(i)||!e&&!gp(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function JH(t,e,n,r){const i=y.useMemo(()=>{const s=kN();return S_(s,e,b_(r),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};DN(s,t.style,t),i.style={...s,...i.style}}return i}function ZH(t=!1){return(n,r,i,{latestValues:s},o)=>{const l=(w_(n)?JH:qH)(r,s,o,n),u=XH(r,typeof n=="string",t),d=n!==y.Fragment?{...u,...l,ref:i}:{},{children:h}=r,f=y.useMemo(()=>dn(h)?h.get():h,[h]);return y.createElement(n,{...d,children:f})}}function e8(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...w_(r)?WH:KH,preloadedFeatures:t,useRender:ZH(i),createVisualElement:e,Component:r};return PH(o)}}const jv={current:null},ON={current:!1};function t8(){if(ON.current=!0,!!v_)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>jv.current=t.matches;t.addListener(e),e()}else jv.current=!1}function n8(t,e,n){for(const r in e){const i=e[r],s=n[r];if(dn(i))t.addValue(r,i);else if(dn(s))t.addValue(r,Yc(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(r);t.addValue(r,Yc(o!==void 0?o:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const Db=new WeakMap,r8=[...vk,on,qs],i8=t=>r8.find(yk(t)),Mb=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class s8{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.applyWillChange=!1,this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=i_,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=Jr.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,Ve.render(this.render,!1,!0))};const{latestValues:l,renderState:u}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=Em(n),this.isVariantNode=SN(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in h){const p=h[f];l[f]!==void 0&&dn(p)&&p.set(l[f],!1)}}mount(e){this.current=e,Db.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),ON.current||t8(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:jv.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Db.delete(this.current),this.projection&&this.projection.unmount(),ji(this.notifyUpdate),ji(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=no.has(e),i=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&Ve.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Ml){const n=Ml[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Tt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Mb.length;r++){const i=Mb[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=n8(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Yc(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(fk(i)||hk(i))?i=parseFloat(i):!i8(i)&&qs.test(n)&&(i=Ck(e,n)),this.setBaseTarget(e,dn(i)?i.get():i)),dn(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const o=J0(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(i=o[e])}if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!dn(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new p_),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class LN extends s8{constructor(){super(...arguments),this.KeyframeResolver=Rk}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}}function o8(t){return window.getComputedStyle(t)}class a8 extends LN{constructor(){super(...arguments),this.type="html",this.applyWillChange=!0,this.renderInstance=bN}readValueFromInstance(e,n){if(no.has(n)){const r=a_(n);return r&&r.default||0}else{const r=o8(e),i=(mk(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return lN(e,n)}build(e,n,r){x_(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return __(e,n,r)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;dn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class l8 extends LN{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Tt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(no.has(n)){const r=a_(n);return r&&r.default||0}return n=CN.has(n)?n:ym(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return PN(e,n,r)}build(e,n,r){S_(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,i){RN(e,n,r,i)}mount(e){this.isSVGTag=b_(e.tagName),super.mount(e)}}const u8=(t,e)=>w_(t)?new l8(e):new a8(e,{allowProjection:t!==y.Fragment}),c8=e8({...XW,...wH,...lH,..._H},u8),d8=K5(c8);class h8 extends y.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function f8({children:t,isPresent:e}){const n=y.useId(),r=y.useRef(null),i=y.useRef({width:0,height:0,top:0,left:0}),{nonce:s}=y.useContext(y_);return y.useInsertionEffect(()=>{const{width:o,height:a,top:l,left:u}=i.current;if(e||!r.current||!o||!a)return;r.current.dataset.motionPopId=n;const d=document.createElement("style");return s&&(d.nonce=s),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[e]),v.jsx(h8,{isPresent:e,childRef:r,sizeRef:i,children:y.cloneElement(t,{ref:r})})}const p8=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o})=>{const a=E_(m8),l=y.useId(),u=y.useMemo(()=>({id:l,initial:e,isPresent:n,custom:i,onExitComplete:d=>{a.set(d,!0);for(const h of a.values())if(!h)return;r&&r()},register:d=>(a.set(d,!1),()=>a.delete(d))}),s?[Math.random()]:[n]);return y.useMemo(()=>{a.forEach((d,h)=>a.set(h,!1))},[n]),y.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(t=v.jsx(f8,{isPresent:n,children:t})),v.jsx(wm.Provider,{value:u,children:t})};function m8(){return new Map}const Fh=t=>t.key||"";function Ob(t){const e=[];return y.Children.forEach(t,n=>{y.isValidElement(n)&&e.push(n)}),e}const g8=({children:t,exitBeforeEnter:e,custom:n,initial:r=!0,onExitComplete:i,presenceAffectsLayout:s=!0,mode:o="sync"})=>{const a=y.useMemo(()=>Ob(t),[t]),l=a.map(Fh),u=y.useRef(!0),d=y.useRef(a),h=E_(()=>new Map),[f,p]=y.useState(a),[T,g]=y.useState(a);EN(()=>{u.current=!1,d.current=a;for(let _=0;_<T.length;_++){const b=Fh(T[_]);l.includes(b)?h.delete(b):h.get(b)!==!0&&h.set(b,!1)}},[T,l.length,l.join("-")]);const x=[];if(a!==f){let _=[...a];for(let b=0;b<T.length;b++){const I=T[b],N=Fh(I);l.includes(N)||(_.splice(b,0,I),x.push(I))}o==="wait"&&x.length&&(_=x),g(Ob(_)),p(a);return}const{forceRender:E}=y.useContext(m_);return v.jsx(v.Fragment,{children:T.map(_=>{const b=Fh(_),I=a===T||l.includes(b),N=()=>{if(h.has(b))h.set(b,!0);else return;let F=!0;h.forEach(C=>{C||(F=!1)}),F&&(E==null||E(),g(d.current),i&&i())};return v.jsx(p8,{isPresent:I,initial:!u.current||r?void 0:!1,custom:I?void 0:n,presenceAffectsLayout:s,mode:o,onExitComplete:I?void 0:N,children:_},b)})})},y8=()=>{const{messageHistory:t,handleSubmitMessage:e,message:n,setMessage:r,endOfMessagesRef:i}=W5();return v.jsxs("div",{className:"h-[40rem] w-[29rem] flex flex-col  border border-customBorderColor rounded-md",children:[v.jsx("header",{className:"h-[3rem] flex items-center justify-start px-4 border-b border-customBorderColor bg-lightGray-darker",children:lk.botName}),v.jsxs("section",{className:"h-[32rem] scrollbar-slim overflow-y-auto py-4",children:[v.jsx(g8,{children:v.jsx(ak,{items:t,renderItem:s=>v.jsx(d8.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:`mb-4 ${s.sender==="admin"?"text-right":"text-left"}`,children:v.jsx(U5,{message:s})},s.id),listStyle:"px-4 flex flex-col space-y-4"})}),v.jsx("div",{ref:i})]}),v.jsx(j5,{message:n,setMessage:r,handleSubmit:e})]})},v8=()=>v.jsxs("div",{className:"flex items-center flex-col w-[84rem] px-20 space-y-6",children:[v.jsx(F5,{headerText:"Chatbot"}),v.jsx(y8,{})]}),w8=()=>v.jsx("header",{className:"py-4 text-3xl font-semibold w-full",children:"Knowledge"}),_8=[{name:"Base",value:10},{name:"Entry",value:10},{name:"Size",value:"239 Kb"}],E8=()=>v.jsxs("div",{className:"border border-neutral-200 bg-white h-[10rem] w-[25rem] rounded-lg shadow-sm p-6",children:[v.jsxs("header",{className:"flex items-center space-x-2 mb-4",children:[v.jsx("div",{className:"border border-neutral-200 w-fit p-[0.4rem] rounded-md shadow-sm",children:v.jsx($3,{className:"text-[#576476] size-5"})}),v.jsx("p",{className:"text-[#334155] text-sm font-medium",children:"Knowledge Collection"})]}),v.jsx("section",{className:"w-full flex space-x-10",children:_8.map((t,e)=>v.jsxs("div",{className:"p-2",children:[v.jsx("header",{className:"text-sm",children:t.name}),v.jsx("p",{className:"text-xl",children:t.value})]},t.name))})]}),T8=()=>v.jsx("article",{className:"w-full flex space-x-6 pb-8",children:v.jsx(E8,{})});function x8(t,e){return y.useReducer((n,r)=>e[n][r]??n,t)}var nu=t=>{const{present:e,children:n}=t,r=S8(e),i=typeof n=="function"?n({present:r.isPresent}):y.Children.only(n),s=vt(r.ref,b8(i));return typeof n=="function"||r.isPresent?y.cloneElement(i,{ref:s}):null};nu.displayName="Presence";function S8(t){const[e,n]=y.useState(),r=y.useRef({}),i=y.useRef(t),s=y.useRef("none"),o=t?"mounted":"unmounted",[a,l]=x8(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return y.useEffect(()=>{const u=jh(r.current);s.current=a==="mounted"?u:"none"},[a]),Li(()=>{const u=r.current,d=i.current;if(d!==t){const f=s.current,p=jh(u);t?l("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(d&&f!==p?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),Li(()=>{if(e){const u=h=>{const p=jh(r.current).includes(h.animationName);h.target===e&&p&&Gl.flushSync(()=>l("ANIMATION_END"))},d=h=>{h.target===e&&(s.current=jh(r.current))};return e.addEventListener("animationstart",d),e.addEventListener("animationcancel",u),e.addEventListener("animationend",u),()=>{e.removeEventListener("animationstart",d),e.removeEventListener("animationcancel",u),e.removeEventListener("animationend",u)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:y.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function jh(t){return(t==null?void 0:t.animationName)||"none"}function b8(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var C_="Tabs",[C8,nee]=Xl(C_,[lm]),VN=lm(),[R8,R_]=C8(C_),FN=y.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:s,orientation:o="horizontal",dir:a,activationMode:l="automatic",...u}=t,d=D0(a),[h,f]=Nd({prop:r,onChange:i,defaultProp:s});return v.jsx(R8,{scope:n,baseId:Vs(),value:h,onValueChange:f,orientation:o,dir:d,activationMode:l,children:v.jsx(je.div,{dir:d,"data-orientation":o,...u,ref:e})})});FN.displayName=C_;var jN="TabsList",UN=y.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...i}=t,s=R_(jN,n),o=VN(n);return v.jsx(vA,{asChild:!0,...o,orientation:s.orientation,dir:s.dir,loop:r,children:v.jsx(je.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:e})})});UN.displayName=jN;var BN="TabsTrigger",$N=y.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...s}=t,o=R_(BN,n),a=VN(n),l=WN(o.baseId,r),u=KN(o.baseId,r),d=r===o.value;return v.jsx(wA,{asChild:!0,...a,focusable:!i,active:d,children:v.jsx(je.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:l,...s,ref:e,onMouseDown:ue(t.onMouseDown,h=>{!i&&h.button===0&&h.ctrlKey===!1?o.onValueChange(r):h.preventDefault()}),onKeyDown:ue(t.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(r)}),onFocus:ue(t.onFocus,()=>{const h=o.activationMode!=="manual";!d&&!i&&h&&o.onValueChange(r)})})})});$N.displayName=BN;var zN="TabsContent",Tm=y.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:i,children:s,...o}=t,a=R_(zN,n),l=WN(a.baseId,r),u=KN(a.baseId,r),d=r===a.value,h=y.useRef(d);return y.useEffect(()=>{const f=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(f)},[]),v.jsx(nu,{present:i||d,children:({present:f})=>v.jsx(je.div,{"data-state":d?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!f,id:u,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:h.current?"0s":void 0},children:f&&s})})});Tm.displayName=zN;function WN(t,e){return`${t}-trigger-${e}`}function KN(t,e){return`${t}-content-${e}`}var I8=FN,HN=UN,GN=$N,qN=Tm;function QN(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=QN(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function P8(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=QN(t))&&(r&&(r+=" "),r+=e);return r}const I_="-",A8=t=>{const e=N8(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(I_);return a[0]===""&&a.length!==1&&a.shift(),YN(a,e)||k8(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},YN=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?YN(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(I_);return(o=e.validators.find(({validator:a})=>a(s)))==null?void 0:o.classGroupId},Lb=/^\[(.+)\]$/,k8=t=>{if(Lb.test(t)){const e=Lb.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},N8=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return M8(Object.entries(t.classGroups),n).forEach(([s,o])=>{Uv(o,r,s,e)}),r},Uv=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:Vb(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(D8(i)){Uv(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,o])=>{Uv(o,Vb(e,s),n,r)})})},Vb=(t,e)=>{let n=t;return e.split(I_).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},D8=t=>t.isThemeGetter,M8=(t,e)=>e?t.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,a])=>[e+o,a])):s);return[n,i]}):t,O8=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,o)=>{n.set(s,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){n.has(s)?n.set(s,o):i(s,o)}}},XN="!",L8=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],s=e.length,o=a=>{const l=[];let u=0,d=0,h;for(let x=0;x<a.length;x++){let E=a[x];if(u===0){if(E===i&&(r||a.slice(x,x+s)===e)){l.push(a.slice(d,x)),d=x+s;continue}if(E==="/"){h=x;continue}}E==="["?u++:E==="]"&&u--}const f=l.length===0?a:a.substring(d),p=f.startsWith(XN),T=p?f.substring(1):f,g=h&&h>d?h-d:void 0;return{modifiers:l,hasImportantModifier:p,baseClassName:T,maybePostfixModifierPosition:g}};return n?a=>n({className:a,parseClassName:o}):o},V8=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},F8=t=>({cache:O8(t.cacheSize),parseClassName:L8(t),...A8(t)}),j8=/\s+/,U8=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=[],o=t.trim().split(j8);let a="";for(let l=o.length-1;l>=0;l-=1){const u=o[l],{modifiers:d,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:p}=n(u);let T=!!p,g=r(T?f.substring(0,p):f);if(!g){if(!T){a=u+(a.length>0?" "+a:a);continue}if(g=r(f),!g){a=u+(a.length>0?" "+a:a);continue}T=!1}const x=V8(d).join(":"),E=h?x+XN:x,_=E+g;if(s.includes(_))continue;s.push(_);const b=i(g,T);for(let I=0;I<b.length;++I){const N=b[I];s.push(E+N)}a=u+(a.length>0?" "+a:a)}return a};function B8(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=JN(e))&&(r&&(r+=" "),r+=n);return r}const JN=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=JN(t[r]))&&(n&&(n+=" "),n+=e);return n};function $8(t,...e){let n,r,i,s=o;function o(l){const u=e.reduce((d,h)=>h(d),t());return n=F8(u),r=n.cache.get,i=n.cache.set,s=a,a(l)}function a(l){const u=r(l);if(u)return u;const d=U8(l,n);return i(l,d),d}return function(){return s(B8.apply(null,arguments))}}const Xe=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},ZN=/^\[(?:([a-z-]+):)?(.+)\]$/i,z8=/^\d+\/\d+$/,W8=new Set(["px","full","screen"]),K8=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,H8=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,G8=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,q8=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Q8=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ci=t=>sl(t)||W8.has(t)||z8.test(t),Ji=t=>ru(t,"length",r7),sl=t=>!!t&&!Number.isNaN(Number(t)),ry=t=>ru(t,"number",sl),Vu=t=>!!t&&Number.isInteger(Number(t)),Y8=t=>t.endsWith("%")&&sl(t.slice(0,-1)),Ee=t=>ZN.test(t),Zi=t=>K8.test(t),X8=new Set(["length","size","percentage"]),J8=t=>ru(t,X8,eD),Z8=t=>ru(t,"position",eD),e7=new Set(["image","url"]),t7=t=>ru(t,e7,s7),n7=t=>ru(t,"",i7),Fu=()=>!0,ru=(t,e,n)=>{const r=ZN.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},r7=t=>H8.test(t)&&!G8.test(t),eD=()=>!1,i7=t=>q8.test(t),s7=t=>Q8.test(t),o7=()=>{const t=Xe("colors"),e=Xe("spacing"),n=Xe("blur"),r=Xe("brightness"),i=Xe("borderColor"),s=Xe("borderRadius"),o=Xe("borderSpacing"),a=Xe("borderWidth"),l=Xe("contrast"),u=Xe("grayscale"),d=Xe("hueRotate"),h=Xe("invert"),f=Xe("gap"),p=Xe("gradientColorStops"),T=Xe("gradientColorStopPositions"),g=Xe("inset"),x=Xe("margin"),E=Xe("opacity"),_=Xe("padding"),b=Xe("saturate"),I=Xe("scale"),N=Xe("sepia"),F=Xe("skew"),C=Xe("space"),w=Xe("translate"),R=()=>["auto","contain","none"],A=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto",Ee,e],M=()=>[Ee,e],k=()=>["",ci,Ji],J=()=>["auto",sl,Ee],xe=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],fe=()=>["solid","dashed","dotted","double","none"],le=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],z=()=>["start","end","center","between","around","evenly","stretch"],$=()=>["","0",Ee],Y=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ae=()=>[sl,Ee];return{cacheSize:500,separator:":",theme:{colors:[Fu],spacing:[ci,Ji],blur:["none","",Zi,Ee],brightness:ae(),borderColor:[t],borderRadius:["none","","full",Zi,Ee],borderSpacing:M(),borderWidth:k(),contrast:ae(),grayscale:$(),hueRotate:ae(),invert:$(),gap:M(),gradientColorStops:[t],gradientColorStopPositions:[Y8,Ji],inset:D(),margin:D(),opacity:ae(),padding:M(),saturate:ae(),scale:ae(),sepia:$(),skew:ae(),space:M(),translate:M()},classGroups:{aspect:[{aspect:["auto","square","video",Ee]}],container:["container"],columns:[{columns:[Zi]}],"break-after":[{"break-after":Y()}],"break-before":[{"break-before":Y()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...xe(),Ee]}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Vu,Ee]}],basis:[{basis:D()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ee]}],grow:[{grow:$()}],shrink:[{shrink:$()}],order:[{order:["first","last","none",Vu,Ee]}],"grid-cols":[{"grid-cols":[Fu]}],"col-start-end":[{col:["auto",{span:["full",Vu,Ee]},Ee]}],"col-start":[{"col-start":J()}],"col-end":[{"col-end":J()}],"grid-rows":[{"grid-rows":[Fu]}],"row-start-end":[{row:["auto",{span:[Vu,Ee]},Ee]}],"row-start":[{"row-start":J()}],"row-end":[{"row-end":J()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ee]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ee]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...z()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...z(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...z(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[_]}],px:[{px:[_]}],py:[{py:[_]}],ps:[{ps:[_]}],pe:[{pe:[_]}],pt:[{pt:[_]}],pr:[{pr:[_]}],pb:[{pb:[_]}],pl:[{pl:[_]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ee,e]}],"min-w":[{"min-w":[Ee,e,"min","max","fit"]}],"max-w":[{"max-w":[Ee,e,"none","full","min","max","fit","prose",{screen:[Zi]},Zi]}],h:[{h:[Ee,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ee,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ee,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ee,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Zi,Ji]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ry]}],"font-family":[{font:[Fu]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ee]}],"line-clamp":[{"line-clamp":["none",sl,ry]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ci,Ee]}],"list-image":[{"list-image":["none",Ee]}],"list-style-type":[{list:["none","disc","decimal",Ee]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[E]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[E]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...fe(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ci,Ji]}],"underline-offset":[{"underline-offset":["auto",ci,Ee]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ee]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ee]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[E]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...xe(),Z8]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",J8]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},t7]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[T]}],"gradient-via-pos":[{via:[T]}],"gradient-to-pos":[{to:[T]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[E]}],"border-style":[{border:[...fe(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[E]}],"divide-style":[{divide:fe()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...fe()]}],"outline-offset":[{"outline-offset":[ci,Ee]}],"outline-w":[{outline:[ci,Ji]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:k()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[E]}],"ring-offset-w":[{"ring-offset":[ci,Ji]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Zi,n7]}],"shadow-color":[{shadow:[Fu]}],opacity:[{opacity:[E]}],"mix-blend":[{"mix-blend":[...le(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":le()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Zi,Ee]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[b]}],sepia:[{sepia:[N]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[E]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[N]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ee]}],duration:[{duration:ae()}],ease:[{ease:["linear","in","out","in-out",Ee]}],delay:[{delay:ae()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ee]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[I]}],"scale-x":[{"scale-x":[I]}],"scale-y":[{"scale-y":[I]}],rotate:[{rotate:[Vu,Ee]}],"translate-x":[{"translate-x":[w]}],"translate-y":[{"translate-y":[w]}],"skew-x":[{"skew-x":[F]}],"skew-y":[{"skew-y":[F]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ee]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ee]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ee]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[ci,Ji,ry]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},a7=$8(o7);function et(...t){return a7(P8(t))}const l7=I8,tD=y.forwardRef(({className:t,...e},n)=>v.jsx(HN,{ref:n,className:et("inline-flex min-h-10 items-center justify-center rounded-tl-md rounded-tr-md bg-muted px-4 py-3 text-muted-foreground",t),...e}));tD.displayName=HN.displayName;const nD=y.forwardRef(({className:t,...e},n)=>v.jsx(GN,{ref:n,className:et("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-2 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));nD.displayName=GN.displayName;const rD=y.forwardRef(({className:t,...e},n)=>v.jsx(qN,{ref:n,className:et("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));rD.displayName=qN.displayName;const u7=[{tabValue:"knowledgeBase",tabName:"Knowledge Base"},{tabValue:"knowledgeEntry",tabName:"Knowledge Entry"},{tabValue:"entryDetails",tabName:"Entry Details"}],c7={knowledgeBase:j3,knowledgeEntry:D3,entryDetails:z3},d7=({tabs:t})=>v.jsx(tD,{className:"grid w-full grid-cols-3 bg-heading",children:t.map(({tabName:e,tabValue:n})=>{const r=c7[n];return v.jsxs(nD,{value:n,className:"data-[state=active]:bg-primary data-[state=active]:text-white",children:[v.jsx(r,{className:"size-5 mr-2"}),v.jsx("p",{className:"hidden md:block",children:e})]},e)})});var h7="DismissableLayer",Bv="dismissableLayer.update",f7="dismissableLayer.pointerDownOutside",p7="dismissableLayer.focusOutside",Fb,iD=y.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),P_=y.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...l}=t,u=y.useContext(iD),[d,h]=y.useState(null),f=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=y.useState({}),T=vt(e,C=>h(C)),g=Array.from(u.layers),[x]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),E=g.indexOf(x),_=d?g.indexOf(d):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,I=_>=E,N=y7(C=>{const w=C.target,R=[...u.branches].some(A=>A.contains(w));!I||R||(i==null||i(C),o==null||o(C),C.defaultPrevented||a==null||a())},f),F=v7(C=>{const w=C.target;[...u.branches].some(A=>A.contains(w))||(s==null||s(C),o==null||o(C),C.defaultPrevented||a==null||a())},f);return UP(C=>{_===u.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&a&&(C.preventDefault(),a()))},f),y.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Fb=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),jb(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=Fb)}},[d,f,n,u]),y.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),jb())},[d,u]),y.useEffect(()=>{const C=()=>p({});return document.addEventListener(Bv,C),()=>document.removeEventListener(Bv,C)},[]),v.jsx(je.div,{...l,ref:T,style:{pointerEvents:b?I?"auto":"none":void 0,...t.style},onFocusCapture:ue(t.onFocusCapture,F.onFocusCapture),onBlurCapture:ue(t.onBlurCapture,F.onBlurCapture),onPointerDownCapture:ue(t.onPointerDownCapture,N.onPointerDownCapture)})});P_.displayName=h7;var m7="DismissableLayerBranch",g7=y.forwardRef((t,e)=>{const n=y.useContext(iD),r=y.useRef(null),i=vt(e,r);return y.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),v.jsx(je.div,{...t,ref:i})});g7.displayName=m7;function y7(t,e=globalThis==null?void 0:globalThis.document){const n=Hn(t),r=y.useRef(!1),i=y.useRef(()=>{});return y.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let l=function(){sD(f7,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function v7(t,e=globalThis==null?void 0:globalThis.document){const n=Hn(t),r=y.useRef(!1);return y.useEffect(()=>{const i=s=>{s.target&&!r.current&&sD(p7,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function jb(){const t=new CustomEvent(Bv);document.dispatchEvent(t)}function sD(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?N0(i,s):i.dispatchEvent(s)}var w7="Portal",oD=y.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[i,s]=y.useState(!1);Li(()=>s(!0),[]);const o=n||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?vI.createPortal(v.jsx(je.div,{...r,ref:e}),o):null});oD.displayName=w7;var _7="VisuallyHidden",aD=y.forwardRef((t,e)=>v.jsx(je.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));aD.displayName=_7;var E7=aD,[xm,ree]=Xl("Tooltip",[sm]),Sm=sm(),lD="TooltipProvider",T7=700,$v="tooltip.open",[x7,A_]=xm(lD),uD=t=>{const{__scopeTooltip:e,delayDuration:n=T7,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:s}=t,[o,a]=y.useState(!0),l=y.useRef(!1),u=y.useRef(0);return y.useEffect(()=>{const d=u.current;return()=>window.clearTimeout(d)},[]),v.jsx(x7,{scope:e,isOpenDelayed:o,delayDuration:n,onOpen:y.useCallback(()=>{window.clearTimeout(u.current),a(!1)},[]),onClose:y.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>a(!0),r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:y.useCallback(d=>{l.current=d},[]),disableHoverableContent:i,children:s})};uD.displayName=lD;var bm="Tooltip",[S7,Cm]=xm(bm),cD=t=>{const{__scopeTooltip:e,children:n,open:r,defaultOpen:i=!1,onOpenChange:s,disableHoverableContent:o,delayDuration:a}=t,l=A_(bm,t.__scopeTooltip),u=Sm(e),[d,h]=y.useState(null),f=Vs(),p=y.useRef(0),T=o??l.disableHoverableContent,g=a??l.delayDuration,x=y.useRef(!1),[E=!1,_]=Nd({prop:r,defaultProp:i,onChange:C=>{C?(l.onOpen(),document.dispatchEvent(new CustomEvent($v))):l.onClose(),s==null||s(C)}}),b=y.useMemo(()=>E?x.current?"delayed-open":"instant-open":"closed",[E]),I=y.useCallback(()=>{window.clearTimeout(p.current),x.current=!1,_(!0)},[_]),N=y.useCallback(()=>{window.clearTimeout(p.current),_(!1)},[_]),F=y.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{x.current=!0,_(!0)},g)},[g,_]);return y.useEffect(()=>()=>window.clearTimeout(p.current),[]),v.jsx(uA,{...u,children:v.jsx(S7,{scope:e,contentId:f,open:E,stateAttribute:b,trigger:d,onTriggerChange:h,onTriggerEnter:y.useCallback(()=>{l.isOpenDelayed?F():I()},[l.isOpenDelayed,F,I]),onTriggerLeave:y.useCallback(()=>{T?N():window.clearTimeout(p.current)},[N,T]),onOpen:I,onClose:N,disableHoverableContent:T,children:n})})};cD.displayName=bm;var zv="TooltipTrigger",dD=y.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=Cm(zv,n),s=A_(zv,n),o=Sm(n),a=y.useRef(null),l=vt(e,a,i.onTriggerChange),u=y.useRef(!1),d=y.useRef(!1),h=y.useCallback(()=>u.current=!1,[]);return y.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),v.jsx(cA,{asChild:!0,...o,children:v.jsx(je.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:l,onPointerMove:ue(t.onPointerMove,f=>{f.pointerType!=="touch"&&!d.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),d.current=!0)}),onPointerLeave:ue(t.onPointerLeave,()=>{i.onTriggerLeave(),d.current=!1}),onPointerDown:ue(t.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:ue(t.onFocus,()=>{u.current||i.onOpen()}),onBlur:ue(t.onBlur,i.onClose),onClick:ue(t.onClick,i.onClose)})})});dD.displayName=zv;var b7="TooltipPortal",[iee,C7]=xm(b7,{forceMount:void 0}),Ol="TooltipContent",hD=y.forwardRef((t,e)=>{const n=C7(Ol,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...s}=t,o=Cm(Ol,t.__scopeTooltip);return v.jsx(nu,{present:r||o.open,children:o.disableHoverableContent?v.jsx(fD,{side:i,...s,ref:e}):v.jsx(R7,{side:i,...s,ref:e})})}),R7=y.forwardRef((t,e)=>{const n=Cm(Ol,t.__scopeTooltip),r=A_(Ol,t.__scopeTooltip),i=y.useRef(null),s=vt(e,i),[o,a]=y.useState(null),{trigger:l,onClose:u}=n,d=i.current,{onPointerInTransitChange:h}=r,f=y.useCallback(()=>{a(null),h(!1)},[h]),p=y.useCallback((T,g)=>{const x=T.currentTarget,E={x:T.clientX,y:T.clientY},_=k7(E,x.getBoundingClientRect()),b=N7(E,_),I=D7(g.getBoundingClientRect()),N=O7([...b,...I]);a(N),h(!0)},[h]);return y.useEffect(()=>()=>f(),[f]),y.useEffect(()=>{if(l&&d){const T=x=>p(x,d),g=x=>p(x,l);return l.addEventListener("pointerleave",T),d.addEventListener("pointerleave",g),()=>{l.removeEventListener("pointerleave",T),d.removeEventListener("pointerleave",g)}}},[l,d,p,f]),y.useEffect(()=>{if(o){const T=g=>{const x=g.target,E={x:g.clientX,y:g.clientY},_=(l==null?void 0:l.contains(x))||(d==null?void 0:d.contains(x)),b=!M7(E,o);_?f():b&&(f(),u())};return document.addEventListener("pointermove",T),()=>document.removeEventListener("pointermove",T)}},[l,d,o,u,f]),v.jsx(fD,{...t,ref:s})}),[I7,P7]=xm(bm,{isInside:!1}),fD=y.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:o,...a}=t,l=Cm(Ol,n),u=Sm(n),{onClose:d}=l;return y.useEffect(()=>(document.addEventListener($v,d),()=>document.removeEventListener($v,d)),[d]),y.useEffect(()=>{if(l.trigger){const h=f=>{const p=f.target;p!=null&&p.contains(l.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[l.trigger,d]),v.jsx(P_,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:v.jsxs(dA,{"data-state":l.stateAttribute,...u,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[v.jsx(FP,{children:r}),v.jsx(I7,{scope:n,isInside:!0,children:v.jsx(E7,{id:l.contentId,role:"tooltip",children:i||r})})]})})});hD.displayName=Ol;var pD="TooltipArrow",A7=y.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=Sm(n);return P7(pD,n).isInside?null:v.jsx(hA,{...i,...r,ref:e})});A7.displayName=pD;function k7(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(n,r,i,s)){case s:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function N7(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function D7(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function M7(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s].x,l=e[s].y,u=e[o].x,d=e[o].y;l>r!=d>r&&n<(u-a)*(r-l)/(d-l)+a&&(i=!i)}return i}function O7(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),L7(e)}function L7(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const s=n[n.length-1],o=n[n.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var V7=uD,F7=cD,j7=dD,mD=hD;const U7=V7,B7=F7,$7=j7,gD=y.forwardRef(({className:t,sideOffset:e=4,...n},r)=>v.jsx(mD,{ref:r,sideOffset:e,className:et("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));gD.displayName=mD.displayName;const k_=({label:t,htmlFor:e,tooltip:n})=>v.jsx(U7,{children:v.jsxs(B7,{children:[v.jsx($7,{asChild:!0,children:v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx("label",{htmlFor:e,className:"cursor-pointer font-medium ",children:t}),v.jsx(OP,{className:"size-4 text-[#64748b] cursor-pointer"})]})}),v.jsx(gD,{className:"max-w-xs",children:v.jsx("p",{children:n})})]})}),Nn=y.forwardRef(({className:t,type:e,...n},r)=>v.jsx("input",{type:e,className:et("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...n}));Nn.displayName="Input";const z7={entry:"ENTRY",base:"BASE"},W7="A unique action or purpose the user wants to achieve",K7="Example phrases the bot associates with the intent during training",H7="The bot's response to the query",G7=8,q7={1:"Base",2:"Entry",3:"Verify"},Q7={1:"Entry",2:"Verify"},lt=Yl((t,e)=>({formData:{knowledgeBaseName:"",intent:"",documents:[""],answer:""},setFormData:(n,r)=>{t(i=>({formData:{...i.formData,[n]:r}}))},setDocuments:(n,r)=>{const i=e().formData.documents;i[r]=n,t(s=>({formData:{...s.formData,documents:i}}))},addDocument:()=>{e().formData.documents.length>=G7||t(n=>({formData:{...n.formData,documents:[...n.formData.documents,""]}}))},removeDocument:n=>{const r=e().formData.documents;if(r.length===1)throw new Error("Documents cannot be empty");r.splice(n,1),t(i=>({formData:{...i.formData,documents:r}}))},clearFormData:()=>{t(()=>({formData:{knowledgeBaseName:"",intent:"",documents:[""],answer:""}}))}})),Y7=()=>{const{intent:t}=lt(n=>n.formData),e=lt(n=>n.setFormData);return v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"w-fit",children:v.jsx(k_,{label:"Intent",htmlFor:"intent",tooltip:W7})}),v.jsx(Nn,{id:"intent",placeholder:"Enter intent",value:t,className:"mt-1",onChange:n=>e("intent",n.target.value)})]})};function yD(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=yD(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function X7(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=yD(t))&&(r&&(r+=" "),r+=e);return r}const Ub=t=>typeof t=="boolean"?"".concat(t):t===0?"0":t,Bb=X7,Rm=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return Bb(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(u=>{const d=n==null?void 0:n[u],h=s==null?void 0:s[u];if(d===null)return null;const f=Ub(d)||Ub(h);return i[u][f]}),a=n&&Object.entries(n).reduce((u,d)=>{let[h,f]=d;return f===void 0||(u[h]=f),u},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:h,className:f,...p}=d;return Object.entries(p).every(T=>{let[g,x]=T;return Array.isArray(x)?x.includes({...s,...a}[g]):{...s,...a}[g]===x})?[...u,h,f]:u},[]);return Bb(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)},J7=Rm("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Lt=y.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},s)=>{const o=r?Yo:"button";return v.jsx(o,{className:et(J7({variant:e,size:n,className:t})),ref:s,...i})});Lt.displayName="Button";const Im=y.forwardRef(({className:t,...e},n)=>v.jsx("div",{ref:n,className:et("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));Im.displayName="Card";const vD=y.forwardRef(({className:t,...e},n)=>v.jsx("div",{ref:n,className:et("flex flex-col space-y-1.5 p-6",t),...e}));vD.displayName="CardHeader";const wD=y.forwardRef(({className:t,...e},n)=>v.jsx("h3",{ref:n,className:et("text-2xl font-semibold leading-none tracking-tight",t),...e}));wD.displayName="CardTitle";const _D=y.forwardRef(({className:t,...e},n)=>v.jsx("p",{ref:n,className:et("text-sm text-muted-foreground",t),...e}));_D.displayName="CardDescription";const Pm=y.forwardRef(({className:t,...e},n)=>v.jsx("div",{ref:n,className:et("p-6 pt-0",t),...e}));Pm.displayName="CardContent";const ED=y.forwardRef(({className:t,...e},n)=>v.jsx("div",{ref:n,className:et("flex items-center p-6 pt-0",t),...e}));ED.displayName="CardFooter";const Z7=()=>{var s;const t=lt(o=>o.formData),e=lt(o=>o.setDocuments),n=lt(o=>o.addDocument),r=lt(o=>o.removeDocument),i=async o=>{try{if(!t.intent)return;if(t.documents.length===1)return window.alert("Documents cannot be empty");r(o)}catch(a){console.error(a)}};return v.jsxs("div",{children:[v.jsx("div",{className:"w-fit",children:v.jsx(k_,{label:"Document",htmlFor:"document",tooltip:K7})}),v.jsx("div",{className:"space-y-2 mt-1",children:(s=t.documents)==null?void 0:s.map((o,a)=>v.jsx(Im,{className:"w-full hover:bg-accent transition-colors",children:v.jsxs(Pm,{className:"p-4 w-full flex items-center justify-between-",children:[v.jsx("div",{className:"flex w-full items-center space-x-4",children:v.jsx("input",{value:o,id:"document",className:"text-sm bg-transparent outline-none w-full py-2",placeholder:"Enter document",onChange:l=>e(l.target.value,a)})}),v.jsx("div",{className:"flex space-x-2",children:v.jsxs(Lt,{variant:"ghost",size:"icon",onClick:async()=>{await i(a)},children:[v.jsx(LP,{className:"size-5 font-bold hover:text-red-600 ease-in",strokeWidth:2}),v.jsx("span",{className:"sr-only",children:"Delete"})]})})]})},a))}),v.jsxs(Lt,{variant:"outline",size:"sm",className:"mt-2",onClick:n,disabled:!t.intent,children:[v.jsx(em,{className:"w-4 h-4 mr-2"})," Add Document"]})]})},eG=()=>{const{answer:t}=lt(n=>n.formData),e=lt(n=>n.setFormData);return v.jsxs("div",{children:[v.jsx("div",{className:"w-fit",children:v.jsx(k_,{label:"Answer",htmlFor:"answer",tooltip:H7})}),v.jsx("textarea",{id:"answer",placeholder:"Enter answer",className:"w-full mt-1 p-2 border rounded-md text-sm outline-none",rows:3,value:t,onChange:n=>e(n.target.name,n.target.value)})]})},TD=t=>{const{knowledgeBaseName:e,...n}=t;return{knowledgeBaseName:e,knowledgeEntry:n}},tG=async()=>{const{success:t,knowledgeBase:e}=await uk("/api/knowledge/base");if(!t)throw new Error("Failed to fetch knowledge collection");return e},nG=async t=>{const{success:e,knowledgeEntry:n}=await uk(`/api/knowledge/${t}`);if(!e)throw new Error(`Failed to fetch knowledge base ${t} entry`);return n},rG=async t=>{const e=TD(t),{success:n,message:r}=await hm("/api/knowledge",{},e);if(!n)throw new Error(r);return r},iG=async t=>{const e=TD(t),{success:n,message:r}=await hm("/api/knowledge/entry",{},e);if(!n)throw new Error(r)},$b=async(t,e)=>{const n={knowledgeEntryIntent:t,knowledgeEntry:e},{success:r,message:i}=await B5("/api/knowledge/entry",{},n);if(!r)throw new Error(i)},pr=Yl(t=>({knowledgeCollection:{},knowledgeBaseNameList:null,selectedKnowledgeBaseEntryList:null,selectedKnowledgeBaseName:"",selectedKnowledgeEntry:null,updateKnowledgeCollection:e=>{t(()=>({knowledgeCollection:e}))},setKnowledgeBaseNameList:e=>{t(()=>({knowledgeBaseNameList:e}))},setSelectedKnowledgeBaseEntryList:e=>{t(()=>({selectedKnowledgeBaseEntryList:e}))},setSelectedKnowledgeBaseName:e=>{t(()=>({selectedKnowledgeBaseName:e}))},setSelectedKnowledgeEntry:e=>{t(()=>({selectedKnowledgeEntry:e}))}})),zb=(t,e)=>{const n=new Set([...Object.keys(t),...Object.keys(e)]);return Array.from(n).reduce((r,i)=>{if(t[i]instanceof Array&&e[i]instanceof Array){t[i].forEach((a,l)=>{if(a!==e[i][l]){r[i]||(r[i]=[]);const u={index:l,value:e[i][l]};r[i].push(u)}});const s=t[i].length,o=e[i].length;if(s<o){r.newDocuments=[];for(let a=s;a<o;a++)e[i][a]&&r.newDocuments.push(e[i][a])}return r}return t[i]!==e[i]&&(r[i]=e[i]),r},{})},Wb=t=>t===""||t===null||t===void 0||typeof t=="object"&&Object.keys(t).length===0||Array.isArray(t)&&t.length===0,sG=()=>{const t=pr(u=>u.selectedKnowledgeEntry),e=pr(u=>u.setSelectedKnowledgeEntry),n=lt(u=>u.setFormData),r=lt(u=>u.formData),i=lt(u=>u.setDocuments),s=lt(u=>u.clearFormData),[o,a]=y.useState(!0);y.useEffect(()=>{if(!t)return;const{knowledgeBaseName:u,...d}=r,h=zb(t,d);a(Wb(h))},[r,t]),y.useEffect(()=>{if(!t)return;const{intent:u,documents:d,answer:h}=t;return n("intent",u),d.forEach((f,p)=>{i(f,p)}),n("answer",h),()=>{s()}},[t]);const l=y.useCallback(async()=>{if(!t)return;const{knowledgeBaseName:u,...d}=r,h=zb(t,d);if(!Wb(h))try{await $b(t.intent,d),e(d)}catch(f){console.error("Error updating knowledge entry:",f)}},[t,r,$b,e]);return{isDisabled:o,handleSubmitForm:l}},oG=()=>{const{handleSubmitForm:t,isDisabled:e}=sG();return v.jsx(rD,{value:"entryDetails",className:"mt-2",children:v.jsx("div",{className:"h-[450px] w-full overflow-y-auto text-sm scrollbar-slim",children:v.jsxs("div",{className:"space-y-3 px-4 pb-4",children:[v.jsx(Y7,{}),v.jsx(Z7,{}),v.jsx(eG,{}),v.jsx(Lt,{variant:"default",disabled:e,onClick:async()=>await t(),children:"Save"})]})})})},aG=({intent:t,onItemClick:e})=>{const n=pr(r=>r.selectedKnowledgeEntry);return v.jsx("div",{className:`p-2 rounded-md cursor-pointer ${(n==null?void 0:n.intent)===t?"bg-lightGray":"hover:bg-lightGray-darker"}`,onClick:e,children:t})},lG=({knowledgeEntries:t,handleTabChange:e})=>{const n=pr(i=>i.setSelectedKnowledgeEntry),r=i=>{n(i),e("entryDetails")};return v.jsx("div",{className:"space-y-1",children:t==null?void 0:t.map((i,s)=>v.jsx(aG,{intent:i.intent,onItemClick:()=>r(i)},s))})},xD=["knowledgeBaseList"],Wv=["knowledgeEntry"];var iu=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Ll=typeof window>"u"||"Deno"in globalThis;function rr(){}function uG(t,e){return typeof t=="function"?t(e):t}function Kv(t){return typeof t=="number"&&t>=0&&t!==1/0}function SD(t,e){return Math.max(t+(e||0)-Date.now(),0)}function ol(t,e){return typeof t=="function"?t(e):t}function Ir(t,e){return typeof t=="function"?t(e):t}function Kb(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==N_(o,e.options))return!1}else if(!Xc(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||i&&i!==e.state.fetchStatus||s&&!s(e))}function Hb(t,e){const{exact:n,status:r,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(n){if(Jo(e.options.mutationKey)!==Jo(s))return!1}else if(!Xc(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function N_(t,e){return((e==null?void 0:e.queryKeyHashFn)||Jo)(t)}function Jo(t){return JSON.stringify(t,(e,n)=>Hv(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function Xc(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!Xc(t[n],e[n])):!1}function bD(t,e){if(t===e)return t;const n=Gb(t)&&Gb(e);if(n||Hv(t)&&Hv(e)){const r=n?t:Object.keys(t),i=r.length,s=n?e:Object.keys(e),o=s.length,a=n?[]:{};let l=0;for(let u=0;u<o;u++){const d=n?u:s[u];(!n&&r.includes(d)||n)&&t[d]===void 0&&e[d]===void 0?(a[d]=void 0,l++):(a[d]=bD(t[d],e[d]),a[d]===t[d]&&t[d]!==void 0&&l++)}return i===o&&l===i?t:a}return e}function yp(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function Gb(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Hv(t){if(!qb(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!qb(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function qb(t){return Object.prototype.toString.call(t)==="[object Object]"}function cG(t){return new Promise(e=>{setTimeout(e,t)})}function Gv(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?bD(t,e):e}function dG(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function hG(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var CD=Symbol();function RD(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===CD?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Ao,fs,ll,qC,fG=(qC=class extends iu{constructor(){super();se(this,Ao,void 0);se(this,fs,void 0);se(this,ll,void 0);Z(this,ll,e=>{if(!Ll&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){L(this,fs)||this.setEventListener(L(this,ll))}onUnsubscribe(){var e;this.hasListeners()||((e=L(this,fs))==null||e.call(this),Z(this,fs,void 0))}setEventListener(e){var n;Z(this,ll,e),(n=L(this,fs))==null||n.call(this),Z(this,fs,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){L(this,Ao)!==e&&(Z(this,Ao,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof L(this,Ao)=="boolean"?L(this,Ao):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Ao=new WeakMap,fs=new WeakMap,ll=new WeakMap,qC),D_=new fG,ul,ps,cl,QC,pG=(QC=class extends iu{constructor(){super();se(this,ul,!0);se(this,ps,void 0);se(this,cl,void 0);Z(this,cl,e=>{if(!Ll&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){L(this,ps)||this.setEventListener(L(this,cl))}onUnsubscribe(){var e;this.hasListeners()||((e=L(this,ps))==null||e.call(this),Z(this,ps,void 0))}setEventListener(e){var n;Z(this,cl,e),(n=L(this,ps))==null||n.call(this),Z(this,ps,e(this.setOnline.bind(this)))}setOnline(e){L(this,ul)!==e&&(Z(this,ul,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return L(this,ul)}},ul=new WeakMap,ps=new WeakMap,cl=new WeakMap,QC),vp=new pG;function mG(t){return Math.min(1e3*2**t,3e4)}function ID(t){return(t??"online")==="online"?vp.isOnline():!0}var PD=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function iy(t){return t instanceof PD}function AD(t){let e=!1,n=0,r=!1,i,s,o;const a=new Promise((E,_)=>{s=E,o=_}),l=E=>{var _;r||(T(new PD(E)),(_=t.abort)==null||_.call(t))},u=()=>{e=!0},d=()=>{e=!1},h=()=>D_.isFocused()&&(t.networkMode==="always"||vp.isOnline())&&t.canRun(),f=()=>ID(t.networkMode)&&t.canRun(),p=E=>{var _;r||(r=!0,(_=t.onSuccess)==null||_.call(t,E),i==null||i(),s(E))},T=E=>{var _;r||(r=!0,(_=t.onError)==null||_.call(t,E),i==null||i(),o(E))},g=()=>new Promise(E=>{var _;i=b=>{(r||h())&&E(b)},(_=t.onPause)==null||_.call(t)}).then(()=>{var E;i=void 0,r||(E=t.onContinue)==null||E.call(t)}),x=()=>{if(r)return;let E;const _=n===0?t.initialPromise:void 0;try{E=_??t.fn()}catch(b){E=Promise.reject(b)}Promise.resolve(E).then(p).catch(b=>{var w;if(r)return;const I=t.retry??(Ll?0:3),N=t.retryDelay??mG,F=typeof N=="function"?N(n,b):N,C=I===!0||typeof I=="number"&&n<I||typeof I=="function"&&I(n,b);if(e||!C){T(b);return}n++,(w=t.onFail)==null||w.call(t,n,b),cG(F).then(()=>h()?void 0:g()).then(()=>{e?T(b):x()})})};return{promise:a,cancel:l,continue:()=>(i==null||i(),a),cancelRetry:u,continueRetry:d,canStart:f,start:()=>(f()?x():g().then(x),a)}}function gG(){let t=[],e=0,n=f=>{f()},r=f=>{f()},i=f=>setTimeout(f,0);const s=f=>{i=f},o=f=>{let p;e++;try{p=f()}finally{e--,e||u()}return p},a=f=>{e?t.push(f):i(()=>{n(f)})},l=f=>(...p)=>{a(()=>{f(...p)})},u=()=>{const f=t;t=[],f.length&&i(()=>{r(()=>{f.forEach(p=>{n(p)})})})};return{batch:o,batchCalls:l,schedule:a,setNotifyFunction:f=>{n=f},setBatchNotifyFunction:f=>{r=f},setScheduler:s}}var Dt=gG(),ko,YC,kD=(YC=class{constructor(){se(this,ko,void 0)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Kv(this.gcTime)&&Z(this,ko,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Ll?1/0:5*60*1e3))}clearGcTimeout(){L(this,ko)&&(clearTimeout(L(this,ko)),Z(this,ko,void 0))}},ko=new WeakMap,YC),dl,hl,nr,sn,od,No,Sr,di,XC,yG=(XC=class extends kD{constructor(n){super();se(this,Sr);se(this,dl,void 0);se(this,hl,void 0);se(this,nr,void 0);se(this,sn,void 0);se(this,od,void 0);se(this,No,void 0);Z(this,No,!1),Z(this,od,n.defaultOptions),this.setOptions(n.options),this.observers=[],Z(this,nr,n.cache),this.queryKey=n.queryKey,this.queryHash=n.queryHash,Z(this,dl,vG(this.options)),this.state=n.state??L(this,dl),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=L(this,sn))==null?void 0:n.promise}setOptions(n){this.options={...L(this,od),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&L(this,nr).remove(this)}setData(n,r){const i=Gv(this.state.data,n,this.options);return Te(this,Sr,di).call(this,{data:i,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),i}setState(n,r){Te(this,Sr,di).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var i,s;const r=(i=L(this,sn))==null?void 0:i.promise;return(s=L(this,sn))==null||s.cancel(n),r?r.then(rr).catch(rr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(L(this,dl))}isActive(){return this.observers.some(n=>Ir(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(n=0){return this.state.isInvalidated||this.state.data===void 0||!SD(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(i=>i.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=L(this,sn))==null||r.continue()}onOnline(){var r;const n=this.observers.find(i=>i.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=L(this,sn))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),L(this,nr).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(L(this,sn)&&(L(this,No)?L(this,sn).cancel({revert:!0}):L(this,sn).cancelRetry()),this.scheduleGc()),L(this,nr).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Te(this,Sr,di).call(this,{type:"invalidate"})}fetch(n,r){var u,d,h;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(L(this,sn))return L(this,sn).continueRetry(),L(this,sn).promise}if(n&&this.setOptions(n),!this.options.queryFn){const f=this.observers.find(p=>p.options.queryFn);f&&this.setOptions(f.options)}const i=new AbortController,s=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(Z(this,No,!0),i.signal)})},o=()=>{const f=RD(this.options,r),p={queryKey:this.queryKey,meta:this.meta};return s(p),Z(this,No,!1),this.options.persister?this.options.persister(f,p,this):f(p)},a={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};s(a),(u=this.options.behavior)==null||u.onFetch(a,this),Z(this,hl,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=a.fetchOptions)==null?void 0:d.meta))&&Te(this,Sr,di).call(this,{type:"fetch",meta:(h=a.fetchOptions)==null?void 0:h.meta});const l=f=>{var p,T,g,x;iy(f)&&f.silent||Te(this,Sr,di).call(this,{type:"error",error:f}),iy(f)||((T=(p=L(this,nr).config).onError)==null||T.call(p,f,this),(x=(g=L(this,nr).config).onSettled)==null||x.call(g,this.state.data,f,this)),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return Z(this,sn,AD({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,abort:i.abort.bind(i),onSuccess:f=>{var p,T,g,x;if(f===void 0){l(new Error(`${this.queryHash} data is undefined`));return}this.setData(f),(T=(p=L(this,nr).config).onSuccess)==null||T.call(p,f,this),(x=(g=L(this,nr).config).onSettled)==null||x.call(g,f,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:l,onFail:(f,p)=>{Te(this,Sr,di).call(this,{type:"failed",failureCount:f,error:p})},onPause:()=>{Te(this,Sr,di).call(this,{type:"pause"})},onContinue:()=>{Te(this,Sr,di).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),L(this,sn).start()}},dl=new WeakMap,hl=new WeakMap,nr=new WeakMap,sn=new WeakMap,od=new WeakMap,No=new WeakMap,Sr=new WeakSet,di=function(n){const r=i=>{switch(n.type){case"failed":return{...i,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...ND(i.data,this.options),fetchMeta:n.meta??null};case"success":return{...i,data:n.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=n.error;return iy(s)&&s.revert&&L(this,hl)?{...L(this,hl),fetchStatus:"idle"}:{...i,error:s,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...n.state}}};this.state=r(this.state),Dt.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),L(this,nr).notify({query:this,type:"updated",action:n})})},XC);function ND(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:ID(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function vG(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Ur,JC,wG=(JC=class extends iu{constructor(e={}){super();se(this,Ur,void 0);this.config=e,Z(this,Ur,new Map)}build(e,n,r){const i=n.queryKey,s=n.queryHash??N_(i,n);let o=this.get(s);return o||(o=new yG({cache:this,queryKey:i,queryHash:s,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){L(this,Ur).has(e.queryHash)||(L(this,Ur).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=L(this,Ur).get(e.queryHash);n&&(e.destroy(),n===e&&L(this,Ur).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Dt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return L(this,Ur).get(e)}getAll(){return[...L(this,Ur).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>Kb(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>Kb(e,r)):n}notify(e){Dt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Dt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Dt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Ur=new WeakMap,JC),Br,vn,Do,$r,rs,ZC,_G=(ZC=class extends kD{constructor(n){super();se(this,$r);se(this,Br,void 0);se(this,vn,void 0);se(this,Do,void 0);this.mutationId=n.mutationId,Z(this,vn,n.mutationCache),Z(this,Br,[]),this.state=n.state||DD(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){L(this,Br).includes(n)||(L(this,Br).push(n),this.clearGcTimeout(),L(this,vn).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){Z(this,Br,L(this,Br).filter(r=>r!==n)),this.scheduleGc(),L(this,vn).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){L(this,Br).length||(this.state.status==="pending"?this.scheduleGc():L(this,vn).remove(this))}continue(){var n;return((n=L(this,Do))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var s,o,a,l,u,d,h,f,p,T,g,x,E,_,b,I,N,F,C,w;Z(this,Do,AD({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(R,A)=>{Te(this,$r,rs).call(this,{type:"failed",failureCount:R,error:A})},onPause:()=>{Te(this,$r,rs).call(this,{type:"pause"})},onContinue:()=>{Te(this,$r,rs).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>L(this,vn).canRun(this)}));const r=this.state.status==="pending",i=!L(this,Do).canStart();try{if(!r){Te(this,$r,rs).call(this,{type:"pending",variables:n,isPaused:i}),await((o=(s=L(this,vn).config).onMutate)==null?void 0:o.call(s,n,this));const A=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,n));A!==this.state.context&&Te(this,$r,rs).call(this,{type:"pending",context:A,variables:n,isPaused:i})}const R=await L(this,Do).start();return await((d=(u=L(this,vn).config).onSuccess)==null?void 0:d.call(u,R,n,this.state.context,this)),await((f=(h=this.options).onSuccess)==null?void 0:f.call(h,R,n,this.state.context)),await((T=(p=L(this,vn).config).onSettled)==null?void 0:T.call(p,R,null,this.state.variables,this.state.context,this)),await((x=(g=this.options).onSettled)==null?void 0:x.call(g,R,null,n,this.state.context)),Te(this,$r,rs).call(this,{type:"success",data:R}),R}catch(R){try{throw await((_=(E=L(this,vn).config).onError)==null?void 0:_.call(E,R,n,this.state.context,this)),await((I=(b=this.options).onError)==null?void 0:I.call(b,R,n,this.state.context)),await((F=(N=L(this,vn).config).onSettled)==null?void 0:F.call(N,void 0,R,this.state.variables,this.state.context,this)),await((w=(C=this.options).onSettled)==null?void 0:w.call(C,void 0,R,n,this.state.context)),R}finally{Te(this,$r,rs).call(this,{type:"error",error:R})}}finally{L(this,vn).runNext(this)}}},Br=new WeakMap,vn=new WeakMap,Do=new WeakMap,$r=new WeakSet,rs=function(n){const r=i=>{switch(n.type){case"failed":return{...i,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...i,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:n.error,failureCount:i.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Dt.batch(()=>{L(this,Br).forEach(i=>{i.onMutationUpdate(n)}),L(this,vn).notify({mutation:this,type:"updated",action:n})})},ZC);function DD(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Vn,ad,e1,EG=(e1=class extends iu{constructor(e={}){super();se(this,Vn,void 0);se(this,ad,void 0);this.config=e,Z(this,Vn,new Map),Z(this,ad,Date.now())}build(e,n,r){const i=new _G({mutationCache:this,mutationId:++uh(this,ad)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){const n=Uh(e),r=L(this,Vn).get(n)??[];r.push(e),L(this,Vn).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=Uh(e);if(L(this,Vn).has(n)){const i=(r=L(this,Vn).get(n))==null?void 0:r.filter(s=>s!==e);i&&(i.length===0?L(this,Vn).delete(n):L(this,Vn).set(n,i))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=L(this,Vn).get(Uh(e)))==null?void 0:r.find(i=>i.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=L(this,Vn).get(Uh(e)))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){Dt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...L(this,Vn).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>Hb(n,r))}findAll(e={}){return this.getAll().filter(n=>Hb(e,n))}notify(e){Dt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Dt.batch(()=>Promise.all(e.map(n=>n.continue().catch(rr))))}},Vn=new WeakMap,ad=new WeakMap,e1);function Uh(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function TG(t){return{onFetch:(e,n)=>{const r=async()=>{var T,g,x,E,_;const i=e.options,s=(x=(g=(T=e.fetchOptions)==null?void 0:T.meta)==null?void 0:g.fetchMore)==null?void 0:x.direction,o=((E=e.state.data)==null?void 0:E.pages)||[],a=((_=e.state.data)==null?void 0:_.pageParams)||[],l={pages:[],pageParams:[]};let u=!1;const d=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(e.signal.aborted?u=!0:e.signal.addEventListener("abort",()=>{u=!0}),e.signal)})},h=RD(e.options,e.fetchOptions),f=async(b,I,N)=>{if(u)return Promise.reject();if(I==null&&b.pages.length)return Promise.resolve(b);const F={queryKey:e.queryKey,pageParam:I,direction:N?"backward":"forward",meta:e.options.meta};d(F);const C=await h(F),{maxPages:w}=e.options,R=N?hG:dG;return{pages:R(b.pages,C,w),pageParams:R(b.pageParams,I,w)}};let p;if(s&&o.length){const b=s==="backward",I=b?xG:Qb,N={pages:o,pageParams:a},F=I(i,N);p=await f(N,F,b)}else{p=await f(l,a[0]??i.initialPageParam);const b=t??o.length;for(let I=1;I<b;I++){const N=Qb(i,p);if(N==null)break;p=await f(p,N)}}return p};e.options.persister?e.fetchFn=()=>{var i,s;return(s=(i=e.options).persister)==null?void 0:s.call(i,r,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=r}}}function Qb(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function xG(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var mt,ms,gs,fl,pl,ys,ml,gl,t1,SG=(t1=class{constructor(t={}){se(this,mt,void 0);se(this,ms,void 0);se(this,gs,void 0);se(this,fl,void 0);se(this,pl,void 0);se(this,ys,void 0);se(this,ml,void 0);se(this,gl,void 0);Z(this,mt,t.queryCache||new wG),Z(this,ms,t.mutationCache||new EG),Z(this,gs,t.defaultOptions||{}),Z(this,fl,new Map),Z(this,pl,new Map),Z(this,ys,0)}mount(){uh(this,ys)._++,L(this,ys)===1&&(Z(this,ml,D_.subscribe(async t=>{t&&(await this.resumePausedMutations(),L(this,mt).onFocus())})),Z(this,gl,vp.subscribe(async t=>{t&&(await this.resumePausedMutations(),L(this,mt).onOnline())})))}unmount(){var t,e;uh(this,ys)._--,L(this,ys)===0&&((t=L(this,ml))==null||t.call(this),Z(this,ml,void 0),(e=L(this,gl))==null||e.call(this),Z(this,gl,void 0))}isFetching(t){return L(this,mt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return L(this,ms).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=L(this,mt).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=L(this,mt).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(ol(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return L(this,mt).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=L(this,mt).get(r.queryHash),s=i==null?void 0:i.state.data,o=uG(e,s);if(o!==void 0)return L(this,mt).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Dt.batch(()=>L(this,mt).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=L(this,mt).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=L(this,mt);Dt.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=L(this,mt),r={type:"active",...t};return Dt.batch(()=>(n.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=Dt.batch(()=>L(this,mt).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(rr).catch(rr)}invalidateQueries(t={},e={}){return Dt.batch(()=>{if(L(this,mt).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=Dt.batch(()=>L(this,mt).findAll(t).filter(i=>!i.isDisabled()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(rr)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(rr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=L(this,mt).build(this,e);return n.isStaleByTime(ol(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(rr).catch(rr)}fetchInfiniteQuery(t){return t.behavior=TG(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(rr).catch(rr)}resumePausedMutations(){return vp.isOnline()?L(this,ms).resumePausedMutations():Promise.resolve()}getQueryCache(){return L(this,mt)}getMutationCache(){return L(this,ms)}getDefaultOptions(){return L(this,gs)}setDefaultOptions(t){Z(this,gs,t)}setQueryDefaults(t,e){L(this,fl).set(Jo(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...L(this,fl).values()];let n={};return e.forEach(r=>{Xc(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){L(this,pl).set(Jo(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...L(this,pl).values()];let n={};return e.forEach(r=>{Xc(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...L(this,gs).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=N_(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===CD&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...L(this,gs).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){L(this,mt).clear(),L(this,ms).clear()}},mt=new WeakMap,ms=new WeakMap,gs=new WeakMap,fl=new WeakMap,pl=new WeakMap,ys=new WeakMap,ml=new WeakMap,gl=new WeakMap,t1),bn,Ae,ld,wn,Mo,yl,zr,ud,vl,wl,Oo,Lo,vs,_l,Vo,Qu,cd,qv,dd,Qv,hd,Yv,fd,Xv,pd,Jv,md,Zv,gd,ew,Ip,MD,n1,bG=(n1=class extends iu{constructor(e,n){super();se(this,Vo);se(this,cd);se(this,dd);se(this,hd);se(this,fd);se(this,pd);se(this,md);se(this,gd);se(this,Ip);se(this,bn,void 0);se(this,Ae,void 0);se(this,ld,void 0);se(this,wn,void 0);se(this,Mo,void 0);se(this,yl,void 0);se(this,zr,void 0);se(this,ud,void 0);se(this,vl,void 0);se(this,wl,void 0);se(this,Oo,void 0);se(this,Lo,void 0);se(this,vs,void 0);se(this,_l,new Set);this.options=n,Z(this,bn,e),Z(this,zr,null),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(L(this,Ae).addObserver(this),Yb(L(this,Ae),this.options)?Te(this,Vo,Qu).call(this):this.updateResult(),Te(this,fd,Xv).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return tw(L(this,Ae),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return tw(L(this,Ae),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Te(this,pd,Jv).call(this),Te(this,md,Zv).call(this),L(this,Ae).removeObserver(this)}setOptions(e,n){const r=this.options,i=L(this,Ae);if(this.options=L(this,bn).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ir(this.options.enabled,L(this,Ae))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Te(this,gd,ew).call(this),L(this,Ae).setOptions(this.options),r._defaulted&&!yp(this.options,r)&&L(this,bn).getQueryCache().notify({type:"observerOptionsUpdated",query:L(this,Ae),observer:this});const s=this.hasListeners();s&&Xb(L(this,Ae),i,this.options,r)&&Te(this,Vo,Qu).call(this),this.updateResult(n),s&&(L(this,Ae)!==i||Ir(this.options.enabled,L(this,Ae))!==Ir(r.enabled,L(this,Ae))||ol(this.options.staleTime,L(this,Ae))!==ol(r.staleTime,L(this,Ae)))&&Te(this,cd,qv).call(this);const o=Te(this,dd,Qv).call(this);s&&(L(this,Ae)!==i||Ir(this.options.enabled,L(this,Ae))!==Ir(r.enabled,L(this,Ae))||o!==L(this,vs))&&Te(this,hd,Yv).call(this,o)}getOptimisticResult(e){const n=L(this,bn).getQueryCache().build(L(this,bn),e),r=this.createResult(n,e);return RG(this,r)&&(Z(this,wn,r),Z(this,yl,this.options),Z(this,Mo,L(this,Ae).state)),r}getCurrentResult(){return L(this,wn)}trackResult(e,n){const r={};return Object.keys(e).forEach(i=>{Object.defineProperty(r,i,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(i),n==null||n(i),e[i])})}),r}trackProp(e){L(this,_l).add(e)}getCurrentQuery(){return L(this,Ae)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=L(this,bn).defaultQueryOptions(e),r=L(this,bn).getQueryCache().build(L(this,bn),n);return r.isFetchingOptimistic=!0,r.fetch().then(()=>this.createResult(r,n))}fetch(e){return Te(this,Vo,Qu).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),L(this,wn)))}createResult(e,n){var C;const r=L(this,Ae),i=this.options,s=L(this,wn),o=L(this,Mo),a=L(this,yl),u=e!==r?e.state:L(this,ld),{state:d}=e;let h={...d},f=!1,p;if(n._optimisticResults){const w=this.hasListeners(),R=!w&&Yb(e,n),A=w&&Xb(e,r,n,i);(R||A)&&(h={...h,...ND(d.data,e.options)}),n._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:T,errorUpdatedAt:g,status:x}=h;if(n.select&&h.data!==void 0)if(s&&h.data===(o==null?void 0:o.data)&&n.select===L(this,ud))p=L(this,vl);else try{Z(this,ud,n.select),p=n.select(h.data),p=Gv(s==null?void 0:s.data,p,n),Z(this,vl,p),Z(this,zr,null)}catch(w){Z(this,zr,w)}else p=h.data;if(n.placeholderData!==void 0&&p===void 0&&x==="pending"){let w;if(s!=null&&s.isPlaceholderData&&n.placeholderData===(a==null?void 0:a.placeholderData))w=s.data;else if(w=typeof n.placeholderData=="function"?n.placeholderData((C=L(this,wl))==null?void 0:C.state.data,L(this,wl)):n.placeholderData,n.select&&w!==void 0)try{w=n.select(w),Z(this,zr,null)}catch(R){Z(this,zr,R)}w!==void 0&&(x="success",p=Gv(s==null?void 0:s.data,w,n),f=!0)}L(this,zr)&&(T=L(this,zr),p=L(this,vl),g=Date.now(),x="error");const E=h.fetchStatus==="fetching",_=x==="pending",b=x==="error",I=_&&E,N=p!==void 0;return{status:x,fetchStatus:h.fetchStatus,isPending:_,isSuccess:x==="success",isError:b,isInitialLoading:I,isLoading:I,data:p,dataUpdatedAt:h.dataUpdatedAt,error:T,errorUpdatedAt:g,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>u.dataUpdateCount||h.errorUpdateCount>u.errorUpdateCount,isFetching:E,isRefetching:E&&!_,isLoadingError:b&&!N,isPaused:h.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:b&&N,isStale:M_(e,n),refetch:this.refetch}}updateResult(e){const n=L(this,wn),r=this.createResult(L(this,Ae),this.options);if(Z(this,Mo,L(this,Ae).state),Z(this,yl,this.options),L(this,Mo).data!==void 0&&Z(this,wl,L(this,Ae)),yp(r,n))return;Z(this,wn,r);const i={},s=()=>{if(!n)return!0;const{notifyOnChangeProps:o}=this.options,a=typeof o=="function"?o():o;if(a==="all"||!a&&!L(this,_l).size)return!0;const l=new Set(a??L(this,_l));return this.options.throwOnError&&l.add("error"),Object.keys(L(this,wn)).some(u=>{const d=u;return L(this,wn)[d]!==n[d]&&l.has(d)})};(e==null?void 0:e.listeners)!==!1&&s()&&(i.listeners=!0),Te(this,Ip,MD).call(this,{...i,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Te(this,fd,Xv).call(this)}},bn=new WeakMap,Ae=new WeakMap,ld=new WeakMap,wn=new WeakMap,Mo=new WeakMap,yl=new WeakMap,zr=new WeakMap,ud=new WeakMap,vl=new WeakMap,wl=new WeakMap,Oo=new WeakMap,Lo=new WeakMap,vs=new WeakMap,_l=new WeakMap,Vo=new WeakSet,Qu=function(e){Te(this,gd,ew).call(this);let n=L(this,Ae).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(rr)),n},cd=new WeakSet,qv=function(){Te(this,pd,Jv).call(this);const e=ol(this.options.staleTime,L(this,Ae));if(Ll||L(this,wn).isStale||!Kv(e))return;const r=SD(L(this,wn).dataUpdatedAt,e)+1;Z(this,Oo,setTimeout(()=>{L(this,wn).isStale||this.updateResult()},r))},dd=new WeakSet,Qv=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(L(this,Ae)):this.options.refetchInterval)??!1},hd=new WeakSet,Yv=function(e){Te(this,md,Zv).call(this),Z(this,vs,e),!(Ll||Ir(this.options.enabled,L(this,Ae))===!1||!Kv(L(this,vs))||L(this,vs)===0)&&Z(this,Lo,setInterval(()=>{(this.options.refetchIntervalInBackground||D_.isFocused())&&Te(this,Vo,Qu).call(this)},L(this,vs)))},fd=new WeakSet,Xv=function(){Te(this,cd,qv).call(this),Te(this,hd,Yv).call(this,Te(this,dd,Qv).call(this))},pd=new WeakSet,Jv=function(){L(this,Oo)&&(clearTimeout(L(this,Oo)),Z(this,Oo,void 0))},md=new WeakSet,Zv=function(){L(this,Lo)&&(clearInterval(L(this,Lo)),Z(this,Lo,void 0))},gd=new WeakSet,ew=function(){const e=L(this,bn).getQueryCache().build(L(this,bn),this.options);if(e===L(this,Ae))return;const n=L(this,Ae);Z(this,Ae,e),Z(this,ld,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},Ip=new WeakSet,MD=function(e){Dt.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(L(this,wn))}),L(this,bn).getQueryCache().notify({query:L(this,Ae),type:"observerResultsUpdated"})})},n1);function CG(t,e){return Ir(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function Yb(t,e){return CG(t,e)||t.state.data!==void 0&&tw(t,e,e.refetchOnMount)}function tw(t,e,n){if(Ir(e.enabled,t)!==!1){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&M_(t,e)}return!1}function Xb(t,e,n,r){return(t!==e||Ir(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&M_(t,n)}function M_(t,e){return Ir(e.enabled,t)!==!1&&t.isStaleByTime(ol(e.staleTime,t))}function RG(t,e){return!yp(t.getCurrentResult(),e)}var ws,_s,Cn,pi,El,yf,yd,nw,r1,IG=(r1=class extends iu{constructor(n,r){super();se(this,El);se(this,yd);se(this,ws,void 0);se(this,_s,void 0);se(this,Cn,void 0);se(this,pi,void 0);Z(this,ws,n),this.setOptions(r),this.bindMethods(),Te(this,El,yf).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var i;const r=this.options;this.options=L(this,ws).defaultMutationOptions(n),yp(this.options,r)||L(this,ws).getMutationCache().notify({type:"observerOptionsUpdated",mutation:L(this,Cn),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Jo(r.mutationKey)!==Jo(this.options.mutationKey)?this.reset():((i=L(this,Cn))==null?void 0:i.state.status)==="pending"&&L(this,Cn).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=L(this,Cn))==null||n.removeObserver(this)}onMutationUpdate(n){Te(this,El,yf).call(this),Te(this,yd,nw).call(this,n)}getCurrentResult(){return L(this,_s)}reset(){var n;(n=L(this,Cn))==null||n.removeObserver(this),Z(this,Cn,void 0),Te(this,El,yf).call(this),Te(this,yd,nw).call(this)}mutate(n,r){var i;return Z(this,pi,r),(i=L(this,Cn))==null||i.removeObserver(this),Z(this,Cn,L(this,ws).getMutationCache().build(L(this,ws),this.options)),L(this,Cn).addObserver(this),L(this,Cn).execute(n)}},ws=new WeakMap,_s=new WeakMap,Cn=new WeakMap,pi=new WeakMap,El=new WeakSet,yf=function(){var r;const n=((r=L(this,Cn))==null?void 0:r.state)??DD();Z(this,_s,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},yd=new WeakSet,nw=function(n){Dt.batch(()=>{var r,i,s,o,a,l,u,d;if(L(this,pi)&&this.hasListeners()){const h=L(this,_s).variables,f=L(this,_s).context;(n==null?void 0:n.type)==="success"?((i=(r=L(this,pi)).onSuccess)==null||i.call(r,n.data,h,f),(o=(s=L(this,pi)).onSettled)==null||o.call(s,n.data,null,h,f)):(n==null?void 0:n.type)==="error"&&((l=(a=L(this,pi)).onError)==null||l.call(a,n.error,h,f),(d=(u=L(this,pi)).onSettled)==null||d.call(u,void 0,n.error,h,f))}this.listeners.forEach(h=>{h(L(this,_s))})})},r1),OD=y.createContext(void 0),Am=t=>{const e=y.useContext(OD);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},PG=({client:t,children:e})=>(y.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),v.jsx(OD.Provider,{value:t,children:e})),LD=y.createContext(!1),AG=()=>y.useContext(LD);LD.Provider;function kG(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var NG=y.createContext(kG()),DG=()=>y.useContext(NG);function VD(t,e){return typeof t=="function"?t(...e):!!t}function MG(){}var OG=(t,e)=>{(t.suspense||t.throwOnError)&&(e.isReset()||(t.retryOnMount=!1))},LG=t=>{y.useEffect(()=>{t.clearReset()},[t])},VG=({result:t,errorResetBoundary:e,throwOnError:n,query:r})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&VD(n,[t.error,r]),FG=t=>{t.suspense&&(typeof t.staleTime!="number"&&(t.staleTime=1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},jG=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,UG=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function BG(t,e,n){var u,d,h,f;const r=Am(),i=AG(),s=DG(),o=r.defaultQueryOptions(t);(d=(u=r.getDefaultOptions().queries)==null?void 0:u._experimental_beforeQuery)==null||d.call(u,o),o._optimisticResults=i?"isRestoring":"optimistic",FG(o),OG(o,s),LG(s);const[a]=y.useState(()=>new e(r,o)),l=a.getOptimisticResult(o);if(y.useSyncExternalStore(y.useCallback(p=>{const T=i?()=>{}:a.subscribe(Dt.batchCalls(p));return a.updateResult(),T},[a,i]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),y.useEffect(()=>{a.setOptions(o,{listeners:!1})},[o,a]),jG(o,l))throw UG(o,a,s);if(VG({result:l,errorResetBoundary:s,throwOnError:o.throwOnError,query:r.getQueryCache().get(o.queryHash)}))throw l.error;return(f=(h=r.getDefaultOptions().queries)==null?void 0:h._experimental_afterQuery)==null||f.call(h,o,l),o.notifyOnChangeProps?l:a.trackResult(l)}function FD(t,e){return BG(t,bG)}function Jb(t,e){const n=Am(),[r]=y.useState(()=>new IG(n,t));y.useEffect(()=>{r.setOptions(t)},[r,t]);const i=y.useSyncExternalStore(y.useCallback(o=>r.subscribe(Dt.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),s=y.useCallback((o,a)=>{r.mutate(o,a).catch(MG)},[r]);if(i.error&&VD(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}const jD=({label:t,onButtonClick:e})=>v.jsxs(Lt,{variant:"outline",size:"sm",className:"mb-2 hover:bg-gray-100 h-10",onClick:e,children:[v.jsx(em,{className:"w-4 h-4 mr-0 md:mr-2"}),v.jsx("p",{className:"hidden md:block",children:t})]}),$G=()=>v.jsx("div",{className:"h-[450px] w-full flex justify-center items-center mt-2 pb-10",children:v.jsxs("section",{className:"flex flex-col justify-center items-center",children:[v.jsx(OP,{className:"w-12 h-12 text-blue-500 mb-4"}),v.jsx("h2",{className:"text-2xl font-semibold mb-2",children:"No Knowledge Base Selected"}),v.jsx("p",{className:"text-gray-600 mb-4",children:"Select a knowledge base category to view its contents here."})]})});function Pt({className:t,...e}){return v.jsx("div",{className:et("animate-pulse rounded-md bg-muted",t),...e})}const UD=()=>v.jsxs("div",{className:"h-[450px] w-full px-4 flex flex-col pb-4 mt-2",children:[v.jsxs("div",{className:"flex mb-7 space-x-4",children:[v.jsx(Pt,{className:"flex-grow h-10 bg-lightGray-darker"}),v.jsx(Pt,{className:"h-10 w-[42px] md:w-[198.85px] bg-lightGray-darker"})]}),v.jsxs("div",{className:"space-y-4",children:[v.jsx(Pt,{className:"h-[20px] w-[20rem] bg-lightGray-darker"}),v.jsx(Pt,{className:"h-[20px] w-[10rem] bg-lightGray-darker"})]})]}),cr=Yl(t=>({isModalVisible:!1,modalMode:"BASE",openModal:()=>{t(()=>({isModalVisible:!0}))},closeModal:()=>{t(()=>({isModalVisible:!1}))},setMode:e=>{t(()=>({modalMode:e}))}})),zG=()=>{const t=cr(s=>s.openModal),e=cr(s=>s.setMode),n=lt(s=>s.clearFormData),r=pr(s=>s.selectedKnowledgeBaseName);return{handleOpenKnowledgeForm:async s=>{if(!r)return window.alert("No Knowledge Base Selected cannot add a knowledge entry");n(),e(s),t()},openModal:t,setMode:e,clearFormData:n}},BD=()=>{const[t,e]=y.useState("");return{filter:t,handleFilterChange:r=>{e(r)}}},WG=({onTabChange:t})=>{const e=pr(u=>u.selectedKnowledgeBaseName),{handleOpenKnowledgeForm:n}=zG(),r=Am(),{data:i,isLoading:s}=FD({queryFn:()=>nG(e),queryKey:Wv,enabled:!!e}),{filter:o,handleFilterChange:a}=BD(),l=y.useMemo(()=>i==null?void 0:i.filter(u=>u.intent.toLowerCase().includes(o.toLowerCase())),[i,o]);return y.useEffect(()=>()=>{r.resetQueries({queryKey:Wv})},[]),s?v.jsx(UD,{}):i?v.jsx(Tm,{value:"knowledgeEntry",className:"mt-2",children:v.jsxs("div",{className:"h-[450px] w-full px-4 flex flex-col pb-4 overflow-y-auto scrollbar-slim",children:[v.jsxs("div",{className:"flex mb-2 space-x-4",children:[v.jsx(Nn,{className:"flex-grow outline-none focus:outline-none",placeholder:"Search knowledge base...",onChange:u=>a(u.target.value)}),v.jsx(jD,{label:"Add knowledge entry",onButtonClick:()=>n(z7.entry)})]}),v.jsx(lG,{knowledgeEntries:l,handleTabChange:t})]})}):v.jsx($G,{})},$D=t=>{const[e,n]=y.useState(t);return{currentTab:e,setCurrentTab:n,setActiveTab:i=>{n(i)}}},KG=({base:t,onItemClick:e})=>{const n=pr(r=>r.selectedKnowledgeBaseName);return v.jsx("div",{className:`p-2 rounded-md cursor-pointer transition-colors ${n===t?"bg-lightGray":"hover:bg-lightGray-darker"}`,onClick:()=>e(t),children:t})},HG=({knowledgeBaseNameList:t,handleTabChange:e})=>{const n=pr(s=>s.setSelectedKnowledgeBaseName),r=pr(s=>s.selectedKnowledgeBaseName),i=s=>{e("knowledgeEntry"),r!==s&&n(s)};return v.jsx("div",{children:v.jsx(ak,{items:t,renderItem:s=>v.jsx(KG,{base:s,onItemClick:i})})})},GG=({onTabChange:t})=>{const{data:e,isLoading:n}=FD({queryFn:()=>tG(),queryKey:xD}),{handleFilterChange:r,filter:i}=BD(),s=cr(d=>d.openModal),o=cr(d=>d.setMode),a=lt(d=>d.clearFormData),l=y.useMemo(()=>e==null?void 0:e.filter(d=>d.toLowerCase().includes(i.toLowerCase())),[e,i]),u=d=>{a(),o(d),s()};return n?v.jsx(UD,{}):e?v.jsx(Tm,{value:"knowledgeBase",className:"mt-2",children:v.jsxs("div",{className:"h-[450px] w-full px-4 flex flex-col overflow-y-auto scrollbar-slim",children:[v.jsxs("div",{className:"flex mb-2 space-x-4",children:[v.jsx(Nn,{className:"flex-grow outline-none focus:outline-none",placeholder:"Search knowledge base...",onChange:d=>r(d.target.value)}),v.jsx(jD,{label:"Add Knowledge Base",onButtonClick:()=>u("BASE")})]}),v.jsx(HG,{knowledgeBaseNameList:l,handleTabChange:t})]})}):v.jsx(v.Fragment,{children:"No knowledge base list found"})},qG=()=>{const{currentTab:t,setCurrentTab:e,setActiveTab:n}=$D("knowledgeBase");return v.jsxs(l7,{value:t,onValueChange:r=>e(r),className:"w-full p-0 border-neutral-200 bg-white border shadow-sm text-sm md:text-base rounded-md overflow-hidden box-border",children:[v.jsx(d7,{tabs:u7}),t==="knowledgeBase"&&v.jsx(GG,{onTabChange:n}),t==="knowledgeEntry"&&v.jsx(WG,{onTabChange:n}),t==="entryDetails"&&v.jsx(oG,{})]})};var sy=0;function QG(){y.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??Zb()),document.body.insertAdjacentElement("beforeend",t[1]??Zb()),sy++,()=>{sy===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),sy--}},[])}function Zb(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",t}var zD=xA(),oy=function(){},km=y.forwardRef(function(t,e){var n=y.useRef(null),r=y.useState({onScrollCapture:oy,onWheelCapture:oy,onTouchMoveCapture:oy}),i=r[0],s=r[1],o=t.forwardProps,a=t.children,l=t.className,u=t.removeScrollBar,d=t.enabled,h=t.shards,f=t.sideCar,p=t.noIsolation,T=t.inert,g=t.allowPinchZoom,x=t.as,E=x===void 0?"div":x,_=t.gapMode,b=ql(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),I=f,N=TA([n,e]),F=cn(cn({},b),i);return y.createElement(y.Fragment,null,d&&y.createElement(I,{sideCar:zD,removeScrollBar:u,shards:h,noIsolation:p,inert:T,setCallbacks:s,allowPinchZoom:!!g,lockRef:n,gapMode:_}),o?y.cloneElement(y.Children.only(a),cn(cn({},F),{ref:N})):y.createElement(E,cn({},F,{className:l,ref:N}),a))});km.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};km.classNames={fullWidth:cc,zeroRight:uc};var rw=!1;if(typeof window<"u")try{var Bh=Object.defineProperty({},"passive",{get:function(){return rw=!0,!0}});window.addEventListener("test",Bh,Bh),window.removeEventListener("test",Bh,Bh)}catch{rw=!1}var Sa=rw?{passive:!1}:!1,YG=function(t){return t.tagName==="TEXTAREA"},WD=function(t,e){var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!YG(t)&&n[e]==="visible")},XG=function(t){return WD(t,"overflowY")},JG=function(t){return WD(t,"overflowX")},eC=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=KD(t,r);if(i){var s=HD(t,r),o=s[1],a=s[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},ZG=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},eq=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},KD=function(t,e){return t==="v"?XG(e):JG(e)},HD=function(t,e){return t==="v"?ZG(e):eq(e)},tq=function(t,e){return t==="h"&&e==="rtl"?-1:1},nq=function(t,e,n,r,i){var s=tq(t,window.getComputedStyle(e).direction),o=s*r,a=n.target,l=e.contains(a),u=!1,d=o>0,h=0,f=0;do{var p=HD(t,a),T=p[0],g=p[1],x=p[2],E=g-x-s*T;(T||E)&&KD(t,a)&&(h+=E,f+=T),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(d&&(Math.abs(h)<1||!i)||!d&&(Math.abs(f)<1||!i))&&(u=!0),u},$h=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},tC=function(t){return[t.deltaX,t.deltaY]},nC=function(t){return t&&"current"in t?t.current:t},rq=function(t,e){return t[0]===e[0]&&t[1]===e[1]},iq=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},sq=0,ba=[];function oq(t){var e=y.useRef([]),n=y.useRef([0,0]),r=y.useRef(),i=y.useState(sq++)[0],s=y.useState(z0)[0],o=y.useRef(t);y.useEffect(function(){o.current=t},[t]),y.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var g=NI([t.lockRef.current],(t.shards||[]).map(nC),!0).filter(Boolean);return g.forEach(function(x){return x.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),g.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=y.useCallback(function(g,x){if("touches"in g&&g.touches.length===2)return!o.current.allowPinchZoom;var E=$h(g),_=n.current,b="deltaX"in g?g.deltaX:_[0]-E[0],I="deltaY"in g?g.deltaY:_[1]-E[1],N,F=g.target,C=Math.abs(b)>Math.abs(I)?"h":"v";if("touches"in g&&C==="h"&&F.type==="range")return!1;var w=eC(C,F);if(!w)return!0;if(w?N=C:(N=C==="v"?"h":"v",w=eC(C,F)),!w)return!1;if(!r.current&&"changedTouches"in g&&(b||I)&&(r.current=N),!N)return!0;var R=r.current||N;return nq(R,x,g,R==="h"?b:I,!0)},[]),l=y.useCallback(function(g){var x=g;if(!(!ba.length||ba[ba.length-1]!==s)){var E="deltaY"in x?tC(x):$h(x),_=e.current.filter(function(N){return N.name===x.type&&(N.target===x.target||x.target===N.shadowParent)&&rq(N.delta,E)})[0];if(_&&_.should){x.cancelable&&x.preventDefault();return}if(!_){var b=(o.current.shards||[]).map(nC).filter(Boolean).filter(function(N){return N.contains(x.target)}),I=b.length>0?a(x,b[0]):!o.current.noIsolation;I&&x.cancelable&&x.preventDefault()}}},[]),u=y.useCallback(function(g,x,E,_){var b={name:g,delta:x,target:E,should:_,shadowParent:aq(E)};e.current.push(b),setTimeout(function(){e.current=e.current.filter(function(I){return I!==b})},1)},[]),d=y.useCallback(function(g){n.current=$h(g),r.current=void 0},[]),h=y.useCallback(function(g){u(g.type,tC(g),g.target,a(g,t.lockRef.current))},[]),f=y.useCallback(function(g){u(g.type,$h(g),g.target,a(g,t.lockRef.current))},[]);y.useEffect(function(){return ba.push(s),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",l,Sa),document.addEventListener("touchmove",l,Sa),document.addEventListener("touchstart",d,Sa),function(){ba=ba.filter(function(g){return g!==s}),document.removeEventListener("wheel",l,Sa),document.removeEventListener("touchmove",l,Sa),document.removeEventListener("touchstart",d,Sa)}},[]);var p=t.removeScrollBar,T=t.inert;return y.createElement(y.Fragment,null,T?y.createElement(s,{styles:iq(i)}):null,p?y.createElement(RA,{gapMode:t.gapMode}):null)}function aq(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const lq=bA(zD,oq);var GD=y.forwardRef(function(t,e){return y.createElement(km,cn({},t,{ref:e,sideCar:lq}))});GD.classNames=km.classNames;var O_="Dialog",[qD,lee]=Xl(O_),[uq,Or]=qD(O_),QD=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:o=!0}=t,a=y.useRef(null),l=y.useRef(null),[u=!1,d]=Nd({prop:r,defaultProp:i,onChange:s});return v.jsx(uq,{scope:e,triggerRef:a,contentRef:l,contentId:Vs(),titleId:Vs(),descriptionId:Vs(),open:u,onOpenChange:d,onOpenToggle:y.useCallback(()=>d(h=>!h),[d]),modal:o,children:n})};QD.displayName=O_;var YD="DialogTrigger",cq=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Or(YD,n),s=vt(e,i.triggerRef);return v.jsx(je.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":F_(i.open),...r,ref:s,onClick:ue(t.onClick,i.onOpenToggle)})});cq.displayName=YD;var L_="DialogPortal",[dq,XD]=qD(L_,{forceMount:void 0}),JD=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,s=Or(L_,e);return v.jsx(dq,{scope:e,forceMount:n,children:y.Children.map(r,o=>v.jsx(nu,{present:n||s.open,children:v.jsx(oD,{asChild:!0,container:i,children:o})}))})};JD.displayName=L_;var wp="DialogOverlay",ZD=y.forwardRef((t,e)=>{const n=XD(wp,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=Or(wp,t.__scopeDialog);return s.modal?v.jsx(nu,{present:r||s.open,children:v.jsx(hq,{...i,ref:e})}):null});ZD.displayName=wp;var hq=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Or(wp,n);return v.jsx(GD,{as:Yo,allowPinchZoom:!0,shards:[i.contentRef],children:v.jsx(je.div,{"data-state":F_(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Zo="DialogContent",eM=y.forwardRef((t,e)=>{const n=XD(Zo,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=Or(Zo,t.__scopeDialog);return v.jsx(nu,{present:r||s.open,children:s.modal?v.jsx(fq,{...i,ref:e}):v.jsx(pq,{...i,ref:e})})});eM.displayName=Zo;var fq=y.forwardRef((t,e)=>{const n=Or(Zo,t.__scopeDialog),r=y.useRef(null),i=vt(e,n.contentRef,r);return y.useEffect(()=>{const s=r.current;if(s)return EA(s)},[]),v.jsx(tM,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ue(t.onCloseAutoFocus,s=>{var o;s.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:ue(t.onPointerDownOutside,s=>{const o=s.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&s.preventDefault()}),onFocusOutside:ue(t.onFocusOutside,s=>s.preventDefault())})}),pq=y.forwardRef((t,e)=>{const n=Or(Zo,t.__scopeDialog),r=y.useRef(!1),i=y.useRef(!1);return v.jsx(tM,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,s),s.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{var l,u;(l=t.onInteractOutside)==null||l.call(t,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=s.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),tM=y.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,...o}=t,a=Or(Zo,n),l=y.useRef(null),u=vt(e,l);return QG(),v.jsxs(v.Fragment,{children:[v.jsx(M0,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:v.jsx(P_,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":F_(a.open),...o,ref:u,onDismiss:()=>a.onOpenChange(!1)})}),v.jsxs(v.Fragment,{children:[v.jsx(mq,{titleId:a.titleId}),v.jsx(yq,{contentRef:l,descriptionId:a.descriptionId})]})]})}),V_="DialogTitle",nM=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Or(V_,n);return v.jsx(je.h2,{id:i.titleId,...r,ref:e})});nM.displayName=V_;var rM="DialogDescription",iM=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Or(rM,n);return v.jsx(je.p,{id:i.descriptionId,...r,ref:e})});iM.displayName=rM;var sM="DialogClose",oM=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Or(sM,n);return v.jsx(je.button,{type:"button",...r,ref:e,onClick:ue(t.onClick,()=>i.onOpenChange(!1))})});oM.displayName=sM;function F_(t){return t?"open":"closed"}var aM="DialogTitleWarning",[uee,lM]=s$(aM,{contentName:Zo,titleName:V_,docsSlug:"dialog"}),mq=({titleId:t})=>{const e=lM(aM),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return y.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},gq="DialogDescriptionWarning",yq=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${lM(gq).contentName}}.`;return y.useEffect(()=>{var s;const i=(s=t.current)==null?void 0:s.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},vq=QD,wq=JD,uM=ZD,cM=eM,dM=nM,hM=iM,_q=oM;const Eq=vq,Tq=wq,fM=y.forwardRef(({className:t,...e},n)=>v.jsx(uM,{ref:n,className:et("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));fM.displayName=uM.displayName;const pM=y.forwardRef(({className:t,children:e,...n},r)=>v.jsxs(Tq,{children:[v.jsx(fM,{}),v.jsxs(cM,{ref:r,className:et("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,v.jsxs(_q,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[v.jsx(VP,{className:"h-4 w-4"}),v.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));pM.displayName=cM.displayName;const mM=({className:t,...e})=>v.jsx("div",{className:et("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});mM.displayName="DialogHeader";const gM=y.forwardRef(({className:t,...e},n)=>v.jsx(dM,{ref:n,className:et("text-lg font-semibold leading-none tracking-tight",t),...e}));gM.displayName=dM.displayName;const yM=y.forwardRef(({className:t,...e},n)=>v.jsx(hM,{ref:n,className:et("text-sm text-muted-foreground",t),...e}));yM.displayName=hM.displayName;const Ti=Yl((t,e)=>({currentStep:1,totalStep:3,nextStep:()=>{e().currentStep!==e().totalStep&&t(n=>({currentStep:n.currentStep+1}))},prevStep:()=>{e().currentStep!==1&&t(n=>({currentStep:n.currentStep-1}))},setTotalStep:n=>{if(n==="BASE")return t(()=>({totalStep:3}));t(()=>({totalStep:2}))},resetCurrentStep:()=>{t(()=>({currentStep:1}))}})),xq=({progressData:t})=>{const e=Ti(i=>i.totalStep),n=Ti(i=>i.currentStep),r=(n-1)/(e-1)*100;return v.jsxs("div",{className:"mt-4 mb-8",children:[v.jsx("div",{className:"flex justify-between mb-2",children:[...Array(e)].map((i,s)=>v.jsxs("div",{className:"flex flex-col items-center",children:[v.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${n>=s+1?"bg-lightGray text-htext":"bg-lightGray-darker text-muted-foreground"}`,children:s+1}),v.jsx("span",{className:"text-xs mt-1",children:t[s+1]})]},s))}),v.jsx("div",{className:"h-2 bg-muted rounded-full",children:v.jsx("div",{className:"h-full bg-blue-600 rounded-full transition-all duration-300 ease-in-out",style:{width:`${r}%`}})})]})},Sq=()=>{const{knowledgeBaseName:t}=lt(n=>n.formData),e=lt(n=>n.setFormData);return v.jsx("div",{className:"space-y-4",children:v.jsxs("div",{children:[v.jsx("label",{htmlFor:"knowledgeBaseName",className:"block text-sm font-medium mb-1",children:"Knowledge Base Name"}),v.jsx(Nn,{name:"knowledgeBaseName",placeholder:"Enter knowledge base name",value:t,onChange:n=>e(n.target.name,n.target.value)})]})})},bq=".png,.jpg",Cq=()=>{const t=y.useRef(null);return v.jsxs("div",{children:[v.jsx(Nn,{id:"file-upload",type:"file",className:"hidden",ref:t,accept:bq,onChange:e=>null}),v.jsx(Lt,{variant:"ghost",size:"icon",className:"size-8 rounded-full hover:bg-neutral-100 p-1.5",onClick:()=>{var e;return(e=t.current)==null?void 0:e.click()},children:v.jsx(H3,{className:"size-4"})})]})},vM=y.forwardRef(({className:t,...e},n)=>v.jsx("textarea",{className:et("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));vM.displayName="Textarea";const rC=()=>{const{intent:t,documents:e,answer:n}=lt(l=>l.formData),r=lt(l=>l.setDocuments),i=lt(l=>l.setFormData),s=lt(l=>l.addDocument),o=pr(l=>l.selectedKnowledgeBaseName),a=cr(l=>l.modalMode);return y.useEffect(()=>{a==="ENTRY"&&i("knowledgeBaseName",o)},[]),v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{children:[v.jsx("label",{htmlFor:"intent",className:"block text-sm font-medium mb-1",children:"Intent"}),v.jsx(Nn,{name:"intent",placeholder:"Enter the intent",value:t,onChange:l=>i(l.target.name,l.target.value)})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium mb-1",children:"Documents"}),e.map((l,u)=>v.jsx(Nn,{placeholder:`Enter document ${u+1}`,className:"mb-2",value:l,onChange:d=>r(d.target.value,u)},u)),v.jsxs(Lt,{variant:"outline",onClick:s,className:"w-full mt-2",children:[v.jsx(em,{className:"mr-2 h-4 w-4"})," Add Document"]})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"answer",className:"block text-sm font-medium mb-1",children:"Answer"}),v.jsxs("div",{className:"relative mb-4",children:[v.jsx(vM,{name:"answer",placeholder:"Enter the answer",className:"min-h-[100px]",value:n,onChange:l=>i(l.target.name,l.target.value)}),v.jsxs("div",{className:"absolute bottom-2 left-2 flex space-x-2",children:[v.jsx(Lt,{variant:"ghost",size:"icon",className:"size-8 rounded-full hover:bg-neutral-100 p-1.5",children:v.jsx(W3,{className:"size-4"})}),v.jsx(Cq,{})]})]}),v.jsx("div",{children:v.jsx(Nn,{placeholder:"Enter link"})})]})]})},iC=()=>{const{knowledgeBaseName:t,intent:e,documents:n,answer:r}=lt(i=>i.formData);return v.jsxs("div",{className:"space-y-4 break-words",children:[v.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Review Your Entry"}),v.jsxs("div",{children:[v.jsx("p",{className:"text-sm font-medium",children:"Knowledge Base Name:"}),v.jsx("p",{className:"text-muted-foreground",children:t})]}),v.jsxs("div",{children:[v.jsx("p",{className:"text-sm font-medium",children:"Intent:"}),v.jsx("p",{className:"text-muted-foreground",children:e})]}),v.jsxs("div",{children:[v.jsx("p",{className:"text-sm font-medium",children:"Documents:"}),v.jsx("ul",{className:"list-disc pl-5 text-muted-foreground",children:n.map((i,s)=>v.jsx("li",{children:i},s))})]}),v.jsxs("div",{children:[v.jsx("p",{className:"text-sm font-medium",children:"Answer:"}),v.jsx("p",{className:"text-muted-foreground",children:r})]})]})},Rq=()=>{const t=Ti(r=>r.currentStep),e=cr(r=>r.modalMode),n=()=>({1:{BASE:v.jsx(Sq,{}),ENTRY:v.jsx(rC,{})},2:{BASE:v.jsx(rC,{}),ENTRY:v.jsx(iC,{})},3:{BASE:v.jsx(iC,{})}})[t][e]||v.jsx(v.Fragment,{children:"No Modal Section"});return v.jsx(v.Fragment,{children:n()})},Iq=()=>{const t=Am(),e=cr(s=>s.closeModal),{mutateAsync:n}=Jb({mutationFn:s=>rG(s),onSuccess:()=>{t.invalidateQueries({queryKey:xD})}}),{mutateAsync:r}=Jb({mutationFn:s=>iG(s),onSuccess:()=>{t.invalidateQueries({queryKey:Wv})}});return{handleSubmitForm:async(s,o)=>{o==="BASE"?await n(s):await r(s),e()}}},Pq=()=>{const{handleSubmitForm:t}=Iq(),e=cr(a=>a.modalMode),n=lt(a=>a.formData),r=Ti(a=>a.currentStep),i=Ti(a=>a.totalStep),s=Ti(a=>a.nextStep),o=Ti(a=>a.prevStep);return v.jsxs("div",{className:"flex justify-between items-center mt-6",children:[v.jsx(Lt,{variant:"outline",size:"icon",children:v.jsx(F3,{className:"h-4 w-4"})}),v.jsxs("div",{children:[r>1&&v.jsxs(Lt,{variant:"outline",onClick:o,className:"mr-2",children:[v.jsx(O3,{className:"mr-2 h-4 w-4"})," Back"]}),r<i?v.jsxs(Lt,{onClick:s,children:["Next ",v.jsx(L3,{className:"ml-2 h-4 w-4"})]}):v.jsx(Lt,{onClick:async()=>{t(n,e)},children:"Save Knowledge Base"})]})]})},Aq=()=>{const t=lt(a=>a.clearFormData),e=cr(a=>a.isModalVisible),n=cr(a=>a.modalMode),r=cr(a=>a.closeModal),i=Ti(a=>a.setTotalStep),s=Ti(a=>a.resetCurrentStep),o=n==="BASE"?q7:Q7;return y.useEffect(()=>(i(n),()=>{t(),s()}),[i]),v.jsx(Eq,{open:e,onOpenChange:r,children:v.jsxs(pM,{className:"sm:max-w-[550px] ",children:[v.jsxs(mM,{children:[v.jsx(gM,{className:"text-2xl font-bold",children:"Create New Knowledge Base"}),v.jsx(yM,{children:"Fill in the details to create a new knowledge base."})]}),v.jsx(xq,{progressData:o}),v.jsx(Im,{children:v.jsx(Pm,{className:"pt-6 max-h-[30rem] max-w-[498px] overflow-y-scroll",children:v.jsx(Rq,{})})}),v.jsx(Pq,{})]})})},kq=()=>{const t=cr(r=>r.isModalVisible),e=pr(r=>r.setSelectedKnowledgeEntry),n=pr(r=>r.selectedKnowledgeBaseName);return y.useEffect(()=>{n&&e(null)},[n,e]),v.jsxs("div",{className:"flex items-center flex-col w-[84rem] px-20 space-y-6",children:[v.jsx(w8,{}),v.jsx(qG,{}),v.jsx(T8,{}),t&&v.jsx(Aq,{})]})},it=Yl(t=>({botName:"",interactionIcon:null,interactionIconPreview:"",widgetIcon:null,widgetIconPreview:"",metadata:[],setBotName:e=>{t(()=>({botName:e}))},setInteractionIcon:e=>{t(()=>({interactionIcon:e}))},setInteractionIconPreview:e=>{t(()=>({interactionIconPreview:e}))},setWidgetIcon:e=>{t(()=>({widgetIcon:e}))},setWidgetIconPreview:e=>{t(()=>({widgetIconPreview:e}))},setMetadata:e=>{t(()=>({metadata:e}))}})),Nq=()=>{const t=it(n=>n.botName),e=it(n=>n.setBotName);return v.jsxs("section",{children:[v.jsx("label",{htmlFor:"botName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Bot Name"}),v.jsx("input",{type:"text",value:t,onChange:n=>e(n.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})},Dq=()=>({handleIconChange:(n,r,i)=>{if(n.target.files&&n.target.files[0]){const s=n.target.files[0];if(s.type==="image/png"||s.type==="image/gif"||s.type==="image/jpeg"){r(s);const o=new FileReader;o.onload=a=>{var l;i((l=a.target)==null?void 0:l.result)},o.readAsDataURL(s)}else alert("Please upload a PNG, JPEG or GIF file."),n.target.value=""}},handleRemoveIcon:(n,r,i)=>{r(null),i(null),n.current&&(n.current.value="")}}),wM=({iconRef:t,setIcon:e,setIconPreview:n,iconPreview:r,acceptedFormat:i})=>{const{handleIconChange:s,handleRemoveIcon:o}=Dq();return v.jsxs("div",{className:"flex items-center ",children:[v.jsx(Nn,{id:"widget-icon-upload",type:"file",className:"hidden",ref:t,accept:i,onChange:a=>s(a,e,n)}),v.jsx(Lt,{type:"button",variant:"outline",size:"sm",onClick:()=>{var a;return(a=t.current)==null?void 0:a.click()},children:r?v.jsxs("span",{className:"flex items-center text-sm gap-2",children:[v.jsx(ip,{className:"size-5"}),"Change Icon"]}):v.jsxs("span",{className:"flex items-center text-sm gap-2",children:[v.jsx(ip,{className:"size-5"}),"Upload Icon"]})}),r&&v.jsx(Lt,{type:"button",variant:"ghost",size:"sm",className:"ml-2",onClick:()=>o(t,e,n),children:"Remove"})]})},Mq=()=>{const t=it(i=>i.setInteractionIcon),e=it(i=>i.setInteractionIconPreview),n=it(i=>i.interactionIconPreview),r=y.useRef(null);return v.jsxs("section",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1 mt-4",children:"Interaction Icon"}),v.jsxs("div",{className:"mt-1 flex items-center h-[4rem] space-x-4",children:[v.jsxs("div",{className:"size-16 rounded-full bg-gray-100 flex items-center justify-center overflow-hidden",children:[n&&v.jsx("img",{src:n,className:"size-full object-cover rounded-full"}),!n&&v.jsx(ip,{className:"w-8 h-8 text-gray-400"})]}),v.jsx(wM,{iconRef:r,setIcon:t,setIconPreview:e,iconPreview:n,acceptedFormat:".png,.jpg"})]}),v.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"PNG or JPG only. Max file size: 2MB."})]})},Oq=()=>{const t=it(i=>i.setWidgetIcon),e=it(i=>i.widgetIconPreview),n=it(i=>i.setWidgetIconPreview),r=y.useRef(null);return v.jsxs("section",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1 mt-4",children:"Widget Icon"}),v.jsxs("div",{className:"mt-1 flex items-center space-x-4",children:[v.jsxs("div",{className:"size-16 rounded-full bg-gray-100 flex items-center justify-center overflow-hidden",children:[e&&v.jsx("img",{src:e,className:"size-full object-cover rounded-full"}),!e&&v.jsx(ip,{className:"w-8 h-8 text-gray-400"})]}),v.jsx(wM,{iconRef:r,setIcon:t,setIconPreview:n,iconPreview:e,acceptedFormat:".png,.jpg,.gif"})]}),v.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"PNG, JPEG OR GIF only. Max file size: 30MB."})]})},Lq=()=>v.jsxs("form",{children:[v.jsx(Nq,{}),v.jsx(Mq,{}),v.jsx(Oq,{})]}),Vq=({handleCloseChatbox:t})=>{const e=it(r=>r.botName),n=it(r=>r.interactionIconPreview);return v.jsx("section",{children:v.jsxs("div",{className:"bg-white h-[24rem] rounded-lg shadow-lg p-4 max-w-sm mx-auto flex flex-col",children:[v.jsxs("div",{className:"flex items-center justify-between mb-4",children:[v.jsxs("div",{className:"flex items-center space-x-2",children:[n?v.jsx("img",{src:n,alt:"interaction-icon-preview",className:"w-11 h-11 object-cover rounded-full"}):v.jsx("div",{className:"w-11 h-11 object-cover rounded-full bg-gray-200"}),v.jsx("span",{className:"text-sm font-medium text-gray-700",children:e||"Chatbot"})]}),v.jsx("div",{className:"cursor-pointer hover:scale-110 transition-transform",onClick:t,children:v.jsx(VP,{className:"w-5 h-5 text-gray-500"})})]}),v.jsx("div",{className:"flex-1"}),v.jsx("div",{className:" rounded-lg py-3 mb-4",children:v.jsxs("div",{className:"flex items-center",children:[n?v.jsx("img",{src:n,alt:"interaction-icon-preview",className:"w-10 h-10 object-cover rounded-full"}):v.jsx("div",{className:"w-11 h-11 object-cover rounded-full bg-gray-200"}),v.jsx("p",{className:"ml-2 text-sm text-gray-700 bg-gray-100 p-2.5 rounded-xl",children:"Hi! What can I help you with?"})]})}),v.jsxs("div",{className:"flex items-center",children:[v.jsx("input",{disabled:!0,type:"text",placeholder:"Message...",className:"flex-grow h-10 px-3 py-2 text-sm border border-gray-300 rounded-l-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),v.jsx("div",{className:"h-10 px-3 py-2 bg-blue-500 text-white rounded-r-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 flex items-center justify-center",children:v.jsx(q3,{className:"w-5 h-5"})})]})]})})},Fq=()=>{const[t,e]=y.useState(!1),n=it(r=>r.widgetIconPreview);return v.jsx("section",{children:v.jsx("div",{className:"border h-[28rem] border-gray-300 rounded-lg p-4 bg-gray-50 mt-4 mb-2",style:{backgroundImage:"radial-gradient(#d1d5db 1px, transparent 1px)",backgroundSize:"20px 20px"},children:v.jsx("div",{className:"h-full flex justify-end items-end",children:t?v.jsx(Vq,{handleCloseChatbox:()=>e(!1)}):v.jsx("div",{className:"size-[14rem] flex items-center justify-center",onClick:()=>e(!0),children:n?v.jsx("img",{src:n,alt:"Widget icon preview",className:"cursor-pointer"}):v.jsx("span",{className:"text-gray-400 cursor-pointer",children:"No icon"})})})})})},jq=()=>{const t=it(s=>s.metadata),e=it(s=>s.setMetadata),n=()=>{const s={id:Date.now().toString(),key:"",value:""};e([...t,s])},r=(s,o,a)=>{const l=t.map(u=>u.id===s?{...u,[o]:a}:u);e(l)},i=s=>{const o=t.filter(a=>a.id!==s);e(o)};return v.jsxs("div",{className:"space-y-4",children:[t.map(s=>v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx(Nn,{placeholder:"Key",value:s.key,onChange:o=>r(s.id,"key",o.target.value),className:"flex-1"}),v.jsx(Nn,{placeholder:"Value",value:s.value,onChange:o=>r(s.id,"value",o.target.value),className:"flex-1"}),v.jsx(Lt,{type:"button",variant:"ghost",size:"icon",className:"hover:text-red-600 group",onClick:()=>i(s.id),children:v.jsx(LP,{className:"size-5 group-hover:scale-125 transition-transform ease-in"})})]},s.id)),v.jsxs(Lt,{type:"button",variant:"outline",size:"sm",onClick:n,className:"mt-2",children:[v.jsx(em,{className:"size-5 mr-2"}),"Add Field"]})]})},Uq=()=>v.jsx(K3,{className:"mr-2 size-5 animate-spin"});var Bq="firebase",$q="10.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qr(Bq,$q,"app");var sC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Bo,_M;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,w){function R(){}R.prototype=w.prototype,C.D=w.prototype,C.prototype=new R,C.prototype.constructor=C,C.C=function(A,D,M){for(var k=Array(arguments.length-2),J=2;J<arguments.length;J++)k[J-2]=arguments[J];return w.prototype[D].apply(A,k)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(C,w,R){R||(R=0);var A=Array(16);if(typeof w=="string")for(var D=0;16>D;++D)A[D]=w.charCodeAt(R++)|w.charCodeAt(R++)<<8|w.charCodeAt(R++)<<16|w.charCodeAt(R++)<<24;else for(D=0;16>D;++D)A[D]=w[R++]|w[R++]<<8|w[R++]<<16|w[R++]<<24;w=C.g[0],R=C.g[1],D=C.g[2];var M=C.g[3],k=w+(M^R&(D^M))+A[0]+3614090360&4294967295;w=R+(k<<7&4294967295|k>>>25),k=M+(D^w&(R^D))+A[1]+3905402710&4294967295,M=w+(k<<12&4294967295|k>>>20),k=D+(R^M&(w^R))+A[2]+606105819&4294967295,D=M+(k<<17&4294967295|k>>>15),k=R+(w^D&(M^w))+A[3]+3250441966&4294967295,R=D+(k<<22&4294967295|k>>>10),k=w+(M^R&(D^M))+A[4]+4118548399&4294967295,w=R+(k<<7&4294967295|k>>>25),k=M+(D^w&(R^D))+A[5]+1200080426&4294967295,M=w+(k<<12&4294967295|k>>>20),k=D+(R^M&(w^R))+A[6]+2821735955&4294967295,D=M+(k<<17&4294967295|k>>>15),k=R+(w^D&(M^w))+A[7]+4249261313&4294967295,R=D+(k<<22&4294967295|k>>>10),k=w+(M^R&(D^M))+A[8]+1770035416&4294967295,w=R+(k<<7&4294967295|k>>>25),k=M+(D^w&(R^D))+A[9]+2336552879&4294967295,M=w+(k<<12&4294967295|k>>>20),k=D+(R^M&(w^R))+A[10]+4294925233&4294967295,D=M+(k<<17&4294967295|k>>>15),k=R+(w^D&(M^w))+A[11]+2304563134&4294967295,R=D+(k<<22&4294967295|k>>>10),k=w+(M^R&(D^M))+A[12]+1804603682&4294967295,w=R+(k<<7&4294967295|k>>>25),k=M+(D^w&(R^D))+A[13]+4254626195&4294967295,M=w+(k<<12&4294967295|k>>>20),k=D+(R^M&(w^R))+A[14]+2792965006&4294967295,D=M+(k<<17&4294967295|k>>>15),k=R+(w^D&(M^w))+A[15]+1236535329&4294967295,R=D+(k<<22&4294967295|k>>>10),k=w+(D^M&(R^D))+A[1]+4129170786&4294967295,w=R+(k<<5&4294967295|k>>>27),k=M+(R^D&(w^R))+A[6]+3225465664&4294967295,M=w+(k<<9&4294967295|k>>>23),k=D+(w^R&(M^w))+A[11]+643717713&4294967295,D=M+(k<<14&4294967295|k>>>18),k=R+(M^w&(D^M))+A[0]+3921069994&4294967295,R=D+(k<<20&4294967295|k>>>12),k=w+(D^M&(R^D))+A[5]+3593408605&4294967295,w=R+(k<<5&4294967295|k>>>27),k=M+(R^D&(w^R))+A[10]+38016083&4294967295,M=w+(k<<9&4294967295|k>>>23),k=D+(w^R&(M^w))+A[15]+3634488961&4294967295,D=M+(k<<14&4294967295|k>>>18),k=R+(M^w&(D^M))+A[4]+3889429448&4294967295,R=D+(k<<20&4294967295|k>>>12),k=w+(D^M&(R^D))+A[9]+568446438&4294967295,w=R+(k<<5&4294967295|k>>>27),k=M+(R^D&(w^R))+A[14]+3275163606&4294967295,M=w+(k<<9&4294967295|k>>>23),k=D+(w^R&(M^w))+A[3]+4107603335&4294967295,D=M+(k<<14&4294967295|k>>>18),k=R+(M^w&(D^M))+A[8]+1163531501&4294967295,R=D+(k<<20&4294967295|k>>>12),k=w+(D^M&(R^D))+A[13]+2850285829&4294967295,w=R+(k<<5&4294967295|k>>>27),k=M+(R^D&(w^R))+A[2]+4243563512&4294967295,M=w+(k<<9&4294967295|k>>>23),k=D+(w^R&(M^w))+A[7]+1735328473&4294967295,D=M+(k<<14&4294967295|k>>>18),k=R+(M^w&(D^M))+A[12]+2368359562&4294967295,R=D+(k<<20&4294967295|k>>>12),k=w+(R^D^M)+A[5]+4294588738&4294967295,w=R+(k<<4&4294967295|k>>>28),k=M+(w^R^D)+A[8]+2272392833&4294967295,M=w+(k<<11&4294967295|k>>>21),k=D+(M^w^R)+A[11]+1839030562&4294967295,D=M+(k<<16&4294967295|k>>>16),k=R+(D^M^w)+A[14]+4259657740&4294967295,R=D+(k<<23&4294967295|k>>>9),k=w+(R^D^M)+A[1]+2763975236&4294967295,w=R+(k<<4&4294967295|k>>>28),k=M+(w^R^D)+A[4]+1272893353&4294967295,M=w+(k<<11&4294967295|k>>>21),k=D+(M^w^R)+A[7]+4139469664&4294967295,D=M+(k<<16&4294967295|k>>>16),k=R+(D^M^w)+A[10]+3200236656&4294967295,R=D+(k<<23&4294967295|k>>>9),k=w+(R^D^M)+A[13]+681279174&4294967295,w=R+(k<<4&4294967295|k>>>28),k=M+(w^R^D)+A[0]+3936430074&4294967295,M=w+(k<<11&4294967295|k>>>21),k=D+(M^w^R)+A[3]+3572445317&4294967295,D=M+(k<<16&4294967295|k>>>16),k=R+(D^M^w)+A[6]+76029189&4294967295,R=D+(k<<23&4294967295|k>>>9),k=w+(R^D^M)+A[9]+3654602809&4294967295,w=R+(k<<4&4294967295|k>>>28),k=M+(w^R^D)+A[12]+3873151461&4294967295,M=w+(k<<11&4294967295|k>>>21),k=D+(M^w^R)+A[15]+530742520&4294967295,D=M+(k<<16&4294967295|k>>>16),k=R+(D^M^w)+A[2]+3299628645&4294967295,R=D+(k<<23&4294967295|k>>>9),k=w+(D^(R|~M))+A[0]+4096336452&4294967295,w=R+(k<<6&4294967295|k>>>26),k=M+(R^(w|~D))+A[7]+1126891415&4294967295,M=w+(k<<10&4294967295|k>>>22),k=D+(w^(M|~R))+A[14]+2878612391&4294967295,D=M+(k<<15&4294967295|k>>>17),k=R+(M^(D|~w))+A[5]+4237533241&4294967295,R=D+(k<<21&4294967295|k>>>11),k=w+(D^(R|~M))+A[12]+1700485571&4294967295,w=R+(k<<6&4294967295|k>>>26),k=M+(R^(w|~D))+A[3]+2399980690&4294967295,M=w+(k<<10&4294967295|k>>>22),k=D+(w^(M|~R))+A[10]+4293915773&4294967295,D=M+(k<<15&4294967295|k>>>17),k=R+(M^(D|~w))+A[1]+2240044497&4294967295,R=D+(k<<21&4294967295|k>>>11),k=w+(D^(R|~M))+A[8]+1873313359&4294967295,w=R+(k<<6&4294967295|k>>>26),k=M+(R^(w|~D))+A[15]+4264355552&4294967295,M=w+(k<<10&4294967295|k>>>22),k=D+(w^(M|~R))+A[6]+2734768916&4294967295,D=M+(k<<15&4294967295|k>>>17),k=R+(M^(D|~w))+A[13]+1309151649&4294967295,R=D+(k<<21&4294967295|k>>>11),k=w+(D^(R|~M))+A[4]+4149444226&4294967295,w=R+(k<<6&4294967295|k>>>26),k=M+(R^(w|~D))+A[11]+3174756917&4294967295,M=w+(k<<10&4294967295|k>>>22),k=D+(w^(M|~R))+A[2]+718787259&4294967295,D=M+(k<<15&4294967295|k>>>17),k=R+(M^(D|~w))+A[9]+3951481745&4294967295,C.g[0]=C.g[0]+w&4294967295,C.g[1]=C.g[1]+(D+(k<<21&4294967295|k>>>11))&4294967295,C.g[2]=C.g[2]+D&4294967295,C.g[3]=C.g[3]+M&4294967295}r.prototype.u=function(C,w){w===void 0&&(w=C.length);for(var R=w-this.blockSize,A=this.B,D=this.h,M=0;M<w;){if(D==0)for(;M<=R;)i(this,C,M),M+=this.blockSize;if(typeof C=="string"){for(;M<w;)if(A[D++]=C.charCodeAt(M++),D==this.blockSize){i(this,A),D=0;break}}else for(;M<w;)if(A[D++]=C[M++],D==this.blockSize){i(this,A),D=0;break}}this.h=D,this.o+=w},r.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var w=1;w<C.length-8;++w)C[w]=0;var R=8*this.o;for(w=C.length-8;w<C.length;++w)C[w]=R&255,R/=256;for(this.u(C),C=Array(16),w=R=0;4>w;++w)for(var A=0;32>A;A+=8)C[R++]=this.g[w]>>>A&255;return C};function s(C,w){var R=a;return Object.prototype.hasOwnProperty.call(R,C)?R[C]:R[C]=w(C)}function o(C,w){this.h=w;for(var R=[],A=!0,D=C.length-1;0<=D;D--){var M=C[D]|0;A&&M==w||(R[D]=M,A=!1)}this.g=R}var a={};function l(C){return-128<=C&&128>C?s(C,function(w){return new o([w|0],0>w?-1:0)}):new o([C|0],0>C?-1:0)}function u(C){if(isNaN(C)||!isFinite(C))return h;if(0>C)return x(u(-C));for(var w=[],R=1,A=0;C>=R;A++)w[A]=C/R|0,R*=4294967296;return new o(w,0)}function d(C,w){if(C.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(C.charAt(0)=="-")return x(d(C.substring(1),w));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=u(Math.pow(w,8)),A=h,D=0;D<C.length;D+=8){var M=Math.min(8,C.length-D),k=parseInt(C.substring(D,D+M),w);8>M?(M=u(Math.pow(w,M)),A=A.j(M).add(u(k))):(A=A.j(R),A=A.add(u(k)))}return A}var h=l(0),f=l(1),p=l(16777216);t=o.prototype,t.m=function(){if(g(this))return-x(this).m();for(var C=0,w=1,R=0;R<this.g.length;R++){var A=this.i(R);C+=(0<=A?A:4294967296+A)*w,w*=4294967296}return C},t.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(T(this))return"0";if(g(this))return"-"+x(this).toString(C);for(var w=u(Math.pow(C,6)),R=this,A="";;){var D=I(R,w).g;R=E(R,D.j(w));var M=((0<R.g.length?R.g[0]:R.h)>>>0).toString(C);if(R=D,T(R))return M+A;for(;6>M.length;)M="0"+M;A=M+A}},t.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function T(C){if(C.h!=0)return!1;for(var w=0;w<C.g.length;w++)if(C.g[w]!=0)return!1;return!0}function g(C){return C.h==-1}t.l=function(C){return C=E(this,C),g(C)?-1:T(C)?0:1};function x(C){for(var w=C.g.length,R=[],A=0;A<w;A++)R[A]=~C.g[A];return new o(R,~C.h).add(f)}t.abs=function(){return g(this)?x(this):this},t.add=function(C){for(var w=Math.max(this.g.length,C.g.length),R=[],A=0,D=0;D<=w;D++){var M=A+(this.i(D)&65535)+(C.i(D)&65535),k=(M>>>16)+(this.i(D)>>>16)+(C.i(D)>>>16);A=k>>>16,M&=65535,k&=65535,R[D]=k<<16|M}return new o(R,R[R.length-1]&-2147483648?-1:0)};function E(C,w){return C.add(x(w))}t.j=function(C){if(T(this)||T(C))return h;if(g(this))return g(C)?x(this).j(x(C)):x(x(this).j(C));if(g(C))return x(this.j(x(C)));if(0>this.l(p)&&0>C.l(p))return u(this.m()*C.m());for(var w=this.g.length+C.g.length,R=[],A=0;A<2*w;A++)R[A]=0;for(A=0;A<this.g.length;A++)for(var D=0;D<C.g.length;D++){var M=this.i(A)>>>16,k=this.i(A)&65535,J=C.i(D)>>>16,xe=C.i(D)&65535;R[2*A+2*D]+=k*xe,_(R,2*A+2*D),R[2*A+2*D+1]+=M*xe,_(R,2*A+2*D+1),R[2*A+2*D+1]+=k*J,_(R,2*A+2*D+1),R[2*A+2*D+2]+=M*J,_(R,2*A+2*D+2)}for(A=0;A<w;A++)R[A]=R[2*A+1]<<16|R[2*A];for(A=w;A<2*w;A++)R[A]=0;return new o(R,0)};function _(C,w){for(;(C[w]&65535)!=C[w];)C[w+1]+=C[w]>>>16,C[w]&=65535,w++}function b(C,w){this.g=C,this.h=w}function I(C,w){if(T(w))throw Error("division by zero");if(T(C))return new b(h,h);if(g(C))return w=I(x(C),w),new b(x(w.g),x(w.h));if(g(w))return w=I(C,x(w)),new b(x(w.g),w.h);if(30<C.g.length){if(g(C)||g(w))throw Error("slowDivide_ only works with positive integers.");for(var R=f,A=w;0>=A.l(C);)R=N(R),A=N(A);var D=F(R,1),M=F(A,1);for(A=F(A,2),R=F(R,2);!T(A);){var k=M.add(A);0>=k.l(C)&&(D=D.add(R),M=k),A=F(A,1),R=F(R,1)}return w=E(C,D.j(w)),new b(D,w)}for(D=h;0<=C.l(w);){for(R=Math.max(1,Math.floor(C.m()/w.m())),A=Math.ceil(Math.log(R)/Math.LN2),A=48>=A?1:Math.pow(2,A-48),M=u(R),k=M.j(w);g(k)||0<k.l(C);)R-=A,M=u(R),k=M.j(w);T(M)&&(M=f),D=D.add(M),C=E(C,k)}return new b(D,C)}t.A=function(C){return I(this,C).h},t.and=function(C){for(var w=Math.max(this.g.length,C.g.length),R=[],A=0;A<w;A++)R[A]=this.i(A)&C.i(A);return new o(R,this.h&C.h)},t.or=function(C){for(var w=Math.max(this.g.length,C.g.length),R=[],A=0;A<w;A++)R[A]=this.i(A)|C.i(A);return new o(R,this.h|C.h)},t.xor=function(C){for(var w=Math.max(this.g.length,C.g.length),R=[],A=0;A<w;A++)R[A]=this.i(A)^C.i(A);return new o(R,this.h^C.h)};function N(C){for(var w=C.g.length+1,R=[],A=0;A<w;A++)R[A]=C.i(A)<<1|C.i(A-1)>>>31;return new o(R,C.h)}function F(C,w){var R=w>>5;w%=32;for(var A=C.g.length-R,D=[],M=0;M<A;M++)D[M]=0<w?C.i(M+R)>>>w|C.i(M+R+1)<<32-w:C.i(M+R);return new o(D,C.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,_M=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=d,Bo=o}).apply(typeof sC<"u"?sC:typeof self<"u"?self:typeof window<"u"?window:{});var zh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var EM,TM,Yu,xM,vf,iw,SM,bM,CM;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,m,S){return c==Array.prototype||c==Object.prototype||(c[m]=S.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof zh=="object"&&zh];for(var m=0;m<c.length;++m){var S=c[m];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var r=n(this);function i(c,m){if(m)e:{var S=r;c=c.split(".");for(var P=0;P<c.length-1;P++){var j=c[P];if(!(j in S))break e;S=S[j]}c=c[c.length-1],P=S[c],m=m(P),m!=P&&m!=null&&e(S,c,{configurable:!0,writable:!0,value:m})}}function s(c,m){c instanceof String&&(c+="");var S=0,P=!1,j={next:function(){if(!P&&S<c.length){var B=S++;return{value:m(B,c[B]),done:!1}}return P=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}i("Array.prototype.values",function(c){return c||function(){return s(this,function(m,S){return S})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(c){var m=typeof c;return m=m!="object"?m:c?Array.isArray(c)?"array":m:"null",m=="array"||m=="object"&&typeof c.length=="number"}function u(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function d(c,m,S){return c.call.apply(c.bind,arguments)}function h(c,m,S){if(!c)throw Error();if(2<arguments.length){var P=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,P),c.apply(m,j)}}return function(){return c.apply(m,arguments)}}function f(c,m,S){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:h,f.apply(null,arguments)}function p(c,m){var S=Array.prototype.slice.call(arguments,1);return function(){var P=S.slice();return P.push.apply(P,arguments),c.apply(this,P)}}function T(c,m){function S(){}S.prototype=m.prototype,c.aa=m.prototype,c.prototype=new S,c.prototype.constructor=c,c.Qb=function(P,j,B){for(var Q=Array(arguments.length-2),We=2;We<arguments.length;We++)Q[We-2]=arguments[We];return m.prototype[j].apply(P,Q)}}function g(c){const m=c.length;if(0<m){const S=Array(m);for(let P=0;P<m;P++)S[P]=c[P];return S}return[]}function x(c,m){for(let S=1;S<arguments.length;S++){const P=arguments[S];if(l(P)){const j=c.length||0,B=P.length||0;c.length=j+B;for(let Q=0;Q<B;Q++)c[j+Q]=P[Q]}else c.push(P)}}class E{constructor(m,S){this.i=m,this.j=S,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function _(c){return/^[\s\xa0]*$/.test(c)}function b(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function I(c){return I[" "](c),c}I[" "]=function(){};var N=b().indexOf("Gecko")!=-1&&!(b().toLowerCase().indexOf("webkit")!=-1&&b().indexOf("Edge")==-1)&&!(b().indexOf("Trident")!=-1||b().indexOf("MSIE")!=-1)&&b().indexOf("Edge")==-1;function F(c,m,S){for(const P in c)m.call(S,c[P],P,c)}function C(c,m){for(const S in c)m.call(void 0,c[S],S,c)}function w(c){const m={};for(const S in c)m[S]=c[S];return m}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A(c,m){let S,P;for(let j=1;j<arguments.length;j++){P=arguments[j];for(S in P)c[S]=P[S];for(let B=0;B<R.length;B++)S=R[B],Object.prototype.hasOwnProperty.call(P,S)&&(c[S]=P[S])}}function D(c){var m=1;c=c.split(":");const S=[];for(;0<m&&c.length;)S.push(c.shift()),m--;return c.length&&S.push(c.join(":")),S}function M(c){a.setTimeout(()=>{throw c},0)}function k(){var c=$;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class J{constructor(){this.h=this.g=null}add(m,S){const P=xe.get();P.set(m,S),this.h?this.h.next=P:this.g=P,this.h=P}}var xe=new E(()=>new fe,c=>c.reset());class fe{constructor(){this.next=this.g=this.h=null}set(m,S){this.h=m,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let le,z=!1,$=new J,Y=()=>{const c=a.Promise.resolve(void 0);le=()=>{c.then(ae)}};var ae=()=>{for(var c;c=k();){try{c.h.call(c.g)}catch(S){M(S)}var m=xe;m.j(c),100>m.h&&(m.h++,c.next=m.g,m.g=c)}z=!1};function ge(){this.s=this.s,this.C=this.C}ge.prototype.s=!1,ge.prototype.ma=function(){this.s||(this.s=!0,this.N())},ge.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Se(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}Se.prototype.h=function(){this.defaultPrevented=!0};var ht=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const S=()=>{};a.addEventListener("test",S,m),a.removeEventListener("test",S,m)}catch{}return c}();function bt(c,m){if(Se.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var S=this.type=c.type,P=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget){if(N){e:{try{I(m.nodeName);var j=!0;break e}catch{}j=!1}j||(m=null)}}else S=="mouseover"?m=c.fromElement:S=="mouseout"&&(m=c.toElement);this.relatedTarget=m,P?(this.clientX=P.clientX!==void 0?P.clientX:P.pageX,this.clientY=P.clientY!==void 0?P.clientY:P.pageY,this.screenX=P.screenX||0,this.screenY=P.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:$e[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&bt.aa.h.call(this)}}T(bt,Se);var $e={2:"touch",3:"pen",4:"mouse"};bt.prototype.h=function(){bt.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ze="closure_listenable_"+(1e6*Math.random()|0),mn=0;function Yt(c,m,S,P,j){this.listener=c,this.proxy=null,this.src=m,this.type=S,this.capture=!!P,this.ha=j,this.key=++mn,this.da=this.fa=!1}function gn(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function oi(c){this.src=c,this.g={},this.h=0}oi.prototype.add=function(c,m,S,P,j){var B=c.toString();c=this.g[B],c||(c=this.g[B]=[],this.h++);var Q=mr(c,m,P,j);return-1<Q?(m=c[Q],S||(m.fa=!1)):(m=new Yt(m,this.src,B,!!P,j),m.fa=S,c.push(m)),m};function zi(c,m){var S=m.type;if(S in c.g){var P=c.g[S],j=Array.prototype.indexOf.call(P,m,void 0),B;(B=0<=j)&&Array.prototype.splice.call(P,j,1),B&&(gn(m),c.g[S].length==0&&(delete c.g[S],c.h--))}}function mr(c,m,S,P){for(var j=0;j<c.length;++j){var B=c[j];if(!B.da&&B.listener==m&&B.capture==!!S&&B.ha==P)return j}return-1}var ft="closure_lm_"+(1e6*Math.random()|0),Yn={};function io(c,m,S,P,j){if(Array.isArray(m)){for(var B=0;B<m.length;B++)io(c,m[B],S,P,j);return null}return S=Hd(S),c&&c[ze]?c.K(m,S,u(P)?!!P.capture:!!P,j):uu(c,m,S,!1,P,j)}function uu(c,m,S,P,j,B){if(!m)throw Error("Invalid event type");var Q=u(j)?!!j.capture:!!j,We=hu(c);if(We||(c[ft]=We=new oi(c)),S=We.add(m,S,P,Q,B),S.proxy)return S;if(P=gr(),S.proxy=P,P.src=c,P.listener=S,c.addEventListener)ht||(j=Q),j===void 0&&(j=!1),c.addEventListener(m.toString(),P,j);else if(c.attachEvent)c.attachEvent(du(m.toString()),P);else if(c.addListener&&c.removeListener)c.addListener(P);else throw Error("addEventListener and attachEvent are unavailable.");return S}function gr(){function c(S){return m.call(c.src,c.listener,S)}const m=$m;return c}function ai(c,m,S,P,j){if(Array.isArray(m))for(var B=0;B<m.length;B++)ai(c,m[B],S,P,j);else P=u(P)?!!P.capture:!!P,S=Hd(S),c&&c[ze]?(c=c.i,m=String(m).toString(),m in c.g&&(B=c.g[m],S=mr(B,S,P,j),-1<S&&(gn(B[S]),Array.prototype.splice.call(B,S,1),B.length==0&&(delete c.g[m],c.h--)))):c&&(c=hu(c))&&(m=c.g[m.toString()],c=-1,m&&(c=mr(m,S,P,j)),(S=-1<c?m[c]:null)&&cu(S))}function cu(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[ze])zi(m.i,c);else{var S=c.type,P=c.proxy;m.removeEventListener?m.removeEventListener(S,P,c.capture):m.detachEvent?m.detachEvent(du(S),P):m.addListener&&m.removeListener&&m.removeListener(P),(S=hu(m))?(zi(S,c),S.h==0&&(S.src=null,m[ft]=null)):gn(c)}}}function du(c){return c in Yn?Yn[c]:Yn[c]="on"+c}function $m(c,m){if(c.da)c=!0;else{m=new bt(m,this);var S=c.listener,P=c.ha||c.src;c.fa&&cu(c),c=S.call(P,m)}return c}function hu(c){return c=c[ft],c instanceof oi?c:null}var fu="__closure_events_fn_"+(1e9*Math.random()>>>0);function Hd(c){return typeof c=="function"?c:(c[fu]||(c[fu]=function(m){return c.handleEvent(m)}),c[fu])}function tt(){ge.call(this),this.i=new oi(this),this.M=this,this.F=null}T(tt,ge),tt.prototype[ze]=!0,tt.prototype.removeEventListener=function(c,m,S,P){ai(this,c,m,S,P)};function Et(c,m){var S,P=c.F;if(P)for(S=[];P;P=P.F)S.push(P);if(c=c.M,P=m.type||m,typeof m=="string")m=new Se(m,c);else if(m instanceof Se)m.target=m.target||c;else{var j=m;m=new Se(P,c),A(m,j)}if(j=!0,S)for(var B=S.length-1;0<=B;B--){var Q=m.g=S[B];j=so(Q,P,!0,m)&&j}if(Q=m.g=c,j=so(Q,P,!0,m)&&j,j=so(Q,P,!1,m)&&j,S)for(B=0;B<S.length;B++)Q=m.g=S[B],j=so(Q,P,!1,m)&&j}tt.prototype.N=function(){if(tt.aa.N.call(this),this.i){var c=this.i,m;for(m in c.g){for(var S=c.g[m],P=0;P<S.length;P++)gn(S[P]);delete c.g[m],c.h--}}this.F=null},tt.prototype.K=function(c,m,S,P){return this.i.add(String(c),m,!1,S,P)},tt.prototype.L=function(c,m,S,P){return this.i.add(String(c),m,!0,S,P)};function so(c,m,S,P){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();for(var j=!0,B=0;B<m.length;++B){var Q=m[B];if(Q&&!Q.da&&Q.capture==S){var We=Q.listener,Bt=Q.ha||Q.src;Q.fa&&zi(c.i,Q),j=We.call(Bt,P)!==!1&&j}}return j&&!P.defaultPrevented}function da(c,m,S){if(typeof c=="function")S&&(c=f(c,S));else if(c&&typeof c.handleEvent=="function")c=f(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:a.setTimeout(c,m||0)}function yr(c){c.g=da(()=>{c.g=null,c.i&&(c.i=!1,yr(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class vr extends ge{constructor(m,S){super(),this.m=m,this.l=S,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:yr(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Wi(c){ge.call(this),this.h=c,this.g={}}T(Wi,ge);var oo=[];function Gd(c){F(c.g,function(m,S){this.g.hasOwnProperty(S)&&cu(m)},c),c.g={}}Wi.prototype.N=function(){Wi.aa.N.call(this),Gd(this)},Wi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Xn=a.JSON.stringify,qd=a.JSON.parse,Qd=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function ha(){}ha.prototype.h=null;function Yd(c){return c.h||(c.h=c.i())}function pu(){}var Lr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function fa(){Se.call(this,"d")}T(fa,Se);function ao(){Se.call(this,"c")}T(ao,Se);var Jn={},pa=null;function ma(){return pa=pa||new tt}Jn.La="serverreachability";function mu(c){Se.call(this,Jn.La,c)}T(mu,Se);function lo(c){const m=ma();Et(m,new mu(m))}Jn.STAT_EVENT="statevent";function gu(c,m){Se.call(this,Jn.STAT_EVENT,c),this.stat=m}T(gu,Se);function Ct(c){const m=ma();Et(m,new gu(m,c))}Jn.Ma="timingevent";function uo(c,m){Se.call(this,Jn.Ma,c),this.size=m}T(uo,Se);function Ki(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},m)}function co(){this.g=!0}co.prototype.xa=function(){this.g=!1};function zm(c,m,S,P,j,B){c.info(function(){if(c.g)if(B)for(var Q="",We=B.split("&"),Bt=0;Bt<We.length;Bt++){var Oe=We[Bt].split("=");if(1<Oe.length){var Zt=Oe[0];Oe=Oe[1];var en=Zt.split("_");Q=2<=en.length&&en[1]=="type"?Q+(Zt+"="+Oe+"&"):Q+(Zt+"=redacted&")}}else Q=null;else Q=B;return"XMLHTTP REQ ("+P+") [attempt "+j+"]: "+m+`
`+S+`
`+Q})}function O(c,m,S,P,j,B,Q){c.info(function(){return"XMLHTTP RESP ("+P+") [ attempt "+j+"]: "+m+`
`+S+`
`+B+" "+Q})}function V(c,m,S,P){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+W(c,S)+(P?" "+P:"")})}function U(c,m){c.info(function(){return"TIMEOUT: "+m})}co.prototype.info=function(){};function W(c,m){if(!c.g)return m;if(!m)return null;try{var S=JSON.parse(m);if(S){for(c=0;c<S.length;c++)if(Array.isArray(S[c])){var P=S[c];if(!(2>P.length)){var j=P[1];if(Array.isArray(j)&&!(1>j.length)){var B=j[0];if(B!="noop"&&B!="stop"&&B!="close")for(var Q=1;Q<j.length;Q++)j[Q]=""}}}}return Xn(S)}catch{return m}}var X={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},oe={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},pe;function q(){}T(q,ha),q.prototype.g=function(){return new XMLHttpRequest},q.prototype.i=function(){return{}},pe=new q;function ie(c,m,S,P){this.j=c,this.i=m,this.l=S,this.R=P||1,this.U=new Wi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new te}function te(){this.i=null,this.g="",this.h=!1}var re={},Pe={};function De(c,m,S){c.L=1,c.v=th(li(m)),c.m=S,c.P=!0,Ue(c,null)}function Ue(c,m){c.F=Date.now(),qe(c),c.A=li(c.v);var S=c.A,P=c.R;Array.isArray(P)||(P=[String(P)]),CE(S.i,"t",P),c.C=0,S=c.j.J,c.h=new te,c.g=WE(c.j,S?m:null,!c.m),0<c.O&&(c.M=new vr(f(c.Y,c,c.g),c.O)),m=c.U,S=c.g,P=c.ca;var j="readystatechange";Array.isArray(j)||(j&&(oo[0]=j.toString()),j=oo);for(var B=0;B<j.length;B++){var Q=io(S,j[B],P||m.handleEvent,!1,m.h||m);if(!Q)break;m.g[Q.key]=Q}m=c.H?w(c.H):{},c.m?(c.u||(c.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,m)):(c.u="GET",c.g.ea(c.A,c.u,null,m)),lo(),zm(c.i,c.u,c.A,c.l,c.R,c.m)}ie.prototype.ca=function(c){c=c.target;const m=this.M;m&&ui(c)==3?m.j():this.Y(c)},ie.prototype.Y=function(c){try{if(c==this.g)e:{const en=ui(this.g);var m=this.g.Ba();const va=this.g.Z();if(!(3>en)&&(en!=3||this.g&&(this.h.h||this.g.oa()||DE(this.g)))){this.J||en!=4||m==7||(m==8||0>=va?lo(3):lo(2)),On(this);var S=this.g.Z();this.X=S;t:if(Re(this)){var P=DE(this.g);c="";var j=P.length,B=ui(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Xt(this),Zn(this);var Q="";break t}this.h.i=new a.TextDecoder}for(m=0;m<j;m++)this.h.h=!0,c+=this.h.i.decode(P[m],{stream:!(B&&m==j-1)});P.length=0,this.h.g+=c,this.C=0,Q=this.h.g}else Q=this.g.oa();if(this.o=S==200,O(this.i,this.u,this.A,this.l,this.R,en,S),this.o){if(this.T&&!this.K){t:{if(this.g){var We,Bt=this.g;if((We=Bt.g?Bt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(We)){var Oe=We;break t}}Oe=null}if(S=Oe)V(this.i,this.l,S,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Gi(this,S);else{this.o=!1,this.s=3,Ct(12),Xt(this),Zn(this);break e}}if(this.P){S=!0;let Er;for(;!this.J&&this.C<Q.length;)if(Er=Rt(this,Q),Er==Pe){en==4&&(this.s=4,Ct(14),S=!1),V(this.i,this.l,null,"[Incomplete Response]");break}else if(Er==re){this.s=4,Ct(15),V(this.i,this.l,Q,"[Invalid Chunk]"),S=!1;break}else V(this.i,this.l,Er,null),Gi(this,Er);if(Re(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),en!=4||Q.length!=0||this.h.h||(this.s=1,Ct(16),S=!1),this.o=this.o&&S,!S)V(this.i,this.l,Q,"[Invalid Chunked Response]"),Xt(this),Zn(this);else if(0<Q.length&&!this.W){this.W=!0;var Zt=this.j;Zt.g==this&&Zt.ba&&!Zt.M&&(Zt.j.info("Great, no buffering proxy detected. Bytes received: "+Q.length),Gm(Zt),Zt.M=!0,Ct(11))}}else V(this.i,this.l,Q,null),Gi(this,Q);en==4&&Xt(this),this.o&&!this.J&&(en==4?UE(this.j,this):(this.o=!1,qe(this)))}else TL(this.g),S==400&&0<Q.indexOf("Unknown SID")?(this.s=3,Ct(12)):(this.s=0,Ct(13)),Xt(this),Zn(this)}}}catch{}finally{}};function Re(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Rt(c,m){var S=c.C,P=m.indexOf(`
`,S);return P==-1?Pe:(S=Number(m.substring(S,P)),isNaN(S)?re:(P+=1,P+S>m.length?Pe:(m=m.slice(P,P+S),c.C=P+S,m)))}ie.prototype.cancel=function(){this.J=!0,Xt(this)};function qe(c){c.S=Date.now()+c.I,Hi(c,c.I)}function Hi(c,m){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Ki(f(c.ba,c),m)}function On(c){c.B&&(a.clearTimeout(c.B),c.B=null)}ie.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(U(this.i,this.A),this.L!=2&&(lo(),Ct(17)),Xt(this),this.s=2,Zn(this)):Hi(this,this.S-c)};function Zn(c){c.j.G==0||c.J||UE(c.j,c)}function Xt(c){On(c);var m=c.M;m&&typeof m.ma=="function"&&m.ma(),c.M=null,Gd(c.U),c.g&&(m=c.g,c.g=null,m.abort(),m.ma())}function Gi(c,m){try{var S=c.j;if(S.G!=0&&(S.g==c||ve(S.h,c))){if(!c.K&&ve(S.h,c)&&S.G==3){try{var P=S.Da.g.parse(m)}catch{P=null}if(Array.isArray(P)&&P.length==3){var j=P;if(j[0]==0){e:if(!S.u){if(S.g)if(S.g.F+3e3<c.F)oh(S),ih(S);else break e;Hm(S),Ct(18)}}else S.za=j[1],0<S.za-S.T&&37500>j[2]&&S.F&&S.v==0&&!S.C&&(S.C=Ki(f(S.Za,S),6e3));if(1>=po(S.h)&&S.ca){try{S.ca()}catch{}S.ca=void 0}}else go(S,11)}else if((c.K||S.g==c)&&oh(S),!_(m))for(j=S.Da.g.parse(m),m=0;m<j.length;m++){let Oe=j[m];if(S.T=Oe[0],Oe=Oe[1],S.G==2)if(Oe[0]=="c"){S.K=Oe[1],S.ia=Oe[2];const Zt=Oe[3];Zt!=null&&(S.la=Zt,S.j.info("VER="+S.la));const en=Oe[4];en!=null&&(S.Aa=en,S.j.info("SVER="+S.Aa));const va=Oe[5];va!=null&&typeof va=="number"&&0<va&&(P=1.5*va,S.L=P,S.j.info("backChannelRequestTimeoutMs_="+P)),P=S;const Er=c.g;if(Er){const lh=Er.g?Er.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(lh){var B=P.h;B.g||lh.indexOf("spdy")==-1&&lh.indexOf("quic")==-1&&lh.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(He(B,B.h),B.h=null))}if(P.D){const qm=Er.g?Er.g.getResponseHeader("X-HTTP-Session-Id"):null;qm&&(P.ya=qm,Ye(P.I,P.D,qm))}}S.G=3,S.l&&S.l.ua(),S.ba&&(S.R=Date.now()-c.F,S.j.info("Handshake RTT: "+S.R+"ms")),P=S;var Q=c;if(P.qa=zE(P,P.J?P.ia:null,P.W),Q.K){Jt(P.h,Q);var We=Q,Bt=P.L;Bt&&(We.I=Bt),We.B&&(On(We),qe(We)),P.g=Q}else FE(P);0<S.i.length&&sh(S)}else Oe[0]!="stop"&&Oe[0]!="close"||go(S,7);else S.G==3&&(Oe[0]=="stop"||Oe[0]=="close"?Oe[0]=="stop"?go(S,7):Km(S):Oe[0]!="noop"&&S.l&&S.l.ta(Oe),S.v=0)}}lo(4)}catch{}}var wr=class{constructor(c,m){this.g=c,this.map=m}};function ho(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function fo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function po(c){return c.h?1:c.g?c.g.size:0}function ve(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function He(c,m){c.g?c.g.add(m):c.h=m}function Jt(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}ho.prototype.cancel=function(){if(this.i=Qe(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Qe(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const S of c.g.values())m=m.concat(S.D);return m}return g(c.i)}function _r(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var m=[],S=c.length,P=0;P<S;P++)m.push(c[P]);return m}m=[],S=0;for(P in c)m[S++]=c[P];return m}function Xd(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var m=[];c=c.length;for(var S=0;S<c;S++)m.push(S);return m}m=[],S=0;for(const P in c)m[S++]=P;return m}}}function Jd(c,m){if(c.forEach&&typeof c.forEach=="function")c.forEach(m,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,m,void 0);else for(var S=Xd(c),P=_r(c),j=P.length,B=0;B<j;B++)m.call(void 0,P[B],S&&S[B],c)}var EE=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function uL(c,m){if(c){c=c.split("&");for(var S=0;S<c.length;S++){var P=c[S].indexOf("="),j=null;if(0<=P){var B=c[S].substring(0,P);j=c[S].substring(P+1)}else B=c[S];m(B,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function mo(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof mo){this.h=c.h,Zd(this,c.j),this.o=c.o,this.g=c.g,eh(this,c.s),this.l=c.l;var m=c.i,S=new wu;S.i=m.i,m.g&&(S.g=new Map(m.g),S.h=m.h),TE(this,S),this.m=c.m}else c&&(m=String(c).match(EE))?(this.h=!1,Zd(this,m[1]||"",!0),this.o=yu(m[2]||""),this.g=yu(m[3]||"",!0),eh(this,m[4]),this.l=yu(m[5]||"",!0),TE(this,m[6]||"",!0),this.m=yu(m[7]||"")):(this.h=!1,this.i=new wu(null,this.h))}mo.prototype.toString=function(){var c=[],m=this.j;m&&c.push(vu(m,xE,!0),":");var S=this.g;return(S||m=="file")&&(c.push("//"),(m=this.o)&&c.push(vu(m,xE,!0),"@"),c.push(encodeURIComponent(String(S)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.s,S!=null&&c.push(":",String(S))),(S=this.l)&&(this.g&&S.charAt(0)!="/"&&c.push("/"),c.push(vu(S,S.charAt(0)=="/"?hL:dL,!0))),(S=this.i.toString())&&c.push("?",S),(S=this.m)&&c.push("#",vu(S,pL)),c.join("")};function li(c){return new mo(c)}function Zd(c,m,S){c.j=S?yu(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function eh(c,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);c.s=m}else c.s=null}function TE(c,m,S){m instanceof wu?(c.i=m,mL(c.i,c.h)):(S||(m=vu(m,fL)),c.i=new wu(m,c.h))}function Ye(c,m,S){c.i.set(m,S)}function th(c){return Ye(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function yu(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function vu(c,m,S){return typeof c=="string"?(c=encodeURI(c).replace(m,cL),S&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function cL(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var xE=/[#\/\?@]/g,dL=/[#\?:]/g,hL=/[#\?]/g,fL=/[#\?@]/g,pL=/#/g;function wu(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function qi(c){c.g||(c.g=new Map,c.h=0,c.i&&uL(c.i,function(m,S){c.add(decodeURIComponent(m.replace(/\+/g," ")),S)}))}t=wu.prototype,t.add=function(c,m){qi(this),this.i=null,c=ga(this,c);var S=this.g.get(c);return S||this.g.set(c,S=[]),S.push(m),this.h+=1,this};function SE(c,m){qi(c),m=ga(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function bE(c,m){return qi(c),m=ga(c,m),c.g.has(m)}t.forEach=function(c,m){qi(this),this.g.forEach(function(S,P){S.forEach(function(j){c.call(m,j,P,this)},this)},this)},t.na=function(){qi(this);const c=Array.from(this.g.values()),m=Array.from(this.g.keys()),S=[];for(let P=0;P<m.length;P++){const j=c[P];for(let B=0;B<j.length;B++)S.push(m[P])}return S},t.V=function(c){qi(this);let m=[];if(typeof c=="string")bE(this,c)&&(m=m.concat(this.g.get(ga(this,c))));else{c=Array.from(this.g.values());for(let S=0;S<c.length;S++)m=m.concat(c[S])}return m},t.set=function(c,m){return qi(this),this.i=null,c=ga(this,c),bE(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},t.get=function(c,m){return c?(c=this.V(c),0<c.length?String(c[0]):m):m};function CE(c,m,S){SE(c,m),0<S.length&&(c.i=null,c.g.set(ga(c,m),g(S)),c.h+=S.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(var S=0;S<m.length;S++){var P=m[S];const B=encodeURIComponent(String(P)),Q=this.V(P);for(P=0;P<Q.length;P++){var j=B;Q[P]!==""&&(j+="="+encodeURIComponent(String(Q[P]))),c.push(j)}}return this.i=c.join("&")};function ga(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function mL(c,m){m&&!c.j&&(qi(c),c.i=null,c.g.forEach(function(S,P){var j=P.toLowerCase();P!=j&&(SE(this,P),CE(this,j,S))},c)),c.j=m}function gL(c,m){const S=new co;if(a.Image){const P=new Image;P.onload=p(Qi,S,"TestLoadImage: loaded",!0,m,P),P.onerror=p(Qi,S,"TestLoadImage: error",!1,m,P),P.onabort=p(Qi,S,"TestLoadImage: abort",!1,m,P),P.ontimeout=p(Qi,S,"TestLoadImage: timeout",!1,m,P),a.setTimeout(function(){P.ontimeout&&P.ontimeout()},1e4),P.src=c}else m(!1)}function yL(c,m){const S=new co,P=new AbortController,j=setTimeout(()=>{P.abort(),Qi(S,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:P.signal}).then(B=>{clearTimeout(j),B.ok?Qi(S,"TestPingServer: ok",!0,m):Qi(S,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(j),Qi(S,"TestPingServer: error",!1,m)})}function Qi(c,m,S,P,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),P(S)}catch{}}function vL(){this.g=new Qd}function wL(c,m,S){const P=S||"";try{Jd(c,function(j,B){let Q=j;u(j)&&(Q=Xn(j)),m.push(P+B+"="+encodeURIComponent(Q))})}catch(j){throw m.push(P+"type="+encodeURIComponent("_badmap")),j}}function _u(c){this.l=c.Ub||null,this.j=c.eb||!1}T(_u,ha),_u.prototype.g=function(){return new nh(this.l,this.j)},_u.prototype.i=function(c){return function(){return c}}({});function nh(c,m){tt.call(this),this.D=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}T(nh,tt),t=nh.prototype,t.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=m,this.readyState=1,Tu(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(m.body=c),(this.D||a).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Eu(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Tu(this)),this.g&&(this.readyState=3,Tu(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;RE(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function RE(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?Eu(this):Tu(this),this.readyState==3&&RE(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,Eu(this))},t.Qa=function(c){this.g&&(this.response=c,Eu(this))},t.ga=function(){this.g&&Eu(this)};function Eu(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Tu(c)}t.setRequestHeader=function(c,m){this.u.append(c,m)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var S=m.next();!S.done;)S=S.value,c.push(S[0]+": "+S[1]),S=m.next();return c.join(`\r
`)};function Tu(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(nh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function IE(c){let m="";return F(c,function(S,P){m+=P,m+=":",m+=S,m+=`\r
`}),m}function Wm(c,m,S){e:{for(P in S){var P=!1;break e}P=!0}P||(S=IE(S),typeof c=="string"?S!=null&&encodeURIComponent(String(S)):Ye(c,m,S))}function pt(c){tt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}T(pt,tt);var _L=/^https?$/i,EL=["POST","PUT"];t=pt.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,m,S,P){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():pe.g(),this.v=this.o?Yd(this.o):Yd(pe),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch(B){PE(this,B);return}if(c=S||"",S=new Map(this.headers),P)if(Object.getPrototypeOf(P)===Object.prototype)for(var j in P)S.set(j,P[j]);else if(typeof P.keys=="function"&&typeof P.get=="function")for(const B of P.keys())S.set(B,P.get(B));else throw Error("Unknown input type for opt_headers: "+String(P));P=Array.from(S.keys()).find(B=>B.toLowerCase()=="content-type"),j=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(EL,m,void 0))||P||j||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,Q]of S)this.g.setRequestHeader(B,Q);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{NE(this),this.u=!0,this.g.send(c),this.u=!1}catch(B){PE(this,B)}};function PE(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.m=5,AE(c),rh(c)}function AE(c){c.A||(c.A=!0,Et(c,"complete"),Et(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Et(this,"complete"),Et(this,"abort"),rh(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),rh(this,!0)),pt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?kE(this):this.bb())},t.bb=function(){kE(this)};function kE(c){if(c.h&&typeof o<"u"&&(!c.v[1]||ui(c)!=4||c.Z()!=2)){if(c.u&&ui(c)==4)da(c.Ea,0,c);else if(Et(c,"readystatechange"),ui(c)==4){c.h=!1;try{const Q=c.Z();e:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var S;if(!(S=m)){var P;if(P=Q===0){var j=String(c.D).match(EE)[1]||null;!j&&a.self&&a.self.location&&(j=a.self.location.protocol.slice(0,-1)),P=!_L.test(j?j.toLowerCase():"")}S=P}if(S)Et(c,"complete"),Et(c,"success");else{c.m=6;try{var B=2<ui(c)?c.g.statusText:""}catch{B=""}c.l=B+" ["+c.Z()+"]",AE(c)}}finally{rh(c)}}}}function rh(c,m){if(c.g){NE(c);const S=c.g,P=c.v[0]?()=>{}:null;c.g=null,c.v=null,m||Et(c,"ready");try{S.onreadystatechange=P}catch{}}}function NE(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function ui(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<ui(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),qd(m)}};function DE(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function TL(c){const m={};c=(c.g&&2<=ui(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let P=0;P<c.length;P++){if(_(c[P]))continue;var S=D(c[P]);const j=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const B=m[j]||[];m[j]=B,B.push(S)}C(m,function(P){return P.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function xu(c,m,S){return S&&S.internalChannelParams&&S.internalChannelParams[c]||m}function ME(c){this.Aa=0,this.i=[],this.j=new co,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=xu("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=xu("baseRetryDelayMs",5e3,c),this.cb=xu("retryDelaySeedMs",1e4,c),this.Wa=xu("forwardChannelMaxRetries",2,c),this.wa=xu("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new ho(c&&c.concurrentRequestLimit),this.Da=new vL,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=ME.prototype,t.la=8,t.G=1,t.connect=function(c,m,S,P){Ct(0),this.W=c,this.H=m||{},S&&P!==void 0&&(this.H.OSID=S,this.H.OAID=P),this.F=this.X,this.I=zE(this,null,this.W),sh(this)};function Km(c){if(OE(c),c.G==3){var m=c.U++,S=li(c.I);if(Ye(S,"SID",c.K),Ye(S,"RID",m),Ye(S,"TYPE","terminate"),Su(c,S),m=new ie(c,c.j,m),m.L=2,m.v=th(li(S)),S=!1,a.navigator&&a.navigator.sendBeacon)try{S=a.navigator.sendBeacon(m.v.toString(),"")}catch{}!S&&a.Image&&(new Image().src=m.v,S=!0),S||(m.g=WE(m.j,null),m.g.ea(m.v)),m.F=Date.now(),qe(m)}$E(c)}function ih(c){c.g&&(Gm(c),c.g.cancel(),c.g=null)}function OE(c){ih(c),c.u&&(a.clearTimeout(c.u),c.u=null),oh(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function sh(c){if(!fo(c.h)&&!c.s){c.s=!0;var m=c.Ga;le||Y(),z||(le(),z=!0),$.add(m,c),c.B=0}}function xL(c,m){return po(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=m.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Ki(f(c.Ga,c,m),BE(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const j=new ie(this,this.j,c);let B=this.o;if(this.S&&(B?(B=w(B),A(B,this.S)):B=this.S),this.m!==null||this.O||(j.H=B,B=null),this.P)e:{for(var m=0,S=0;S<this.i.length;S++){t:{var P=this.i[S];if("__data__"in P.map&&(P=P.map.__data__,typeof P=="string")){P=P.length;break t}P=void 0}if(P===void 0)break;if(m+=P,4096<m){m=S;break e}if(m===4096||S===this.i.length-1){m=S+1;break e}}m=1e3}else m=1e3;m=VE(this,j,m),S=li(this.I),Ye(S,"RID",c),Ye(S,"CVER",22),this.D&&Ye(S,"X-HTTP-Session-Id",this.D),Su(this,S),B&&(this.O?m="headers="+encodeURIComponent(String(IE(B)))+"&"+m:this.m&&Wm(S,this.m,B)),He(this.h,j),this.Ua&&Ye(S,"TYPE","init"),this.P?(Ye(S,"$req",m),Ye(S,"SID","null"),j.T=!0,De(j,S,null)):De(j,S,m),this.G=2}}else this.G==3&&(c?LE(this,c):this.i.length==0||fo(this.h)||LE(this))};function LE(c,m){var S;m?S=m.l:S=c.U++;const P=li(c.I);Ye(P,"SID",c.K),Ye(P,"RID",S),Ye(P,"AID",c.T),Su(c,P),c.m&&c.o&&Wm(P,c.m,c.o),S=new ie(c,c.j,S,c.B+1),c.m===null&&(S.H=c.o),m&&(c.i=m.D.concat(c.i)),m=VE(c,S,1e3),S.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),He(c.h,S),De(S,P,m)}function Su(c,m){c.H&&F(c.H,function(S,P){Ye(m,P,S)}),c.l&&Jd({},function(S,P){Ye(m,P,S)})}function VE(c,m,S){S=Math.min(c.i.length,S);var P=c.l?f(c.l.Na,c.l,c):null;e:{var j=c.i;let B=-1;for(;;){const Q=["count="+S];B==-1?0<S?(B=j[0].g,Q.push("ofs="+B)):B=0:Q.push("ofs="+B);let We=!0;for(let Bt=0;Bt<S;Bt++){let Oe=j[Bt].g;const Zt=j[Bt].map;if(Oe-=B,0>Oe)B=Math.max(0,j[Bt].g-100),We=!1;else try{wL(Zt,Q,"req"+Oe+"_")}catch{P&&P(Zt)}}if(We){P=Q.join("&");break e}}}return c=c.i.splice(0,S),m.D=c,P}function FE(c){if(!c.g&&!c.u){c.Y=1;var m=c.Fa;le||Y(),z||(le(),z=!0),$.add(m,c),c.v=0}}function Hm(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Ki(f(c.Fa,c),BE(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,jE(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Ki(f(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ct(10),ih(this),jE(this))};function Gm(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function jE(c){c.g=new ie(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var m=li(c.qa);Ye(m,"RID","rpc"),Ye(m,"SID",c.K),Ye(m,"AID",c.T),Ye(m,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ye(m,"TO",c.ja),Ye(m,"TYPE","xmlhttp"),Su(c,m),c.m&&c.o&&Wm(m,c.m,c.o),c.L&&(c.g.I=c.L);var S=c.g;c=c.ia,S.L=1,S.v=th(li(m)),S.m=null,S.P=!0,Ue(S,c)}t.Za=function(){this.C!=null&&(this.C=null,ih(this),Hm(this),Ct(19))};function oh(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function UE(c,m){var S=null;if(c.g==m){oh(c),Gm(c),c.g=null;var P=2}else if(ve(c.h,m))S=m.D,Jt(c.h,m),P=1;else return;if(c.G!=0){if(m.o)if(P==1){S=m.m?m.m.length:0,m=Date.now()-m.F;var j=c.B;P=ma(),Et(P,new uo(P,S)),sh(c)}else FE(c);else if(j=m.s,j==3||j==0&&0<m.X||!(P==1&&xL(c,m)||P==2&&Hm(c)))switch(S&&0<S.length&&(m=c.h,m.i=m.i.concat(S)),j){case 1:go(c,5);break;case 4:go(c,10);break;case 3:go(c,6);break;default:go(c,2)}}}function BE(c,m){let S=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(S*=2),S*m}function go(c,m){if(c.j.info("Error code "+m),m==2){var S=f(c.fb,c),P=c.Xa;const j=!P;P=new mo(P||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Zd(P,"https"),th(P),j?gL(P.toString(),S):yL(P.toString(),S)}else Ct(2);c.G=0,c.l&&c.l.sa(m),$E(c),OE(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Ct(2)):(this.j.info("Failed to ping google.com"),Ct(1))};function $E(c){if(c.G=0,c.ka=[],c.l){const m=Qe(c.h);(m.length!=0||c.i.length!=0)&&(x(c.ka,m),x(c.ka,c.i),c.h.i.length=0,g(c.i),c.i.length=0),c.l.ra()}}function zE(c,m,S){var P=S instanceof mo?li(S):new mo(S);if(P.g!="")m&&(P.g=m+"."+P.g),eh(P,P.s);else{var j=a.location;P=j.protocol,m=m?m+"."+j.hostname:j.hostname,j=+j.port;var B=new mo(null);P&&Zd(B,P),m&&(B.g=m),j&&eh(B,j),S&&(B.l=S),P=B}return S=c.D,m=c.ya,S&&m&&Ye(P,S,m),Ye(P,"VER",c.la),Su(c,P),P}function WE(c,m,S){if(m&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Ca&&!c.pa?new pt(new _u({eb:S})):new pt(c.pa),m.Ha(c.J),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function KE(){}t=KE.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ah(){}ah.prototype.g=function(c,m){return new Ln(c,m)};function Ln(c,m){tt.call(this),this.g=new ME(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(c?c["X-WebChannel-Client-Profile"]=m.va:c={"X-WebChannel-Client-Profile":m.va}),this.g.S=c,(c=m&&m.Sb)&&!_(c)&&(this.g.m=c),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!_(m)&&(this.g.D=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new ya(this)}T(Ln,tt),Ln.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ln.prototype.close=function(){Km(this.g)},Ln.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var S={};S.__data__=c,c=S}else this.u&&(S={},S.__data__=Xn(c),c=S);m.i.push(new wr(m.Ya++,c)),m.G==3&&sh(m)},Ln.prototype.N=function(){this.g.l=null,delete this.j,Km(this.g),delete this.g,Ln.aa.N.call(this)};function HE(c){fa.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){e:{for(const S in m){c=S;break e}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}T(HE,fa);function GE(){ao.call(this),this.status=1}T(GE,ao);function ya(c){this.g=c}T(ya,KE),ya.prototype.ua=function(){Et(this.g,"a")},ya.prototype.ta=function(c){Et(this.g,new HE(c))},ya.prototype.sa=function(c){Et(this.g,new GE)},ya.prototype.ra=function(){Et(this.g,"b")},ah.prototype.createWebChannel=ah.prototype.g,Ln.prototype.send=Ln.prototype.o,Ln.prototype.open=Ln.prototype.m,Ln.prototype.close=Ln.prototype.close,CM=function(){return new ah},bM=function(){return ma()},SM=Jn,iw={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},X.NO_ERROR=0,X.TIMEOUT=8,X.HTTP_ERROR=6,vf=X,oe.COMPLETE="complete",xM=oe,pu.EventType=Lr,Lr.OPEN="a",Lr.CLOSE="b",Lr.ERROR="c",Lr.MESSAGE="d",tt.prototype.listen=tt.prototype.K,Yu=pu,TM=_u,pt.prototype.listenOnce=pt.prototype.L,pt.prototype.getLastError=pt.prototype.Ka,pt.prototype.getLastErrorCode=pt.prototype.Ba,pt.prototype.getStatus=pt.prototype.Z,pt.prototype.getResponseJson=pt.prototype.Oa,pt.prototype.getResponseText=pt.prototype.oa,pt.prototype.send=pt.prototype.ea,pt.prototype.setWithCredentials=pt.prototype.Ha,EM=pt}).apply(typeof zh<"u"?zh:typeof self<"u"?self:typeof window<"u"?window:{});const oC="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}an.UNAUTHENTICATED=new an(null),an.GOOGLE_CREDENTIALS=new an("google-credentials-uid"),an.FIRST_PARTY=new an("first-party-uid"),an.MOCK_USER=new an("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let su="10.13.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ea=new p0("@firebase/firestore");function ju(){return ea.logLevel}function ne(t,...e){if(ea.logLevel<=ke.DEBUG){const n=e.map(j_);ea.debug(`Firestore (${su}): ${t}`,...n)}}function Ui(t,...e){if(ea.logLevel<=ke.ERROR){const n=e.map(j_);ea.error(`Firestore (${su}): ${t}`,...n)}}function Vl(t,...e){if(ea.logLevel<=ke.WARN){const n=e.map(j_);ea.warn(`Firestore (${su}): ${t}`,...n)}}function j_(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ye(t="Unexpected state"){const e=`FIRESTORE (${su}) INTERNAL ASSERTION FAILED: `+t;throw Ui(e),new Error(e)}function Ke(t,e){t||ye()}function _e(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends ii{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RM{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class zq{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(an.UNAUTHENTICATED))}shutdown(){}}class Wq{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Kq{constructor(e){this.t=e,this.currentUser=an.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Fs;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Fs,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{ne("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(ne("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Fs)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ne("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ke(typeof r.accessToken=="string"),new RM(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string"),new an(e)}}class Hq{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=an.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Gq{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Hq(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(an.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class qq{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Qq{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&ne("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,ne("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{ne("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):ne("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ke(typeof n.token=="string"),this.R=n.token,new qq(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yq(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IM{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=Yq(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Le(t,e){return t<e?-1:t>e?1:0}function Fl(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ce(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ce(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ce(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Vt.fromMillis(Date.now())}static fromDate(e){return Vt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Vt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Le(this.nanoseconds,e.nanoseconds):Le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.timestamp=e}static fromTimestamp(e){return new we(e)}static min(){return new we(new Vt(0,0))}static max(){return new we(new Vt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(e,n,r){n===void 0?n=0:n>e.length&&ye(),r===void 0?r=e.length-n:r>e.length-n&&ye(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Jc.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Jc?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class yt extends Jc{construct(e,n,r){return new yt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ce(H.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new yt(n)}static emptyPath(){return new yt([])}}const Xq=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kt extends Jc{construct(e,n,r){return new Kt(e,n,r)}static isValidIdentifier(e){return Xq.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Kt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new ce(H.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new ce(H.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ce(H.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new ce(H.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Kt(n)}static emptyPath(){return new Kt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(e){this.path=e}static fromPath(e){return new de(yt.fromString(e))}static fromName(e){return new de(yt.fromString(e).popFirst(5))}static empty(){return new de(yt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&yt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return yt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new de(new yt(e.slice()))}}function Jq(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=we.fromTimestamp(r===1e9?new Vt(n+1,0):new Vt(n,r));return new Qs(i,de.empty(),e)}function Zq(t){return new Qs(t.readTime,t.key,-1)}class Qs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Qs(we.min(),de.empty(),-1)}static max(){return new Qs(we.max(),de.empty(),-1)}}function eQ(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=de.comparator(t.documentKey,e.documentKey),n!==0?n:Le(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tQ="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class nQ{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ud(t){if(t.code!==H.FAILED_PRECONDITION||t.message!==tQ)throw t;ne("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ye(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new K((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof K?n:K.resolve(n)}catch(n){return K.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):K.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):K.reject(n)}static resolve(e){return new K((n,r)=>{n(e)})}static reject(e){return new K((n,r)=>{r(e)})}static waitFor(e){return new K((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=K.resolve(!1);for(const r of e)n=n.next(i=>i?K.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new K((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(d=>{o[u]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new K((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function rQ(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Bd(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U_{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}U_.oe=-1;function Nm(t){return t==null}function _p(t){return t===0&&1/t==-1/0}function iQ(t){return typeof t=="number"&&Number.isInteger(t)&&!_p(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aC(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ou(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function PM(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e,n){this.comparator=e,this.root=n||Wt.EMPTY}insert(e,n){return new dt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Wt.BLACK,null,null))}remove(e){return new dt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Wt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Wh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Wh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Wh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Wh(this.root,e,this.comparator,!0)}}class Wh{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Wt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Wt.RED,this.left=i??Wt.EMPTY,this.right=s??Wt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Wt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Wt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Wt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Wt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Wt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ye();const e=this.left.check();if(e!==this.right.check())throw ye();return e+(this.isRed()?0:1)}}Wt.EMPTY=null,Wt.RED=!0,Wt.BLACK=!1;Wt.EMPTY=new class{constructor(){this.size=0}get key(){throw ye()}get value(){throw ye()}get color(){throw ye()}get left(){throw ye()}get right(){throw ye()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Wt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.comparator=e,this.data=new dt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new lC(this.data.getIterator())}getIteratorFrom(e){return new lC(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Gt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Gt(this.comparator);return n.data=e,n}}class lC{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(e){this.fields=e,e.sort(Kt.comparator)}static empty(){return new Pr([])}unionWith(e){let n=new Gt(Kt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Pr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Fl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AM extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new AM("Invalid base64 string: "+s):s}}(e);return new Qt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Qt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qt.EMPTY_BYTE_STRING=new Qt("");const sQ=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ys(t){if(Ke(!!t),typeof t=="string"){let e=0;const n=sQ.exec(t);if(Ke(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:xt(t.seconds),nanos:xt(t.nanos)}}function xt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ta(t){return typeof t=="string"?Qt.fromBase64String(t):Qt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B_(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function $_(t){const e=t.mapValue.fields.__previous_value__;return B_(e)?$_(e):e}function Zc(t){const e=Ys(t.mapValue.fields.__local_write_time__.timestampValue);return new Vt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oQ{constructor(e,n,r,i,s,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class ed{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new ed("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof ed&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function na(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?B_(t)?4:lQ(t)?9007199254740991:aQ(t)?10:11:ye()}function ni(t,e){if(t===e)return!0;const n=na(t);if(n!==na(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Zc(t).isEqual(Zc(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Ys(i.timestampValue),a=Ys(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return ta(i.bytesValue).isEqual(ta(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return xt(i.geoPointValue.latitude)===xt(s.geoPointValue.latitude)&&xt(i.geoPointValue.longitude)===xt(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return xt(i.integerValue)===xt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=xt(i.doubleValue),a=xt(s.doubleValue);return o===a?_p(o)===_p(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Fl(t.arrayValue.values||[],e.arrayValue.values||[],ni);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(aC(o)!==aC(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!ni(o[l],a[l])))return!1;return!0}(t,e);default:return ye()}}function td(t,e){return(t.values||[]).find(n=>ni(n,e))!==void 0}function jl(t,e){if(t===e)return 0;const n=na(t),r=na(e);if(n!==r)return Le(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Le(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=xt(s.integerValue||s.doubleValue),l=xt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return uC(t.timestampValue,e.timestampValue);case 4:return uC(Zc(t),Zc(e));case 5:return Le(t.stringValue,e.stringValue);case 6:return function(s,o){const a=ta(s),l=ta(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const d=Le(a[u],l[u]);if(d!==0)return d}return Le(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Le(xt(s.latitude),xt(o.latitude));return a!==0?a:Le(xt(s.longitude),xt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return cC(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,u,d;const h=s.fields||{},f=o.fields||{},p=(a=h.value)===null||a===void 0?void 0:a.arrayValue,T=(l=f.value)===null||l===void 0?void 0:l.arrayValue,g=Le(((u=p==null?void 0:p.values)===null||u===void 0?void 0:u.length)||0,((d=T==null?void 0:T.values)===null||d===void 0?void 0:d.length)||0);return g!==0?g:cC(p,T)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Kh.mapValue&&o===Kh.mapValue)return 0;if(s===Kh.mapValue)return 1;if(o===Kh.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},d=Object.keys(u);l.sort(),d.sort();for(let h=0;h<l.length&&h<d.length;++h){const f=Le(l[h],d[h]);if(f!==0)return f;const p=jl(a[l[h]],u[d[h]]);if(p!==0)return p}return Le(l.length,d.length)}(t.mapValue,e.mapValue);default:throw ye()}}function uC(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Le(t,e);const n=Ys(t),r=Ys(e),i=Le(n.seconds,r.seconds);return i!==0?i:Le(n.nanos,r.nanos)}function cC(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=jl(n[i],r[i]);if(s)return s}return Le(n.length,r.length)}function Ul(t){return sw(t)}function sw(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ys(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ta(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return de.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=sw(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${sw(n.fields[o])}`;return i+"}"}(t.mapValue):ye()}function ow(t){return!!t&&"integerValue"in t}function z_(t){return!!t&&"arrayValue"in t}function dC(t){return!!t&&"nullValue"in t}function hC(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function wf(t){return!!t&&"mapValue"in t}function aQ(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function mc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ou(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=mc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=mc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function lQ(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(e){this.value=e}static empty(){return new or({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!wf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=mc(n)}setAll(e){let n=Kt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=mc(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());wf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ni(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];wf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ou(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new or(mc(this.value))}}function kM(t){const e=[];return ou(t.fields,(n,r)=>{const i=new Kt([n]);if(wf(r)){const s=kM(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Pr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new un(e,0,we.min(),we.min(),we.min(),or.empty(),0)}static newFoundDocument(e,n,r,i){return new un(e,1,n,we.min(),r,i,0)}static newNoDocument(e,n){return new un(e,2,n,we.min(),we.min(),or.empty(),0)}static newUnknownDocument(e,n){return new un(e,3,n,we.min(),we.min(),or.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=or.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=or.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof un&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new un(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ep{constructor(e,n){this.position=e,this.inclusive=n}}function fC(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=de.comparator(de.fromName(o.referenceValue),n.key):r=jl(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function pC(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ni(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp{constructor(e,n="asc"){this.field=e,this.dir=n}}function uQ(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NM{}class Mt extends NM{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new dQ(e,n,r):n==="array-contains"?new pQ(e,r):n==="in"?new mQ(e,r):n==="not-in"?new gQ(e,r):n==="array-contains-any"?new yQ(e,r):new Mt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new hQ(e,r):new fQ(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(jl(n,this.value)):n!==null&&na(this.value)===na(n)&&this.matchesComparison(jl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ye()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ri extends NM{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new ri(e,n)}matches(e){return DM(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function DM(t){return t.op==="and"}function MM(t){return cQ(t)&&DM(t)}function cQ(t){for(const e of t.filters)if(e instanceof ri)return!1;return!0}function aw(t){if(t instanceof Mt)return t.field.canonicalString()+t.op.toString()+Ul(t.value);if(MM(t))return t.filters.map(e=>aw(e)).join(",");{const e=t.filters.map(n=>aw(n)).join(",");return`${t.op}(${e})`}}function OM(t,e){return t instanceof Mt?function(r,i){return i instanceof Mt&&r.op===i.op&&r.field.isEqual(i.field)&&ni(r.value,i.value)}(t,e):t instanceof ri?function(r,i){return i instanceof ri&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&OM(o,i.filters[a]),!0):!1}(t,e):void ye()}function LM(t){return t instanceof Mt?function(n){return`${n.field.canonicalString()} ${n.op} ${Ul(n.value)}`}(t):t instanceof ri?function(n){return n.op.toString()+" {"+n.getFilters().map(LM).join(" ,")+"}"}(t):"Filter"}class dQ extends Mt{constructor(e,n,r){super(e,n,r),this.key=de.fromName(r.referenceValue)}matches(e){const n=de.comparator(e.key,this.key);return this.matchesComparison(n)}}class hQ extends Mt{constructor(e,n){super(e,"in",n),this.keys=VM("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class fQ extends Mt{constructor(e,n){super(e,"not-in",n),this.keys=VM("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function VM(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>de.fromName(r.referenceValue))}class pQ extends Mt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return z_(n)&&td(n.arrayValue,this.value)}}class mQ extends Mt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&td(this.value.arrayValue,n)}}class gQ extends Mt{constructor(e,n){super(e,"not-in",n)}matches(e){if(td(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!td(this.value.arrayValue,n)}}class yQ extends Mt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!z_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>td(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vQ{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function mC(t,e=null,n=[],r=[],i=null,s=null,o=null){return new vQ(t,e,n,r,i,s,o)}function W_(t){const e=_e(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>aw(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Nm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ul(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ul(r)).join(",")),e.ue=n}return e.ue}function K_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!uQ(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!OM(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!pC(t.startAt,e.startAt)&&pC(t.endAt,e.endAt)}function lw(t){return de.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function wQ(t,e,n,r,i,s,o,a){return new Dm(t,e,n,r,i,s,o,a)}function H_(t){return new Dm(t)}function gC(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function _Q(t){return t.collectionGroup!==null}function gc(t){const e=_e(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Gt(Kt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Tp(s,r))}),n.has(Kt.keyField().canonicalString())||e.ce.push(new Tp(Kt.keyField(),r))}return e.ce}function Zr(t){const e=_e(t);return e.le||(e.le=EQ(e,gc(t))),e.le}function EQ(t,e){if(t.limitType==="F")return mC(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Tp(i.field,s)});const n=t.endAt?new Ep(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ep(t.startAt.position,t.startAt.inclusive):null;return mC(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function uw(t,e,n){return new Dm(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Mm(t,e){return K_(Zr(t),Zr(e))&&t.limitType===e.limitType}function FM(t){return`${W_(Zr(t))}|lt:${t.limitType}`}function Ca(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>LM(i)).join(", ")}]`),Nm(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Ul(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Ul(i)).join(",")),`Target(${r})`}(Zr(t))}; limitType=${t.limitType})`}function Om(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):de.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of gc(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=fC(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,gc(r),i)||r.endAt&&!function(o,a,l){const u=fC(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,gc(r),i))}(t,e)}function TQ(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function jM(t){return(e,n)=>{let r=!1;for(const i of gc(t)){const s=xQ(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function xQ(t,e,n){const r=t.field.isKeyField()?de.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?jl(l,u):ye()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ye()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ou(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return PM(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SQ=new dt(de.comparator);function Bi(){return SQ}const UM=new dt(de.comparator);function Xu(...t){let e=UM;for(const n of t)e=e.insert(n.key,n);return e}function BM(t){let e=UM;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Po(){return yc()}function $M(){return yc()}function yc(){return new au(t=>t.toString(),(t,e)=>t.isEqual(e))}const bQ=new dt(de.comparator),CQ=new Gt(de.comparator);function Ie(...t){let e=CQ;for(const n of t)e=e.add(n);return e}const RQ=new Gt(Le);function IQ(){return RQ}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_p(e)?"-0":e}}function zM(t){return{integerValue:""+t}}function PQ(t,e){return iQ(e)?zM(e):G_(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm{constructor(){this._=void 0}}function AQ(t,e,n){return t instanceof xp?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&B_(s)&&(s=$_(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof nd?KM(t,e):t instanceof rd?HM(t,e):function(i,s){const o=WM(i,s),a=yC(o)+yC(i.Pe);return ow(o)&&ow(i.Pe)?zM(a):G_(i.serializer,a)}(t,e)}function kQ(t,e,n){return t instanceof nd?KM(t,e):t instanceof rd?HM(t,e):n}function WM(t,e){return t instanceof Sp?function(r){return ow(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class xp extends Lm{}class nd extends Lm{constructor(e){super(),this.elements=e}}function KM(t,e){const n=GM(e);for(const r of t.elements)n.some(i=>ni(i,r))||n.push(r);return{arrayValue:{values:n}}}class rd extends Lm{constructor(e){super(),this.elements=e}}function HM(t,e){let n=GM(e);for(const r of t.elements)n=n.filter(i=>!ni(i,r));return{arrayValue:{values:n}}}class Sp extends Lm{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function yC(t){return xt(t.integerValue||t.doubleValue)}function GM(t){return z_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function NQ(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof nd&&i instanceof nd||r instanceof rd&&i instanceof rd?Fl(r.elements,i.elements,ni):r instanceof Sp&&i instanceof Sp?ni(r.Pe,i.Pe):r instanceof xp&&i instanceof xp}(t.transform,e.transform)}class DQ{constructor(e,n){this.version=e,this.transformResults=n}}class Ii{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ii}static exists(e){return new Ii(void 0,e)}static updateTime(e){return new Ii(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function _f(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Vm{}function qM(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new YM(t.key,Ii.none()):new $d(t.key,t.data,Ii.none());{const n=t.data,r=or.empty();let i=new Gt(Kt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new ua(t.key,r,new Pr(i.toArray()),Ii.none())}}function MQ(t,e,n){t instanceof $d?function(i,s,o){const a=i.value.clone(),l=wC(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof ua?function(i,s,o){if(!_f(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=wC(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(QM(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function vc(t,e,n,r){return t instanceof $d?function(s,o,a,l){if(!_f(s.precondition,o))return a;const u=s.value.clone(),d=_C(s.fieldTransforms,l,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof ua?function(s,o,a,l){if(!_f(s.precondition,o))return a;const u=_C(s.fieldTransforms,l,o),d=o.data;return d.setAll(QM(s)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(s,o,a){return _f(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function OQ(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=WM(r.transform,i||null);s!=null&&(n===null&&(n=or.empty()),n.set(r.field,s))}return n||null}function vC(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Fl(r,i,(s,o)=>NQ(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class $d extends Vm{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ua extends Vm{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function QM(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function wC(t,e,n){const r=new Map;Ke(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,kQ(o,a,n[i]))}return r}function _C(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,AQ(s,o,e))}return r}class YM extends Vm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class LQ extends Vm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VQ{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&MQ(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=vc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=vc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=$M();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=qM(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(we.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ie())}isEqual(e){return this.batchId===e.batchId&&Fl(this.mutations,e.mutations,(n,r)=>vC(n,r))&&Fl(this.baseMutations,e.baseMutations,(n,r)=>vC(n,r))}}class q_{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ke(e.mutations.length===r.length);let i=function(){return bQ}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new q_(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FQ{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jQ{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var It,Ne;function UQ(t){switch(t){default:return ye();case H.CANCELLED:case H.UNKNOWN:case H.DEADLINE_EXCEEDED:case H.RESOURCE_EXHAUSTED:case H.INTERNAL:case H.UNAVAILABLE:case H.UNAUTHENTICATED:return!1;case H.INVALID_ARGUMENT:case H.NOT_FOUND:case H.ALREADY_EXISTS:case H.PERMISSION_DENIED:case H.FAILED_PRECONDITION:case H.ABORTED:case H.OUT_OF_RANGE:case H.UNIMPLEMENTED:case H.DATA_LOSS:return!0}}function XM(t){if(t===void 0)return Ui("GRPC error has no .code"),H.UNKNOWN;switch(t){case It.OK:return H.OK;case It.CANCELLED:return H.CANCELLED;case It.UNKNOWN:return H.UNKNOWN;case It.DEADLINE_EXCEEDED:return H.DEADLINE_EXCEEDED;case It.RESOURCE_EXHAUSTED:return H.RESOURCE_EXHAUSTED;case It.INTERNAL:return H.INTERNAL;case It.UNAVAILABLE:return H.UNAVAILABLE;case It.UNAUTHENTICATED:return H.UNAUTHENTICATED;case It.INVALID_ARGUMENT:return H.INVALID_ARGUMENT;case It.NOT_FOUND:return H.NOT_FOUND;case It.ALREADY_EXISTS:return H.ALREADY_EXISTS;case It.PERMISSION_DENIED:return H.PERMISSION_DENIED;case It.FAILED_PRECONDITION:return H.FAILED_PRECONDITION;case It.ABORTED:return H.ABORTED;case It.OUT_OF_RANGE:return H.OUT_OF_RANGE;case It.UNIMPLEMENTED:return H.UNIMPLEMENTED;case It.DATA_LOSS:return H.DATA_LOSS;default:return ye()}}(Ne=It||(It={}))[Ne.OK=0]="OK",Ne[Ne.CANCELLED=1]="CANCELLED",Ne[Ne.UNKNOWN=2]="UNKNOWN",Ne[Ne.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ne[Ne.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ne[Ne.NOT_FOUND=5]="NOT_FOUND",Ne[Ne.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ne[Ne.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ne[Ne.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ne[Ne.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ne[Ne.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ne[Ne.ABORTED=10]="ABORTED",Ne[Ne.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ne[Ne.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ne[Ne.INTERNAL=13]="INTERNAL",Ne[Ne.UNAVAILABLE=14]="UNAVAILABLE",Ne[Ne.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BQ(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $Q=new Bo([4294967295,4294967295],0);function EC(t){const e=BQ().encode(t),n=new _M;return n.update(e),new Uint8Array(n.digest())}function TC(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Bo([n,r],0),new Bo([i,s],0)]}class Q_{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ju(`Invalid padding: ${n}`);if(r<0)throw new Ju(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ju(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ju(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Bo.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Bo.fromNumber(r)));return i.compare($Q)===1&&(i=new Bo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=EC(e),[r,i]=TC(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Q_(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=EC(e),[r,i]=TC(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ju extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,zd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Fm(we.min(),i,new dt(Le),Bi(),Ie())}}class zd{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new zd(r,n,Ie(),Ie(),Ie())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class JM{constructor(e,n){this.targetId=e,this.me=n}}class ZM{constructor(e,n,r=Qt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class xC{constructor(){this.fe=0,this.ge=bC(),this.pe=Qt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ie(),n=Ie(),r=Ie();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ye()}}),new zd(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=bC()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ke(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class zQ{constructor(e){this.Le=e,this.Be=new Map,this.ke=Bi(),this.qe=SC(),this.Qe=new dt(Le)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ye()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(lw(s))if(r===0){const o=new de(s.path);this.Ue(n,o,un.newNoDocument(o,we.min()))}else Ke(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=ta(r).toUint8Array()}catch(l){if(l instanceof AM)return Vl("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Q_(o,i,s)}catch(l){return Vl(l instanceof Ju?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&lw(a.target)){const l=new de(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,un.newNoDocument(l,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=Ie();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new Fm(e,n,this.Qe,this.ke,r);return this.ke=Bi(),this.qe=SC(),this.Qe=new dt(Le),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new xC,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Gt(Le),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||ne("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new xC),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function SC(){return new dt(de.comparator)}function bC(){return new dt(de.comparator)}const WQ={asc:"ASCENDING",desc:"DESCENDING"},KQ={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},HQ={and:"AND",or:"OR"};class GQ{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function cw(t,e){return t.useProto3Json||Nm(e)?e:{value:e}}function bp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function eO(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function qQ(t,e){return bp(t,e.toTimestamp())}function ei(t){return Ke(!!t),we.fromTimestamp(function(n){const r=Ys(n);return new Vt(r.seconds,r.nanos)}(t))}function Y_(t,e){return dw(t,e).canonicalString()}function dw(t,e){const n=function(i){return new yt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function tO(t){const e=yt.fromString(t);return Ke(oO(e)),e}function hw(t,e){return Y_(t.databaseId,e.path)}function ay(t,e){const n=tO(e);if(n.get(1)!==t.databaseId.projectId)throw new ce(H.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ce(H.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new de(rO(n))}function nO(t,e){return Y_(t.databaseId,e)}function QQ(t){const e=tO(t);return e.length===4?yt.emptyPath():rO(e)}function fw(t){return new yt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function rO(t){return Ke(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function CC(t,e,n){return{name:hw(t,e),fields:n.value.mapValue.fields}}function YQ(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ye()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,d){return u.useProto3Json?(Ke(d===void 0||typeof d=="string"),Qt.fromBase64String(d||"")):(Ke(d===void 0||d instanceof Buffer||d instanceof Uint8Array),Qt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const d=u.code===void 0?H.UNKNOWN:XM(u.code);return new ce(d,u.message||"")}(o);n=new ZM(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=ay(t,r.document.name),s=ei(r.document.updateTime),o=r.document.createTime?ei(r.document.createTime):we.min(),a=new or({mapValue:{fields:r.document.fields}}),l=un.newFoundDocument(i,s,o,a),u=r.targetIds||[],d=r.removedTargetIds||[];n=new Ef(u,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=ay(t,r.document),s=r.readTime?ei(r.readTime):we.min(),o=un.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Ef([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=ay(t,r.document),s=r.removedTargetIds||[];n=new Ef([],s,i,null)}else{if(!("filter"in e))return ye();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new jQ(i,s),a=r.targetId;n=new JM(a,o)}}return n}function XQ(t,e){let n;if(e instanceof $d)n={update:CC(t,e.key,e.value)};else if(e instanceof YM)n={delete:hw(t,e.key)};else if(e instanceof ua)n={update:CC(t,e.key,e.data),updateMask:oY(e.fieldMask)};else{if(!(e instanceof LQ))return ye();n={verify:hw(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof xp)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof nd)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof rd)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Sp)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw ye()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:qQ(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ye()}(t,e.precondition)),n}function JQ(t,e){return t&&t.length>0?(Ke(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?ei(i.updateTime):ei(s);return o.isEqual(we.min())&&(o=ei(s)),new DQ(o,i.transformResults||[])}(n,e))):[]}function ZQ(t,e){return{documents:[nO(t,e.path)]}}function eY(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=nO(t,i);const s=function(u){if(u.length!==0)return sO(ri.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(d=>function(f){return{field:Ra(f.field),direction:rY(f.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=cw(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function tY(t){let e=QQ(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ke(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(h){const f=iO(h);return f instanceof ri&&MM(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(f=>function(T){return new Tp(Ia(T.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,Nm(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(h){const f=!!h.before,p=h.values||[];return new Ep(p,f)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const f=!h.before,p=h.values||[];return new Ep(p,f)}(n.endAt)),wQ(e,i,o,s,a,"F",l,u)}function nY(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ye()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function iO(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ia(n.unaryFilter.field);return Mt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Ia(n.unaryFilter.field);return Mt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Ia(n.unaryFilter.field);return Mt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Ia(n.unaryFilter.field);return Mt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ye()}}(t):t.fieldFilter!==void 0?function(n){return Mt.create(Ia(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ye()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return ri.create(n.compositeFilter.filters.map(r=>iO(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ye()}}(n.compositeFilter.op))}(t):ye()}function rY(t){return WQ[t]}function iY(t){return KQ[t]}function sY(t){return HQ[t]}function Ra(t){return{fieldPath:t.canonicalString()}}function Ia(t){return Kt.fromServerFormat(t.fieldPath)}function sO(t){return t instanceof Mt?function(n){if(n.op==="=="){if(hC(n.value))return{unaryFilter:{field:Ra(n.field),op:"IS_NAN"}};if(dC(n.value))return{unaryFilter:{field:Ra(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(hC(n.value))return{unaryFilter:{field:Ra(n.field),op:"IS_NOT_NAN"}};if(dC(n.value))return{unaryFilter:{field:Ra(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ra(n.field),op:iY(n.op),value:n.value}}}(t):t instanceof ri?function(n){const r=n.getFilters().map(i=>sO(i));return r.length===1?r[0]:{compositeFilter:{op:sY(n.op),filters:r}}}(t):ye()}function oY(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function oO(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(e,n,r,i,s=we.min(),o=we.min(),a=Qt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Ss(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ss(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ss(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ss(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aY{constructor(e){this.ct=e}}function lY(t){const e=tY({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?uw(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uY{constructor(){this.un=new cY}addToCollectionParentIndex(e,n){return this.un.add(n),K.resolve()}getCollectionParents(e,n){return K.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return K.resolve()}deleteFieldIndex(e,n){return K.resolve()}deleteAllFieldIndexes(e){return K.resolve()}createTargetIndexes(e,n){return K.resolve()}getDocumentsMatchingTarget(e,n){return K.resolve(null)}getIndexType(e,n){return K.resolve(0)}getFieldIndexes(e,n){return K.resolve([])}getNextCollectionGroupToUpdate(e){return K.resolve(null)}getMinOffset(e,n){return K.resolve(Qs.min())}getMinOffsetFromCollectionGroup(e,n){return K.resolve(Qs.min())}updateCollectionGroup(e,n,r){return K.resolve()}updateIndexEntries(e,n){return K.resolve()}}class cY{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Gt(yt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Gt(yt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Bl(0)}static kn(){return new Bl(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dY{constructor(){this.changes=new au(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,un.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?K.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hY{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fY{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&vc(r.mutation,i,Pr.empty(),Vt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ie()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ie()){const i=Po();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Xu();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Po();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ie()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Bi();const o=yc(),a=function(){return yc()}();return n.forEach((l,u)=>{const d=r.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof ua)?s=s.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),vc(d.mutation,u,d.mutation.getFieldMask(),Vt.now())):o.set(u.key,Pr.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,d)=>o.set(u,d)),n.forEach((u,d)=>{var h;return a.set(u,new hY(d,(h=o.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=yc();let i=new dt((o,a)=>o-a),s=Ie();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let d=r.get(l)||Pr.empty();d=a.applyToLocalView(u,d),r.set(l,d);const h=(i.get(a.batchId)||Ie()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,d=l.value,h=$M();d.forEach(f=>{if(!s.has(f)){const p=qM(n.get(f),r.get(f));p!==null&&h.set(f,p),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,h))}return K.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return de.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):_Q(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):K.resolve(Po());let a=-1,l=s;return o.next(u=>K.forEach(u,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(d)?K.resolve():this.remoteDocumentCache.getEntry(e,d).next(f=>{l=l.insert(d,f)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,Ie())).next(d=>({batchId:a,changes:BM(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new de(n)).next(r=>{let i=Xu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Xu();return this.indexManager.getCollectionParents(e,s).next(a=>K.forEach(a,l=>{const u=function(h,f){return new Dm(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(d=>{d.forEach((h,f)=>{o=o.insert(h,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const d=u.getKey();o.get(d)===null&&(o=o.insert(d,un.newInvalidDocument(d)))});let a=Xu();return o.forEach((l,u)=>{const d=s.get(l);d!==void 0&&vc(d.mutation,u,Pr.empty(),Vt.now()),Om(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pY{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return K.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:ei(i.createTime)}}(n)),K.resolve()}getNamedQuery(e,n){return K.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:lY(i.bundledQuery),readTime:ei(i.readTime)}}(n)),K.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mY{constructor(){this.overlays=new dt(de.comparator),this.Ir=new Map}getOverlay(e,n){return K.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Po();return K.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),K.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),K.resolve()}getOverlaysForCollection(e,n,r){const i=Po(),s=n.length+1,o=new de(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return K.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new dt((u,d)=>u-d);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=s.get(u.largestBatchId);d===null&&(d=Po(),s=s.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const a=Po(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=i)););return K.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new FQ(n,r));let s=this.Ir.get(n);s===void 0&&(s=Ie(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gY{constructor(){this.sessionToken=Qt.EMPTY_BYTE_STRING}getSessionToken(e){return K.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,K.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X_{constructor(){this.Tr=new Gt(Ft.Er),this.dr=new Gt(Ft.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Ft(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Ft(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new de(new yt([])),r=new Ft(n,e),i=new Ft(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new de(new yt([])),r=new Ft(n,e),i=new Ft(n,e+1);let s=Ie();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Ft(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ft{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return de.comparator(e.key,n.key)||Le(e.wr,n.wr)}static Ar(e,n){return Le(e.wr,n.wr)||de.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yY{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Gt(Ft.Er)}checkEmpty(e){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new VQ(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.br=this.br.add(new Ft(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return K.resolve(o)}lookupMutationBatch(e,n){return K.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return K.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ft(n,0),i=new Ft(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{const a=this.Dr(o.wr);s.push(a)}),K.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Gt(Le);return n.forEach(i=>{const s=new Ft(i,0),o=new Ft(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),K.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;de.isDocumentKey(s)||(s=s.child(""));const o=new Ft(new de(s),0);let a=new Gt(Le);return this.br.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.wr)),!0)},o),K.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ke(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return K.forEach(n.mutations,i=>{const s=new Ft(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Ft(n,0),i=this.br.firstAfterOrEqual(r);return K.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,K.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vY{constructor(e){this.Mr=e,this.docs=function(){return new dt(de.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return K.resolve(r?r.document.mutableCopy():un.newInvalidDocument(n))}getEntries(e,n){let r=Bi();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():un.newInvalidDocument(i))}),K.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Bi();const o=n.path,a=new de(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:d}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||eQ(Zq(d),r)<=0||(i.has(d.key)||Om(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return K.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ye()}Or(e,n){return K.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new wY(this)}getSize(e){return K.resolve(this.size)}}class wY extends dY{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),K.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _Y{constructor(e){this.persistence=e,this.Nr=new au(n=>W_(n),K_),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.Lr=0,this.Br=new X_,this.targetCount=0,this.kr=Bl.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),K.resolve()}getLastRemoteSnapshotVersion(e){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return K.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),K.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Bl(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,K.resolve()}updateTargetData(e,n){return this.Kn(n),K.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,K.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),K.waitFor(s).next(()=>i)}getTargetCount(e){return K.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return K.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),K.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),K.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),K.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return K.resolve(r)}containsKey(e,n){return K.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EY{constructor(e,n){this.qr={},this.overlays={},this.Qr=new U_(0),this.Kr=!1,this.Kr=!0,this.$r=new gY,this.referenceDelegate=e(this),this.Ur=new _Y(this),this.indexManager=new uY,this.remoteDocumentCache=function(i){return new vY(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new aY(n),this.Gr=new pY(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new mY,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new yY(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){ne("MemoryPersistence","Starting transaction:",e);const i=new TY(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return K.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class TY extends nQ{constructor(e){super(),this.currentSequenceNumber=e}}class J_{constructor(e){this.persistence=e,this.Jr=new X_,this.Yr=null}static Zr(e){return new J_(e)}get Xr(){if(this.Yr)return this.Yr;throw ye()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),K.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),K.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),K.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.Xr,r=>{const i=de.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,we.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return K.or([()=>K.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z_{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=Ie(),i=Ie();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Z_(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xY{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SY{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return cF()?8:rQ(pn())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new xY;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(ju()<=ke.DEBUG&&ne("QueryEngine","SDK will not create cache indexes for query:",Ca(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),K.resolve()):(ju()<=ke.DEBUG&&ne("QueryEngine","Query:",Ca(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(ju()<=ke.DEBUG&&ne("QueryEngine","The SDK decides to create cache indexes for query:",Ca(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Zr(n))):K.resolve())}Yi(e,n){if(gC(n))return K.resolve(null);let r=Zr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=uw(n,null,"F"),r=Zr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Ie(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ts(n,a);return this.ns(n,u,o,l.readTime)?this.Yi(e,uw(n,null,"F")):this.rs(e,u,n,l)}))})))}Zi(e,n,r,i){return gC(n)||i.isEqual(we.min())?K.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const o=this.ts(n,s);return this.ns(n,o,r,i)?K.resolve(null):(ju()<=ke.DEBUG&&ne("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ca(n)),this.rs(e,o,n,Jq(i,-1)).next(a=>a))})}ts(e,n){let r=new Gt(jM(e));return n.forEach((i,s)=>{Om(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return ju()<=ke.DEBUG&&ne("QueryEngine","Using full collection scan to execute query:",Ca(n)),this.Ji.getDocumentsMatchingQuery(e,n,Qs.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bY{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new dt(Le),this._s=new au(s=>W_(s),K_),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new fY(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function CY(t,e,n,r){return new bY(t,e,n,r)}async function aO(t,e){const n=_e(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=Ie();for(const u of i){o.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}for(const u of s){a.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(u=>({hs:u,removedBatchIds:o,addedBatchIds:a}))})})}function RY(t,e){const n=_e(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,d){const h=u.batch,f=h.keys();let p=K.resolve();return f.forEach(T=>{p=p.next(()=>d.getEntry(l,T)).next(g=>{const x=u.docVersions.get(T);Ke(x!==null),g.version.compareTo(x)<0&&(h.applyToRemoteDocument(g,u),g.isValidDocument()&&(g.setReadTime(u.commitVersion),d.addEntry(g)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Ie();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function lO(t){const e=_e(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function IY(t,e){const n=_e(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((d,h)=>{const f=i.get(h);if(!f)return;a.push(n.Ur.removeMatchingKeys(s,d.removedDocuments,h).next(()=>n.Ur.addMatchingKeys(s,d.addedDocuments,h)));let p=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?p=p.withResumeToken(Qt.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):d.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(d.resumeToken,r)),i=i.insert(h,p),function(g,x,E){return g.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(f,p,d)&&a.push(n.Ur.updateTargetData(s,p))});let l=Bi(),u=Ie();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(PY(s,o,e.documentUpdates).next(d=>{l=d.Ps,u=d.Is})),!r.isEqual(we.min())){const d=n.Ur.getLastRemoteSnapshotVersion(s).next(h=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return K.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.os=i,s))}function PY(t,e,n){let r=Ie(),i=Ie();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Bi();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(we.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):ne("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Ps:o,Is:i}})}function AY(t,e){const n=_e(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function kY(t,e){const n=_e(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,K.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new Ss(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function pw(t,e,n){const r=_e(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Bd(o))throw o;ne("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function RC(t,e,n){const r=_e(t);let i=we.min(),s=Ie();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,d){const h=_e(l),f=h._s.get(d);return f!==void 0?K.resolve(h.os.get(f)):h.Ur.getTargetData(u,d)}(r,o,Zr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:we.min(),n?s:Ie())).next(a=>(NY(r,TQ(e),a),{documents:a,Ts:s})))}function NY(t,e,n){let r=t.us.get(e)||we.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}class IC{constructor(){this.activeTargetIds=IQ()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class DY{constructor(){this.so=new IC,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new IC,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MY{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ne("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){ne("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hh=null;function ly(){return Hh===null?Hh=function(){return 268435456+Math.round(2147483648*Math.random())}():Hh++,"0x"+Hh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OY={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LY{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rn="WebChannelConnection";class VY extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){const a=ly(),l=this.xo(n,r.toUriEncodedString());ne("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,s,o),this.No(n,l,u,i).then(d=>(ne("RestConnection",`Received RPC '${n}' ${a}: `,d),d),d=>{throw Vl("RestConnection",`RPC '${n}' ${a} failed with error: `,d,"url: ",l,"request:",i),d})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+su}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){const i=OY[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=ly();return new Promise((o,a)=>{const l=new EM;l.setWithCredentials(!0),l.listenOnce(xM.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case vf.NO_ERROR:const d=l.getResponseJson();ne(rn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case vf.TIMEOUT:ne(rn,`RPC '${e}' ${s} timed out`),a(new ce(H.DEADLINE_EXCEEDED,"Request time out"));break;case vf.HTTP_ERROR:const h=l.getStatus();if(ne(rn,`RPC '${e}' ${s} failed with status:`,h,"response text:",l.getResponseText()),h>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const p=f==null?void 0:f.error;if(p&&p.status&&p.message){const T=function(x){const E=x.toLowerCase().replace(/_/g,"-");return Object.values(H).indexOf(E)>=0?E:H.UNKNOWN}(p.status);a(new ce(T,p.message))}else a(new ce(H.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new ce(H.UNAVAILABLE,"Connection failed."));break;default:ye()}}finally{ne(rn,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);ne(rn,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}Bo(e,n,r){const i=ly(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=CM(),a=bM(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.xmlHttpFactory=new TM({})),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=s.join("");ne(rn,`Creating RPC '${e}' stream ${i}: ${d}`,l);const h=o.createWebChannel(d,l);let f=!1,p=!1;const T=new LY({Io:x=>{p?ne(rn,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(f||(ne(rn,`Opening RPC '${e}' stream ${i} transport.`),h.open(),f=!0),ne(rn,`RPC '${e}' stream ${i} sending:`,x),h.send(x))},To:()=>h.close()}),g=(x,E,_)=>{x.listen(E,b=>{try{_(b)}catch(I){setTimeout(()=>{throw I},0)}})};return g(h,Yu.EventType.OPEN,()=>{p||(ne(rn,`RPC '${e}' stream ${i} transport opened.`),T.yo())}),g(h,Yu.EventType.CLOSE,()=>{p||(p=!0,ne(rn,`RPC '${e}' stream ${i} transport closed`),T.So())}),g(h,Yu.EventType.ERROR,x=>{p||(p=!0,Vl(rn,`RPC '${e}' stream ${i} transport errored:`,x),T.So(new ce(H.UNAVAILABLE,"The operation could not be completed")))}),g(h,Yu.EventType.MESSAGE,x=>{var E;if(!p){const _=x.data[0];Ke(!!_);const b=_,I=b.error||((E=b[0])===null||E===void 0?void 0:E.error);if(I){ne(rn,`RPC '${e}' stream ${i} received error:`,I);const N=I.status;let F=function(R){const A=It[R];if(A!==void 0)return XM(A)}(N),C=I.message;F===void 0&&(F=H.INTERNAL,C="Unknown error status: "+N+" with message "+I.message),p=!0,T.So(new ce(F,C)),h.close()}else ne(rn,`RPC '${e}' stream ${i} received:`,_),T.bo(_)}}),g(a,SM.STAT_EVENT,x=>{x.stat===iw.PROXY?ne(rn,`RPC '${e}' stream ${i} detected buffering proxy`):x.stat===iw.NOPROXY&&ne(rn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{T.wo()},0),T}}function uy(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jm(t){return new GQ(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&ne("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cO{constructor(e,n,r,i,s,o,a,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new uO(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===H.RESOURCE_EXHAUSTED?(Ui(n.toString()),Ui("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===H.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new ce(H.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return ne("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(ne("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class FY extends cO{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=YQ(this.serializer,e),r=function(s){if(!("targetChange"in s))return we.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?we.min():o.readTime?ei(o.readTime):we.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=fw(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=lw(l)?{documents:ZQ(s,l)}:{query:eY(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=eO(s,o.resumeToken);const u=cw(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(we.min())>0){a.readTime=bp(s,o.snapshotVersion.toTimestamp());const u=cw(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=nY(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=fw(this.serializer),n.removeTarget=e,this.a_(n)}}class jY extends cO{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Ke(!!e.streamToken),this.lastStreamToken=e.streamToken,Ke(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Ke(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=JQ(e.writeResults,e.commitTime),r=ei(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=fw(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>XQ(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UY extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new ce(H.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,dw(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ce(H.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,dw(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ce(H.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class BY{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Ui(n),this.D_=!1):ne("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $Y{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(async()=>{ca(this)&&(ne("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=_e(l);u.L_.add(4),await Wd(u),u.q_.set("Unknown"),u.L_.delete(4),await Um(u)}(this))})}),this.q_=new BY(r,i)}}async function Um(t){if(ca(t))for(const e of t.B_)await e(!0)}async function Wd(t){for(const e of t.B_)await e(!1)}function dO(t,e){const n=_e(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),rE(n)?nE(n):lu(n).r_()&&tE(n,e))}function eE(t,e){const n=_e(t),r=lu(n);n.N_.delete(e),r.r_()&&hO(n,e),n.N_.size===0&&(r.r_()?r.o_():ca(n)&&n.q_.set("Unknown"))}function tE(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}lu(t).A_(e)}function hO(t,e){t.Q_.xe(e),lu(t).R_(e)}function nE(t){t.Q_=new zQ({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),lu(t).start(),t.q_.v_()}function rE(t){return ca(t)&&!lu(t).n_()&&t.N_.size>0}function ca(t){return _e(t).L_.size===0}function fO(t){t.Q_=void 0}async function zY(t){t.q_.set("Online")}async function WY(t){t.N_.forEach((e,n)=>{tE(t,e)})}async function KY(t,e){fO(t),rE(t)?(t.q_.M_(e),nE(t)):t.q_.set("Unknown")}async function HY(t,e,n){if(t.q_.set("Online"),e instanceof ZM&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){ne("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Cp(t,r)}else if(e instanceof Ef?t.Q_.Ke(e):e instanceof JM?t.Q_.He(e):t.Q_.We(e),!n.isEqual(we.min()))try{const r=await lO(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Q_.rt(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const d=s.N_.get(u);d&&s.N_.set(u,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const d=s.N_.get(l);if(!d)return;s.N_.set(l,d.withResumeToken(Qt.EMPTY_BYTE_STRING,d.snapshotVersion)),hO(s,l);const h=new Ss(d.target,l,u,d.sequenceNumber);tE(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){ne("RemoteStore","Failed to raise snapshot:",r),await Cp(t,r)}}async function Cp(t,e,n){if(!Bd(e))throw e;t.L_.add(1),await Wd(t),t.q_.set("Offline"),n||(n=()=>lO(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ne("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Um(t)})}function pO(t,e){return e().catch(n=>Cp(t,n,e))}async function Bm(t){const e=_e(t),n=Xs(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;GY(e);)try{const i=await AY(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,qY(e,i)}catch(i){await Cp(e,i)}mO(e)&&gO(e)}function GY(t){return ca(t)&&t.O_.length<10}function qY(t,e){t.O_.push(e);const n=Xs(t);n.r_()&&n.V_&&n.m_(e.mutations)}function mO(t){return ca(t)&&!Xs(t).n_()&&t.O_.length>0}function gO(t){Xs(t).start()}async function QY(t){Xs(t).p_()}async function YY(t){const e=Xs(t);for(const n of t.O_)e.m_(n.mutations)}async function XY(t,e,n){const r=t.O_.shift(),i=q_.from(r,e,n);await pO(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Bm(t)}async function JY(t,e){e&&Xs(t).V_&&await async function(r,i){if(function(o){return UQ(o)&&o!==H.ABORTED}(i.code)){const s=r.O_.shift();Xs(r).s_(),await pO(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Bm(r)}}(t,e),mO(t)&&gO(t)}async function AC(t,e){const n=_e(t);n.asyncQueue.verifyOperationInProgress(),ne("RemoteStore","RemoteStore received new credentials");const r=ca(n);n.L_.add(3),await Wd(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Um(n)}async function ZY(t,e){const n=_e(t);e?(n.L_.delete(2),await Um(n)):e||(n.L_.add(2),await Wd(n),n.q_.set("Unknown"))}function lu(t){return t.K_||(t.K_=function(n,r,i){const s=_e(n);return s.w_(),new FY(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:zY.bind(null,t),Ro:WY.bind(null,t),mo:KY.bind(null,t),d_:HY.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),rE(t)?nE(t):t.q_.set("Unknown")):(await t.K_.stop(),fO(t))})),t.K_}function Xs(t){return t.U_||(t.U_=function(n,r,i){const s=_e(n);return s.w_(),new jY(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:QY.bind(null,t),mo:JY.bind(null,t),f_:YY.bind(null,t),g_:XY.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Bm(t)):(await t.U_.stop(),t.O_.length>0&&(ne("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iE{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Fs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new iE(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(H.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function sE(t,e){if(Ui("AsyncQueue",`${e}: ${t}`),Bd(t))return new ce(H.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(e){this.comparator=e?(n,r)=>e(n,r)||de.comparator(n.key,r.key):(n,r)=>de.comparator(n.key,r.key),this.keyedMap=Xu(),this.sortedSet=new dt(this.comparator)}static emptySet(e){return new al(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof al)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new al;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(){this.W_=new dt(de.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):ye():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class $l{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new $l(e,n,al.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Mm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eX{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class tX{constructor(){this.queries=NC(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=_e(n),s=i.queries;i.queries=NC(),s.forEach((o,a)=>{for(const l of a.j_)l.onError(r)})})(this,new ce(H.ABORTED,"Firestore shutting down"))}}function NC(){return new au(t=>FM(t),Mm)}async function nX(t,e){const n=_e(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new eX,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=sE(o,`Initialization of query '${Ca(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&oE(n)}async function rX(t,e){const n=_e(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function iX(t,e){const n=_e(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&oE(n)}function sX(t,e,n){const r=_e(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function oE(t){t.Y_.forEach(e=>{e.next()})}var mw,DC;(DC=mw||(mw={})).ea="default",DC.Cache="cache";class oX{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new $l(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=$l.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==mw.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yO{constructor(e){this.key=e}}class vO{constructor(e){this.key=e}}class aX{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ie(),this.mutatedKeys=Ie(),this.Aa=jM(e),this.Ra=new al(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new kC,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,h)=>{const f=i.get(d),p=Om(this.query,h)?h:null,T=!!f&&this.mutatedKeys.has(f.key),g=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let x=!1;f&&p?f.data.isEqual(p.data)?T!==g&&(r.track({type:3,doc:p}),x=!0):this.ga(f,p)||(r.track({type:2,doc:p}),x=!0,(l&&this.Aa(p,l)>0||u&&this.Aa(p,u)<0)&&(a=!0)):!f&&p?(r.track({type:0,doc:p}),x=!0):f&&!p&&(r.track({type:1,doc:f}),x=!0,(l||u)&&(a=!0)),x&&(p?(o=o.add(p),s=g?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((d,h)=>function(p,T){const g=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ye()}};return g(p)-g(T)}(d.type,h.type)||this.Aa(d.doc,h.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,u=l!==this.Ea;return this.Ea=l,o.length!==0||u?{snapshot:new $l(this.query,e.Ra,s,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new kC,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Ie(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new vO(r))}),this.da.forEach(r=>{e.has(r)||n.push(new yO(r))}),n}ba(e){this.Ta=e.Ts,this.da=Ie();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return $l.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class lX{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class uX{constructor(e){this.key=e,this.va=!1}}class cX{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new au(a=>FM(a),Mm),this.Ma=new Map,this.xa=new Set,this.Oa=new dt(de.comparator),this.Na=new Map,this.La=new X_,this.Ba={},this.ka=new Map,this.qa=Bl.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function dX(t,e,n=!0){const r=SO(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await wO(r,e,n,!0),i}async function hX(t,e){const n=SO(t);await wO(n,e,!0,!1)}async function wO(t,e,n,r){const i=await kY(t.localStore,Zr(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await fX(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&dO(t.remoteStore,i),a}async function fX(t,e,n,r,i){t.Ka=(h,f,p)=>async function(g,x,E,_){let b=x.view.ma(E);b.ns&&(b=await RC(g.localStore,x.query,!1).then(({documents:C})=>x.view.ma(C,b)));const I=_&&_.targetChanges.get(x.targetId),N=_&&_.targetMismatches.get(x.targetId)!=null,F=x.view.applyChanges(b,g.isPrimaryClient,I,N);return OC(g,x.targetId,F.wa),F.snapshot}(t,h,f,p);const s=await RC(t.localStore,e,!0),o=new aX(e,s.Ts),a=o.ma(s.documents),l=zd.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);OC(t,n,u.wa);const d=new lX(e,n,o);return t.Fa.set(e,d),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function pX(t,e,n){const r=_e(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!Mm(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await pw(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&eE(r.remoteStore,i.targetId),gw(r,i.targetId)}).catch(Ud)):(gw(r,i.targetId),await pw(r.localStore,i.targetId,!0))}async function mX(t,e){const n=_e(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),eE(n.remoteStore,r.targetId))}async function gX(t,e,n){const r=xX(t);try{const i=await function(o,a){const l=_e(o),u=Vt.now(),d=a.reduce((p,T)=>p.add(T.key),Ie());let h,f;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let T=Bi(),g=Ie();return l.cs.getEntries(p,d).next(x=>{T=x,T.forEach((E,_)=>{_.isValidDocument()||(g=g.add(E))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,T)).next(x=>{h=x;const E=[];for(const _ of a){const b=OQ(_,h.get(_.key).overlayedDocument);b!=null&&E.push(new ua(_.key,b,kM(b.value.mapValue),Ii.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,E,a)}).next(x=>{f=x;const E=x.applyToLocalDocumentSet(h,g);return l.documentOverlayCache.saveOverlays(p,x.batchId,E)})}).then(()=>({batchId:f.batchId,changes:BM(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.Ba[o.currentUser.toKey()];u||(u=new dt(Le)),u=u.insert(a,l),o.Ba[o.currentUser.toKey()]=u}(r,i.batchId,n),await Kd(r,i.changes),await Bm(r.remoteStore)}catch(i){const s=sE(i,"Failed to persist write");n.reject(s)}}async function _O(t,e){const n=_e(t);try{const r=await IY(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Na.get(s);o&&(Ke(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?Ke(o.va):i.removedDocuments.size>0&&(Ke(o.va),o.va=!1))}),await Kd(n,r,e)}catch(r){await Ud(r)}}function MC(t,e,n){const r=_e(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,o)=>{const a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=_e(o);l.onlineState=a;let u=!1;l.queries.forEach((d,h)=>{for(const f of h.j_)f.Z_(a)&&(u=!0)}),u&&oE(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function yX(t,e,n){const r=_e(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let o=new dt(de.comparator);o=o.insert(s,un.newNoDocument(s,we.min()));const a=Ie().add(s),l=new Fm(we.min(),new Map,new dt(Le),o,a);await _O(r,l),r.Oa=r.Oa.remove(s),r.Na.delete(e),aE(r)}else await pw(r.localStore,e,!1).then(()=>gw(r,e,n)).catch(Ud)}async function vX(t,e){const n=_e(t),r=e.batch.batchId;try{const i=await RY(n.localStore,e);TO(n,r,null),EO(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Kd(n,i)}catch(i){await Ud(i)}}async function wX(t,e,n){const r=_e(t);try{const i=await function(o,a){const l=_e(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return l.mutationQueue.lookupMutationBatch(u,a).next(h=>(Ke(h!==null),d=h.keys(),l.mutationQueue.removeMutationBatch(u,h))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>l.localDocuments.getDocuments(u,d))})}(r.localStore,e);TO(r,e,n),EO(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Kd(r,i)}catch(i){await Ud(i)}}function EO(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function TO(t,e,n){const r=_e(t);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function gw(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||xO(t,r)})}function xO(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(eE(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),aE(t))}function OC(t,e,n){for(const r of n)r instanceof yO?(t.La.addReference(r.key,e),_X(t,r)):r instanceof vO?(ne("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||xO(t,r.key)):ye()}function _X(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(ne("SyncEngine","New document in limbo: "+n),t.xa.add(r),aE(t))}function aE(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new de(yt.fromString(e)),r=t.qa.next();t.Na.set(r,new uX(n)),t.Oa=t.Oa.insert(n,r),dO(t.remoteStore,new Ss(Zr(H_(n.path)),r,"TargetPurposeLimboResolution",U_.oe))}}async function Kd(t,e,n){const r=_e(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{o.push(r.Ka(l,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){const h=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(u){i.push(u);const h=Z_.Wi(l.targetId,u);s.push(h)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(l,u){const d=_e(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>K.forEach(u,f=>K.forEach(f.$i,p=>d.persistence.referenceDelegate.addReference(h,f.targetId,p)).next(()=>K.forEach(f.Ui,p=>d.persistence.referenceDelegate.removeReference(h,f.targetId,p)))))}catch(h){if(!Bd(h))throw h;ne("LocalStore","Failed to update sequence numbers: "+h)}for(const h of u){const f=h.targetId;if(!h.fromCache){const p=d.os.get(f),T=p.snapshotVersion,g=p.withLastLimboFreeSnapshotVersion(T);d.os=d.os.insert(f,g)}}}(r.localStore,s))}async function EX(t,e){const n=_e(t);if(!n.currentUser.isEqual(e)){ne("SyncEngine","User change. New user:",e.toKey());const r=await aO(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(l=>{l.reject(new ce(H.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Kd(n,r.hs)}}function TX(t,e){const n=_e(t),r=n.Na.get(e);if(r&&r.va)return Ie().add(r.key);{let i=Ie();const s=n.Ma.get(e);if(!s)return i;for(const o of s){const a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function SO(t){const e=_e(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=_O.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=TX.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=yX.bind(null,e),e.Ca.d_=iX.bind(null,e.eventManager),e.Ca.$a=sX.bind(null,e.eventManager),e}function xX(t){const e=_e(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=vX.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=wX.bind(null,e),e}class LC{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=jm(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return CY(this.persistence,new SY,e.initialUser,this.serializer)}createPersistence(e){return new EY(J_.Zr,this.serializer)}createSharedClientState(e){return new DY}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class SX{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>MC(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=EX.bind(null,this.syncEngine),await ZY(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new tX}()}createDatastore(e){const n=jm(e.databaseInfo.databaseId),r=function(s){return new VY(s)}(e.databaseInfo);return function(s,o,a,l){return new UY(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new $Y(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>MC(this.syncEngine,n,0),function(){return PC.D()?new PC:new MY}())}createSyncEngine(e,n){return function(i,s,o,a,l,u,d){const h=new cX(i,s,o,a,l,u);return d&&(h.Qa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=_e(i);ne("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await Wd(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bX{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ga(this.observer.next,e)}error(e){this.observer.error?this.Ga(this.observer.error,e):Ui("Uncaught Error in snapshot listener:",e.toString())}za(){this.muted=!0}Ga(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CX{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=an.UNAUTHENTICATED,this.clientId=IM.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{ne("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(ne("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ce(H.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Fs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=sE(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function cy(t,e){t.asyncQueue.verifyOperationInProgress(),ne("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await aO(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function VC(t,e){t.asyncQueue.verifyOperationInProgress();const n=await IX(t);ne("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>AC(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>AC(e.remoteStore,i)),t._onlineComponents=e}function RX(t){return t.name==="FirebaseError"?t.code===H.FAILED_PRECONDITION||t.code===H.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function IX(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ne("FirestoreClient","Using user provided OfflineComponentProvider");try{await cy(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!RX(n))throw n;Vl("Error using user provided cache. Falling back to memory cache: "+n),await cy(t,new LC)}}else ne("FirestoreClient","Using default OfflineComponentProvider"),await cy(t,new LC);return t._offlineComponents}async function bO(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ne("FirestoreClient","Using user provided OnlineComponentProvider"),await VC(t,t._uninitializedComponentsProvider._online)):(ne("FirestoreClient","Using default OnlineComponentProvider"),await VC(t,new SX))),t._onlineComponents}function PX(t){return bO(t).then(e=>e.syncEngine)}async function AX(t){const e=await bO(t),n=e.eventManager;return n.onListen=dX.bind(null,e.syncEngine),n.onUnlisten=pX.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=hX.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=mX.bind(null,e.syncEngine),n}function kX(t,e,n={}){const r=new Fs;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const d=new bX({next:f=>{o.enqueueAndForget(()=>rX(s,h));const p=f.docs.has(a);!p&&f.fromCache?u.reject(new ce(H.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&f.fromCache&&l&&l.source==="server"?u.reject(new ce(H.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(f)},error:f=>u.reject(f)}),h=new oX(H_(a.path),d,{includeMetadataChanges:!0,_a:!0});return nX(s,h)}(await AX(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CO(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FC=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NX(t,e,n){if(!n)throw new ce(H.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function DX(t,e,n,r){if(e===!0&&r===!0)throw new ce(H.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function jC(t){if(!de.isDocumentKey(t))throw new ce(H.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function lE(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ye()}function id(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ce(H.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=lE(t);throw new ce(H.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ce(H.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ce(H.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}DX("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=CO((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ce(H.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ce(H.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ce(H.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class uE{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new UC({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ce(H.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new ce(H.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new UC(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new zq;switch(r.type){case"firstParty":return new Gq(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ce(H.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=FC.get(n);r&&(ne("ComponentProvider","Removing Datastore"),FC.delete(n),r.terminate())}(this),Promise.resolve()}}function MX(t,e,n,r={}){var i;const s=(t=id(t,uE))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Vl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=an.MOCK_USER;else{a=CI(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new ce(H.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new an(u)}t._authCredentials=new Wq(new RM(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new cE(this.firestore,e,this._query)}}class dr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new sd(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new dr(this.firestore,e,this._key)}}class sd extends cE{constructor(e,n,r){super(e,n,H_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new dr(this.firestore,null,new de(e))}withConverter(e){return new sd(this.firestore,e,this._path)}}function RO(t,e,...n){if(t=Dn(t),arguments.length===1&&(e=IM.newId()),NX("doc","path",e),t instanceof uE){const r=yt.fromString(e,...n);return jC(r),new dr(t,null,new de(r))}{if(!(t instanceof dr||t instanceof sd))throw new ce(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(yt.fromString(e,...n));return jC(r),new dr(t.firestore,t instanceof sd?t.converter:null,new de(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OX{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new uO(this,"async_queue_retry"),this.Eu=()=>{const n=uy();n&&ne("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()};const e=uy();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;const n=uy();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});const n=new Fs;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}async Ru(){if(this.uu.length!==0){try{await this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!Bd(e))throw e;ne("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}}Au(e){const n=this.au.then(()=>(this.Pu=!0,e().catch(r=>{this.hu=r,this.Pu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Ui("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Pu=!1,r))));return this.au=n,n}enqueueAfterDelay(e,n,r){this.du(),this.Tu.indexOf(e)>-1&&(n=0);const i=iE.createAndSchedule(this,e,n,r,s=>this.Vu(s));return this.lu.push(i),i}du(){this.hu&&ye()}verifyOperationInProgress(){}async mu(){let e;do e=this.au,await e;while(e!==this.au)}fu(e){for(const n of this.lu)if(n.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.lu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){const n=this.lu.indexOf(e);this.lu.splice(n,1)}}class dE extends uE{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new OX}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||PO(this),this._firestoreClient.terminate()}}function LX(t,e){const n=typeof t=="object"?t:g0(),r=typeof t=="string"?t:"(default)",i=Hp(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=xI("firestore");s&&MX(i,...s)}return i}function IO(t){return t._firestoreClient||PO(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function PO(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,u,d){return new oQ(a,l,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,CO(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new CX(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new zl(Qt.fromBase64String(e))}catch(n){throw new ce(H.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new zl(Qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hE{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ce(H.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AO{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ce(H.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ce(H.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Le(this._lat,e._lat)||Le(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VX=/^__.*__$/;class FX{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ua(e,this.data,this.fieldMask,n,this.fieldTransforms):new $d(e,this.data,n,this.fieldTransforms)}}function kO(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ye()}}class mE{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.yu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new mE(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.vu(e),i}Cu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.yu(),i}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return Rp(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(e.length===0)throw this.Mu("Document fields must not be empty");if(kO(this.wu)&&VX.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}}class jX{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||jm(e)}Nu(e,n,r,i=!1){return new mE({wu:e,methodName:n,Ou:r,path:Kt.emptyPath(),Du:!1,xu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function UX(t){const e=t._freezeSettings(),n=jm(t._databaseId);return new jX(t._databaseId,!!e.ignoreUndefinedProperties,n)}function BX(t,e,n,r,i,s={}){const o=t.Nu(s.merge||s.mergeFields?2:0,e,n,i);OO("Data must be an object, but it was:",o,r);const a=DO(r,o);let l,u;if(s.merge)l=new Pr(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const h of s.mergeFields){const f=$X(e,h,n);if(!o.contains(f))throw new ce(H.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);WX(d,f)||d.push(f)}l=new Pr(d),u=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=o.fieldTransforms;return new FX(new or(a),l,u)}function NO(t,e){if(MO(t=Dn(t)))return OO("Unsupported field value:",e,t),DO(t,e);if(t instanceof AO)return function(r,i){if(!kO(i.wu))throw i.Mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Mu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Du&&e.wu!==4)throw e.Mu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=NO(a,i.Fu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Dn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return PQ(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Vt.fromDate(r);return{timestampValue:bp(i.serializer,s)}}if(r instanceof Vt){const s=new Vt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:bp(i.serializer,s)}}if(r instanceof fE)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof zl)return{bytesValue:eO(i.serializer,r._byteString)};if(r instanceof dr){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Y_(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof pE)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Mu("VectorValues must only contain numeric values.");return G_(a.serializer,l)})}}}}}}(r,i);throw i.Mu(`Unsupported field value: ${lE(r)}`)}(t,e)}function DO(t,e){const n={};return PM(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ou(t,(r,i)=>{const s=NO(i,e.bu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function MO(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Vt||t instanceof fE||t instanceof zl||t instanceof dr||t instanceof AO||t instanceof pE)}function OO(t,e,n){if(!MO(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=lE(n);throw r==="an object"?e.Mu(t+" a custom object"):e.Mu(t+" "+r)}}function $X(t,e,n){if((e=Dn(e))instanceof hE)return e._internalPath;if(typeof e=="string")return LO(t,e);throw Rp("Field path arguments must be of type string or ",t,!1,void 0,n)}const zX=new RegExp("[~\\*/\\[\\]]");function LO(t,e,n){if(e.search(zX)>=0)throw Rp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new hE(...e.split("."))._internalPath}catch{throw Rp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Rp(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new ce(H.INVALID_ARGUMENT,a+t+l)}function WX(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new dr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new KX(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(FO("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class KX extends VO{data(){return super.data()}}function FO(t,e){return typeof e=="string"?LO(t,e):e instanceof hE?e._internalPath:e._delegate._internalPath}class HX{convertValue(e,n="none"){switch(na(e)){case 0:return null;case 1:return e.booleanValue;case 2:return xt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ta(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ye()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ou(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>xt(o.doubleValue));return new pE(s)}convertGeoPoint(e){return new fE(xt(e.latitude),xt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=$_(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Zc(e));default:return null}}convertTimestamp(e){const n=Ys(e);return new Vt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=yt.fromString(e);Ke(oO(r));const i=new ed(r.get(1),r.get(3)),s=new de(r.popFirst(5));return i.isEqual(n)||Ui(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GX(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qX{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class jO extends VO{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new QX(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(FO("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class QX extends jO{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YX(t){t=id(t,dr);const e=id(t.firestore,dE);return kX(IO(e),t._key).then(n=>eJ(e,t,n))}class XX extends HX{constructor(e){super(),this.firestore=e}convertBytes(e){return new zl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new dr(this.firestore,null,n)}}function JX(t,e,n){t=id(t,dr);const r=id(t.firestore,dE),i=GX(t.converter,e);return ZX(r,[BX(UX(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Ii.none())])}function ZX(t,e){return function(r,i){const s=new Fs;return r.asyncQueue.enqueueAndForget(async()=>gX(await PX(r),i,s)),s.promise}(IO(t),e)}function eJ(t,e,n){const r=n.docs.get(e._key),i=new XX(t);return new jO(t,i,e._key,r,new qX(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){su=i})(oa),qo(new Bs("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new dE(new Kq(r.getProvider("auth-internal")),new Qq(r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ce(H.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ed(u.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),qr(oC,"4.7.2",e),qr(oC,"4.7.2","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UO="firebasestorage.googleapis.com",BO="storageBucket",tJ=2*60*1e3,nJ=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t extends ii{constructor(e,n,r=0){super(dy(e),`Firebase Storage: ${n} (${dy(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,_t.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return dy(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var wt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(wt||(wt={}));function dy(t){return"storage/"+t}function gE(){const t="An unknown error occurred, please check the error payload for server response.";return new _t(wt.UNKNOWN,t)}function rJ(t){return new _t(wt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function iJ(t){return new _t(wt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function sJ(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new _t(wt.UNAUTHENTICATED,t)}function oJ(){return new _t(wt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function aJ(t){return new _t(wt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function lJ(){return new _t(wt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function uJ(){return new _t(wt.CANCELED,"User canceled the upload/download.")}function cJ(t){return new _t(wt.INVALID_URL,"Invalid URL '"+t+"'.")}function dJ(t){return new _t(wt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function hJ(){return new _t(wt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+BO+"' property when initializing the app?")}function fJ(){return new _t(wt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function pJ(){return new _t(wt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function mJ(t){return new _t(wt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function yw(t){return new _t(wt.INVALID_ARGUMENT,t)}function $O(){return new _t(wt.APP_DELETED,"The Firebase app was deleted.")}function gJ(t){return new _t(wt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function wc(t,e){return new _t(wt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Uu(t){throw new _t(wt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=$n.makeFromUrl(e,n)}catch{return new $n(e,"")}if(r.path==="")return r;throw dJ(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(I){I.path.charAt(I.path.length-1)==="/"&&(I.path_=I.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function u(I){I.path_=decodeURIComponent(I.path)}const d="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",p=new RegExp(`^https?://${h}/${d}/b/${i}/o${f}`,"i"),T={bucket:1,path:3},g=n===UO?"(?:storage.googleapis.com|storage.cloud.google.com)":n,x="([^?#]*)",E=new RegExp(`^https?://${g}/${i}/${x}`,"i"),b=[{regex:a,indices:l,postModify:s},{regex:p,indices:T,postModify:u},{regex:E,indices:{bucket:1,path:2},postModify:u}];for(let I=0;I<b.length;I++){const N=b[I],F=N.regex.exec(e);if(F){const C=F[N.indices.bucket];let w=F[N.indices.path];w||(w=""),r=new $n(C,w),N.postModify(r);break}}if(r==null)throw cJ(e);return r}}class yJ{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vJ(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let u=!1;function d(...x){u||(u=!0,e.apply(null,x))}function h(x){i=setTimeout(()=>{i=null,t(p,l())},x)}function f(){s&&clearTimeout(s)}function p(x,...E){if(u){f();return}if(x){f(),d.call(null,x,...E);return}if(l()||o){f(),d.call(null,x,...E);return}r<64&&(r*=2);let b;a===1?(a=2,b=0):b=(r+Math.random())*1e3,h(b)}let T=!1;function g(x){T||(T=!0,f(),!u&&(i!==null?(x||(a=2),clearTimeout(i),h(0)):x||(a=1)))}return h(0),s=setTimeout(()=>{o=!0,g(!0)},n),g}function wJ(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _J(t){return t!==void 0}function EJ(t){return typeof t=="object"&&!Array.isArray(t)}function yE(t){return typeof t=="string"||t instanceof String}function BC(t){return vE()&&t instanceof Blob}function vE(){return typeof Blob<"u"}function $C(t,e,n,r){if(r<e)throw yw(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw yw(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wE(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function zO(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var $o;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})($o||($o={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TJ(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xJ{constructor(e,n,r,i,s,o,a,l,u,d,h,f=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=d,this.connectionFactory_=h,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,T)=>{this.resolve_=p,this.reject_=T,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Gh(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===$o.NO_ERROR,l=s.getStatus();if(!a||TJ(l,this.additionalRetryCodes_)&&this.retry){const d=s.getErrorCode()===$o.ABORT;r(!1,new Gh(!1,null,d));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new Gh(u,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());_J(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=gE();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?$O():uJ();o(l)}else{const l=lJ();o(l)}};this.canceled_?n(!1,new Gh(!1,null,!0)):this.backoffId_=vJ(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&wJ(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Gh{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function SJ(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function bJ(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function CJ(t,e){e&&(t["X-Firebase-GMPID"]=e)}function RJ(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function IJ(t,e,n,r,i,s,o=!0){const a=zO(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return CJ(u,e),SJ(u,n),bJ(u,s),RJ(u,r),new xJ(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PJ(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function AJ(...t){const e=PJ();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(vE())return new Blob(t);throw new _t(wt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function kJ(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NJ(t){if(typeof atob>"u")throw mJ("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class hy{constructor(e,n){this.data=e,this.contentType=n||null}}function DJ(t,e){switch(t){case Kr.RAW:return new hy(WO(e));case Kr.BASE64:case Kr.BASE64URL:return new hy(KO(t,e));case Kr.DATA_URL:return new hy(OJ(e),LJ(e))}throw gE()}function WO(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function MJ(t){let e;try{e=decodeURIComponent(t)}catch{throw wc(Kr.DATA_URL,"Malformed data URL.")}return WO(e)}function KO(t,e){switch(t){case Kr.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw wc(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Kr.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw wc(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=NJ(e)}catch(i){throw i.message.includes("polyfill")?i:wc(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class HO{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw wc(Kr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=VJ(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function OJ(t){const e=new HO(t);return e.base64?KO(Kr.BASE64,e.rest):MJ(e.rest)}function LJ(t){return new HO(t).contentType}function VJ(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(e,n){let r=0,i="";BC(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(BC(this.data_)){const r=this.data_,i=kJ(r,e,n);return i===null?null:new hs(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new hs(r,!0)}}static getBlob(...e){if(vE()){const n=e.map(r=>r instanceof hs?r.data_:r);return new hs(AJ.apply(null,n))}else{const n=e.map(o=>yE(o)?DJ(Kr.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new hs(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GO(t){let e;try{e=JSON.parse(t)}catch{return null}return EJ(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FJ(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function jJ(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function qO(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UJ(t,e){return e}class yn{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||UJ}}let qh=null;function BJ(t){return!yE(t)||t.length<2?t:qO(t)}function QO(){if(qh)return qh;const t=[];t.push(new yn("bucket")),t.push(new yn("generation")),t.push(new yn("metageneration")),t.push(new yn("name","fullPath",!0));function e(s,o){return BJ(o)}const n=new yn("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new yn("size");return i.xform=r,t.push(i),t.push(new yn("timeCreated")),t.push(new yn("updated")),t.push(new yn("md5Hash",null,!0)),t.push(new yn("cacheControl",null,!0)),t.push(new yn("contentDisposition",null,!0)),t.push(new yn("contentEncoding",null,!0)),t.push(new yn("contentLanguage",null,!0)),t.push(new yn("contentType",null,!0)),t.push(new yn("metadata","customMetadata",!0)),qh=t,qh}function $J(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new $n(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function zJ(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return $J(r,t),r}function YO(t,e,n){const r=GO(e);return r===null?null:zJ(t,r,n)}function WJ(t,e,n,r){const i=GO(e);if(i===null||!yE(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(u=>{const d=t.bucket,h=t.fullPath,f="/b/"+o(d)+"/o/"+o(h),p=wE(f,n,r),T=zO({alt:"media",token:u});return p+T})[0]}function KJ(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class XO{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JO(t){if(!t)throw gE()}function HJ(t,e){function n(r,i){const s=YO(t,i,e);return JO(s!==null),s}return n}function GJ(t,e){function n(r,i){const s=YO(t,i,e);return JO(s!==null),WJ(s,i,t.host,t._protocol)}return n}function ZO(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=oJ():i=sJ():n.getStatus()===402?i=iJ(t.bucket):n.getStatus()===403?i=aJ(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function qJ(t){const e=ZO(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=rJ(t.path)),s.serverResponse=i.serverResponse,s}return n}function QJ(t,e,n){const r=e.fullServerUrl(),i=wE(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new XO(i,s,GJ(t,n),o);return a.errorHandler=qJ(e),a}function YJ(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function XJ(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=YJ(null,e)),r}function JJ(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let b="";for(let I=0;I<2;I++)b=b+Math.random().toString().slice(2);return b}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const u=XJ(e,r,i),d=KJ(u,n),h="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,f=`\r
--`+l+"--",p=hs.getBlob(h,r,f);if(p===null)throw fJ();const T={name:u.fullPath},g=wE(s,t.host,t._protocol),x="POST",E=t.maxUploadRetryTime,_=new XO(g,x,HJ(t,n),E);return _.urlParams=T,_.headers=o,_.body=p.uploadData(),_.errorHandler=ZO(e),_}class ZJ{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=$o.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=$o.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=$o.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw Uu("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Uu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Uu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Uu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Uu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class eZ extends ZJ{initXhr(){this.xhr_.responseType="text"}}function eL(){return new eZ}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(e,n){this._service=e,n instanceof $n?this._location=n:this._location=$n.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new ra(e,n)}get root(){const e=new $n(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return qO(this._location.path)}get storage(){return this._service}get parent(){const e=FJ(this._location.path);if(e===null)return null;const n=new $n(this._location.bucket,e);return new ra(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw gJ(e)}}function tZ(t,e,n){t._throwIfRoot("uploadBytes");const r=JJ(t.storage,t._location,QO(),new hs(e,!0),n);return t.storage.makeRequestWithTokens(r,eL).then(i=>({metadata:i,ref:t}))}function nZ(t){t._throwIfRoot("getDownloadURL");const e=QJ(t.storage,t._location,QO());return t.storage.makeRequestWithTokens(e,eL).then(n=>{if(n===null)throw pJ();return n})}function rZ(t,e){const n=jJ(t._location.path,e),r=new $n(t._location.bucket,n);return new ra(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iZ(t){return/^[A-Za-z]+:\/\//.test(t)}function sZ(t,e){return new ra(t,e)}function tL(t,e){if(t instanceof _E){const n=t;if(n._bucket==null)throw hJ();const r=new ra(n,n._bucket);return e!=null?tL(r,e):r}else return e!==void 0?rZ(t,e):t}function oZ(t,e){if(e&&iZ(e)){if(t instanceof _E)return sZ(t,e);throw yw("To use ref(service, url), the first argument must be a Storage instance.")}else return tL(t,e)}function zC(t,e){const n=e==null?void 0:e[BO];return n==null?null:$n.makeFromBucketSpec(n,t)}function aZ(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:CI(i,t.app.options.projectId))}class _E{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=UO,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=tJ,this._maxUploadRetryTime=nJ,this._requests=new Set,i!=null?this._bucket=$n.makeFromBucketSpec(i,this._host):this._bucket=zC(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=$n.makeFromBucketSpec(this._url,e):this._bucket=zC(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){$C("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){$C("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ra(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new yJ($O());{const o=IJ(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const WC="@firebase/storage",KC="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nL="storage";function lZ(t,e,n){return t=Dn(t),tZ(t,e,n)}function uZ(t){return t=Dn(t),nZ(t)}function cZ(t,e){return t=Dn(t),oZ(t,e)}function dZ(t=g0(),e){t=Dn(t);const r=Hp(t,nL).getImmediate({identifier:e}),i=xI("storage");return i&&hZ(r,...i),r}function hZ(t,e,n,r={}){aZ(t,e,n,r)}function fZ(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new _E(n,r,i,e,oa)}function pZ(){qo(new Bs(nL,fZ,"PUBLIC").setMultipleInstances(!0)),qr(WC,KC,""),qr(WC,KC,"esm2017")}pZ();const mZ={apiKey:"AIzaSyCcGOA39OO2Wvae8CZj1rMsuueF-4Zbs7Y",authDomain:"cob-chatbot.firebaseapp.com",projectId:"cob-chatbot",storageBucket:"cob-chatbot.appspot.com",messagingSenderId:"275602489097",appId:"1:275602489097:web:5c490d86e9f69e1314ddd8"},rL=PI(mZ),iL=LX(rL),gZ=dZ(rL),HC=async(t,e,n)=>{try{const r=cZ(gZ,`${e}/${n}`),i=await lZ(r,t);return await uZ(i.ref)}catch(r){console.log(r)}},yZ=async(t,e,n)=>{try{const r=RO(iL,t,e);await JX(r,n)}catch(r){console.error("Error adding document: ",r)}},vZ=async(t,e)=>{const n=RO(iL,t,e),r=await YX(n);if(r.exists())return r;console.log("No such document!")},wZ=async()=>{const t=await vZ("profile","botProfile");return t==null?void 0:t.data()},GC="image",_Z=async(t,e,n,r=[])=>{try{const i=r.reduce((l,u)=>({...l,[u.key]:u.value}),{}),s=await HC(t,GC,"interaction-icon"),o=await HC(e,GC,"widget-icon");await yZ("profile","botProfile",{interactionIconURL:s,widgetIconUrl:o,botName:n,metadata:i}),hP("Upload bot profile success")}catch(i){console.log(i)}},EZ=t=>Object.entries(t).map(([e,n])=>({id:Date.now().toString(),key:e,value:n})),TZ=()=>{const t=it(g=>g.interactionIcon),e=it(g=>g.interactionIconPreview),n=it(g=>g.setInteractionIconPreview),r=it(g=>g.widgetIcon),i=it(g=>g.widgetIconPreview),s=it(g=>g.setWidgetIconPreview),o=it(g=>g.botName),a=it(g=>g.setBotName),l=it(g=>g.metadata),u=it(g=>g.setMetadata),[d,h]=y.useState(!1),[f,p]=y.useState(!0);return y.useEffect(()=>{(async()=>{p(!0);const x=await wZ();if(!x)return;a(x.botName),n(x.interactionIconURL),s(x.widgetIconUrl);const E=EZ(x.metadata);u(E),p(!1)})()},[]),{isLoading:d,handleSubmitForm:async()=>{if(t&&r&&o){h(!0),await _Z(t,r,o,l),h(!1);return}e&&i&&o||window.alert("Please fill all required inputs")},isPageLoading:f}},xZ=()=>v.jsxs("section",{className:"flex-1 flex-col space-y-4",children:[v.jsxs("div",{className:"flex-1 bg-white border border-customBorderColor rounded-lg px-8 py-4",children:[v.jsx("header",{className:"text-2xl font-medium pb-5",children:"Bot Profile"}),v.jsxs("div",{className:"flex flex-col gap-2",children:[v.jsx(Pt,{className:"h-4 w-16"}),v.jsx(Pt,{className:"h-10 w-full mb-3"}),v.jsx(Pt,{className:"h-4 w-24"}),v.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[v.jsx(Pt,{className:"size-[64px] rounded-full"}),v.jsx(Pt,{className:"h-9 w-36"}),v.jsx(Pt,{className:"h-9 w-36"})]}),v.jsx(Pt,{className:"h-4 w-24"}),v.jsxs("div",{className:"flex items-center space-x-4",children:[v.jsx(Pt,{className:"size-[64px] rounded-full"}),v.jsx(Pt,{className:"h-9 w-36"}),v.jsx(Pt,{className:"h-9 w-36"})]})]})]}),v.jsxs("div",{className:"flex-1 bg-white border border-customBorderColor rounded-lg px-8 py-4",children:[v.jsx("header",{className:"text-2xl font-medium pb-5",children:"Additional Information"}),v.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[v.jsx(Pt,{className:"flex-1 h-10"}),v.jsx(Pt,{className:"flex-1 h-10"}),v.jsx(Pt,{className:"w-10 h-10"})]}),v.jsx(Pt,{className:"h-9 w-36"})]}),v.jsxs("div",{className:"flex-1 bg-white border border-customBorderColor rounded-lg px-8 py-4",children:[v.jsx("header",{className:"text-2xl font-medium pb-5",children:"Preview"}),v.jsx(Pt,{className:"h-[28rem] w-full mb-2"})]}),v.jsx(Pt,{className:"bg-blue-200 h-10 w-full"})]}),SZ=()=>{const{isLoading:t,handleSubmitForm:e,isPageLoading:n}=TZ();return n?v.jsx(xZ,{}):v.jsxs("section",{className:"flex-1 flex-col space-y-4",children:[v.jsxs("div",{className:"flex-1 bg-white border border-customBorderColor rounded-lg px-8 py-4",children:[v.jsx("header",{className:"text-2xl font-medium pb-5",children:"Bot Profile"}),v.jsx(Lq,{})]}),v.jsxs("div",{className:"flex-1 bg-white border border-customBorderColor rounded-lg px-8 py-4",children:[v.jsx("header",{className:"text-2xl font-medium pb-5",children:"Additional Information"}),v.jsx(jq,{})]}),v.jsxs("div",{className:"flex-1 bg-white border border-customBorderColor rounded-lg px-8 py-4",children:[v.jsx("header",{className:"text-2xl font-medium",children:"Preview"}),v.jsx(Fq,{})]}),v.jsx("footer",{className:"mt-4 pb-4",children:v.jsx(Lt,{className:"w-full bg-blue-600 hover:bg-blue-700",disabled:t,onClick:async()=>await e(),children:t?v.jsx(Uq,{}):"Save changes"})})]})},bZ=Rm("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function CZ({className:t,variant:e,...n}){return v.jsx("div",{className:et(bZ({variant:e}),t),...n})}const RZ=[{id:"team",icon:v.jsx(N3,{}),label:"Team",comingSoon:!0},{id:"botProfile",icon:v.jsx(M3,{}),label:"Bot Profile",comingSoon:!1}],IZ=({onTabChange:t,activeTab:e})=>v.jsx("nav",{className:"w-[14rem] px-2 space-y-2 text-htext font-medium",children:RZ.map(n=>v.jsxs("div",{className:"relative group",children:[v.jsxs("li",{className:et("flex items-center gap-3 py-3 px-2  cursor-pointer rounded-md transition-colors hover:text-opacity-80",e===n.id?"bg-blue-600 text-white":"hover:bg-slate-100 text-opacity-100"),onClick:()=>t(n.id),children:[n.icon," ",n.label]}),n.comingSoon&&v.jsx(CZ,{variant:"secondary",className:"absolute -top-2 right-0 text-[10px] font-normal px-1 py-0.5 bg-blue-100 text-blue-800 opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:"Coming Soon"})]},n.id))}),PZ="/assets/person_coding-DFz14H7L.png",AZ=()=>v.jsxs("section",{className:"flex-1 flex flex-col items-center justify-center bg-white border border-customBorderColor rounded-lg px-8 py-8 overflow-y-auto",children:[v.jsx("img",{src:PZ,alt:"Coming soon image",className:"w-[24rem] mb-4"}),v.jsx("h2",{className:"text-2xl font-semibold text-gray-800",children:"Team Settings"}),v.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4 w-full max-w-md my-4",role:"alert",children:v.jsxs("div",{className:"flex items-center",children:[v.jsx(Q3,{className:"h-6 w-6 text-yellow-400 mr-4"}),v.jsxs("div",{children:[v.jsx("p",{className:"font-bold text-yellow-700",children:"Work in Progress"}),v.jsx("p",{className:"text-yellow-700 mt-1",children:"We're currently developing team management features. Check back soon for updates!"})]})]})}),v.jsx("p",{className:"text-gray-600 text-center max-w-md",children:"In the meantime, you can explore other settings or reach out to our support team if you have any questions."})]}),kZ=()=>{const{currentTab:t,setActiveTab:e}=$D("botProfile");return v.jsxs("section",{className:"flex space-x-2",children:[v.jsx(IZ,{activeTab:t,onTabChange:e}),t==="team"&&v.jsx(AZ,{}),t==="botProfile"&&v.jsx(SZ,{})]})},NZ=()=>v.jsx("header",{className:"py-4 text-3xl font-semibold",children:"Settings"}),DZ=()=>v.jsxs("div",{className:"flex flex-col w-[84rem] px-20 space-y-6",children:[v.jsx(NZ,{}),v.jsx(kZ,{})]}),MZ=({id:t,text:e,onChange:n,checked:r})=>v.jsxs(v.Fragment,{children:[v.jsx("input",{type:"radio",id:t,name:"nav-btn",value:e,className:"hidden peer",checked:r,onChange:n}),v.jsx("label",{htmlFor:t,className:"flex-1 flex w-[190px] justify-center items-center py-3 px-4 cursor-pointer uppercase text-sm font-[500]",children:e})]}),OZ=({labels:t,selectedTab:e,setSelectedTab:n})=>{const r=i=>{n(i)};return v.jsx("nav",{className:"tabs relative flex after:absolute after:bottom-0 after:pointer-events-none after:border after:border-blue-500",children:t==null?void 0:t.map(i=>v.jsx(MZ,{id:i,text:i,checked:e==i,onChange:()=>r(i)},i))})},LZ={chatbot:v8,settings:DZ,knowledge:kq},VZ=()=>{const[t,e]=y.useState("chatbot"),n=["chatbot","knowledge","settings"],r=LZ[t]||null;return v.jsxs("div",{className:"min-h-[100dvh] flex flex-col bg-[#F8F9FB] scrollbar-slim",children:[v.jsxs(L5,{text:lk.siteName,children:[v.jsx(OZ,{labels:n,selectedTab:t,setSelectedTab:e}),v.jsx("hr",{className:"w-full border-neutral-300"})]}),r&&v.jsx(V5,{Component:r})]})},FZ=()=>{const t=Al(n=>n.isAuth),e=new SG;return I3(),t?v.jsx(PG,{client:e,children:v.jsx("main",{children:v.jsx(VZ,{})})}):v.jsx(DP,{to:"/login"})};var jZ="Label",sL=y.forwardRef((t,e)=>v.jsx(je.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));sL.displayName=jZ;var oL=sL;const UZ=Rm("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),vw=y.forwardRef(({className:t,...e},n)=>v.jsx(oL,{ref:n,className:et(UZ(),t),...e}));vw.displayName=oL.displayName;const BZ=Rm("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),aL=y.forwardRef(({className:t,variant:e,...n},r)=>v.jsx("div",{ref:r,role:"alert",className:et(BZ({variant:e}),t),...n}));aL.displayName="Alert";const $Z=y.forwardRef(({className:t,...e},n)=>v.jsx("h5",{ref:n,className:et("mb-1 font-medium leading-none tracking-tight",t),...e}));$Z.displayName="AlertTitle";const lL=y.forwardRef(({className:t,...e},n)=>v.jsx("div",{ref:n,className:et("text-sm [&_p]:leading-relaxed",t),...e}));lL.displayName="AlertDescription";const zZ=async(t,e)=>{const r=await hm("/api/auth/login",{},{email:t,password:e});if(!r.success)throw new Error("Error loggin in");return r.accessToken},WZ=async(t,e)=>await zZ(t,e),KZ=()=>{const t=k0(),[e,n]=y.useState(""),[r,i]=y.useState(""),[s,o]=y.useState(""),[a,l]=y.useState(!1),[u,d]=y.useState(!1),h=Al(g=>g.login),f=Al(g=>g.isAuth),p=async g=>{g.preventDefault(),o(""),l(!0);try{const x=await WZ(e,r);h(x),t("/")}catch(x){console.log(x),o("An error occurred. Please try again.")}finally{l(!1)}},T=()=>{d(!u)};return f?v.jsx(DP,{to:"/"}):v.jsxs("div",{className:"min-h-screen flex items-center justify-center p-4 bg-gradient-to-r from-gray-100 to-gray-200 relative",children:[v.jsx("div",{className:"absolute inset-0 opacity-10 bg-cover bg-center z-0",style:{backgroundImage:"url('/placeholder.svg?height=1080&width=1920')",filter:"blur(3px)"},"aria-hidden":"true"}),v.jsxs(Im,{className:"w-full max-w-md z-10",children:[v.jsxs(vD,{children:[v.jsx(wD,{className:"text-2xl font-bold text-center",children:"Welcome Back"}),v.jsx(_D,{className:"text-center",children:"Please sign in to your account"})]}),v.jsx(Pm,{children:v.jsxs("form",{onSubmit:p,className:"space-y-4",children:[v.jsxs("div",{className:"space-y-2",children:[v.jsx(vw,{htmlFor:"email",children:"Email"}),v.jsx(Nn,{id:"email",type:"email",placeholder:"you@example.com",value:e,onChange:g=>n(g.target.value),required:!0})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(vw,{htmlFor:"password",children:"Password"}),v.jsxs("div",{className:"relative",children:[v.jsx(Nn,{id:"password",type:u?"text":"password",value:r,onChange:g=>i(g.target.value),required:!0}),v.jsx(Lt,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:T,"aria-label":u?"Hide password":"Show password",children:u?v.jsx(U3,{className:"h-4 w-4 text-gray-500"}):v.jsx(B3,{className:"h-4 w-4 text-gray-500"})})]})]}),s&&v.jsxs(aL,{variant:"destructive",children:[v.jsx(V3,{className:"h-4 w-4"}),v.jsx(lL,{children:s})]}),v.jsx(Lt,{type:"submit",className:"w-full",disabled:a,children:a?"Signing In...":"Sign In"})]})}),v.jsxs(ED,{className:"flex flex-col items-center justify-center space-y-2",children:[v.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"Powered by cob-chatbot"}),v.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"Intelligent conversations, seamless interactions"})]})]})]})},HZ=()=>v.jsx("div",{children:"Error Page"}),GZ=g3([{path:"/",element:v.jsx(FZ,{}),errorElement:v.jsx(HZ,{})},{path:"/login",element:v.jsx(KZ,{})}]);fy.createRoot(document.getElementById("root")).render(v.jsx(jr.StrictMode,{children:v.jsx(b3,{router:GZ})}));
